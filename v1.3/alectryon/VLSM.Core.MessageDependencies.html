<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>MessageDependencies.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+â†‘</kbd> <kbd>Ctrl+â†“</kbd> to navigate, <kbd>Ctrl+ğŸ–±ï¸</kbd> to focus. On Mac, use <kbd>âŒ˜</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk0"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Itauto.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras FinSetExtras.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM VLSMProjections Composition ProjectionTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> SubProjectionTraces Equivocation EquivocationProjections.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Core: VLSM Message Dependencies</h1>
<div class="paragraph"> </div>

  An abstract framework for the full-node condition.
  Assumes that each message has an associated set of <code>message_dependencies</code>.

<div class="paragraph"> </div>

  Given a <code>message_dependencies</code> function, we can define a (direct) message
  dependency relation <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span> as follows:
  message <code>m1</code> is a (direct) dependency of message <code>m2</code> if <code>m1</code> belongs
  to the <code>message_dependencies</code> of <code>m2</code>.

<div class="paragraph"> </div>

  The transitive closure of such a relation is a happens-before relation which
  we denote by <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_rel</span>
  `{FinSet message Cm} `(message_dependencies : message -&gt; Cm) : relation message :=
  <span class="kr">fun</span> <span class="nv">m1</span> <span class="nv">m2</span> =&gt; m1 âˆˆ message_dependencies m2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_happens_before</span>
  `{FinSet message Cm} `(message_dependencies : message -&gt; Cm) : relation message :=
  tc (msg_dep_rel message_dependencies).</span></span></pre><div class="doc">
  The (local) full node condition for a given <code>message_dependencies</code> function
  requires that a state (receiving the message) has previously directly observed
  all of <code>m</code>'s dependencies.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">message_dependencies_full_node_condition</span>
  `(X : VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `{HasBeenSentCapability message X}
  `{HasBeenReceivedCapability message X}
  (s : state X)
  (m : message)
  : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ message_dependencies m -&gt; has_been_directly_observed X s dm.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> characterize a <code>message_dependencies</code> function
  through two properties:

<div class="paragraph"> </div>
<ul class="doclist">
<li> Necessity: All dependent messages for a message <code>m</code>m are required to be

</li>
</ul>
  directly observed by origin state of a transition emitting the message <code>m</code>.

<div class="paragraph"> </div>
<ul class="doclist">
<li> Sufficiency: A message can be produced by the machine preloaded with its

</li>
</ul>
  dependencies.

<div class="paragraph"> </div>

  Additionally, we require that the induced <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> relation
  is irreflexive (i.e., a message cannot recursively observe itself).

<div class="paragraph"> </div>
<span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span>, together with <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition_prop</span></span>,
  constitute the <i>strict full node assumption</i>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">MessageDependencies</span>
  `(X : VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `{!HasBeenSentCapability X}
  `{!HasBeenReceivedCapability X}
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  : <span class="kt">Prop</span> :=
{
  message_dependencies_are_necessary (m : message)
    `(can_produce (preloaded_with_all_messages_vlsm X) s&#39; m)
    : message_dependencies_full_node_condition X message_dependencies s&#39; m;
  message_dependencies_are_sufficient (m : message)
    `(can_emit (preloaded_with_all_messages_vlsm X) m)
    : can_emit (preloaded_vlsm X (<span class="kr">fun</span> <span class="nv">msg</span> =&gt; msg âˆˆ message_dependencies m)) m
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(*</span>
<span class="c">  Given the VLSM for which it&#39;s defined, the other arguments (message,</span>
<span class="c">  message_dependencies function, [HasBeenSentCapability] and</span>
<span class="c">  [HasBeenReceivedCapability]) can be inferred from that.</span>
<span class="c">*)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Hint Mode</span> MessageDependencies - ! - - - - - - - - - - - - - - : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `(X : VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `{!HasBeenSentCapability X}
  `{!HasBeenReceivedCapability X}
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  `{!MessageDependencies X message_dependencies}
  .</span></span></pre><div class="doc">
  A VLSM has the <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition_prop</span></span>
  if the validity of receiving a message in a state implies the
  <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition</span></span> for that state and message

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">message_dependencies_full_node_condition_prop</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">m</span>,
  valid X l (s, Some m) -&gt;
  message_dependencies_full_node_condition X message_dependencies s m.</span></span></pre><div class="doc">
Unrolling one the <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> relation one step. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_iff_one</span> <span class="nv">x</span> <span class="nv">z</span>
  : msg_dep_happens_before message_dependencies x z &lt;-&gt;
    msg_dep_rel message_dependencies x z \/
    <span class="kr">exists</span> <span class="nv">y</span>, msg_dep_happens_before message_dependencies x y /\ msg_dep_rel message_dependencies y z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies x z
â†” msg_dep_rel message_dependencies x z
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
       msg_dep_happens_before message_dependencies x y
       âˆ§ msg_dep_rel message_dependencies y z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies x z
â†” msg_dep_rel message_dependencies x z
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
       msg_dep_happens_before message_dependencies x y
       âˆ§ msg_dep_rel message_dependencies y z)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tc_r_iff.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If the <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span>ation reflects a predicate <code>P</code>, then
  <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> will also reflect it.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_reflect</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hreflects</span> : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt; P m -&gt; P dm)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_happens_before message_dependencies dm m -&gt; P m -&gt; P dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ P m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ P m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tc_reflect.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  In the absence of initial messages, and if <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span>ation reflects
  the preloaded message property, then it also reflects the
  <span class="inlinecode"><span class="id" title="var">valid_message_prop</span></span>erty.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_validity</span>
  (<span class="nv">no_initial_messages_in_X</span> : <span class="kr">forall</span> <span class="nv">m</span>, ~ initial_message_prop X m)
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hreflects</span> : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt; P m -&gt; P dm)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
    valid_message_prop (preloaded_vlsm X P) m -&gt;
    valid_message_prop (preloaded_vlsm X P) dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop (preloaded_vlsm X P) m
    â†’ valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop (preloaded_vlsm X P) m
    â†’ valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7"><span class="nb">intros</span> dm m Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (preloaded_vlsm X P) m
â†’ valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8"><span class="nb">rewrite</span> emitted_messages_are_valid_iff, can_emit_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">s</span> : state (preloaded_vlsm X P),
     can_produce (preloaded_vlsm X P) s m)
â†’ valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9"><span class="nb">intros</span> [Hinit | [s Hproduce]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (preloaded_vlsm X P) dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm X P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (preloaded_vlsm X P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chka"><hr></label><div class="goal-conclusion">valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc"><span class="nb">rewrite</span> emitted_messages_are_valid_iff; <span class="nb">left</span>; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd"><span class="nb">apply</span> Hreflects <span class="kr">with</span> m; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke"><span class="nb">destruct</span> Hinit <span class="kr">as</span> [Hinit | Hp]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Hinit; <span class="nb">apply</span> no_initial_messages_in_X.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm X P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (preloaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk10"><span class="nb">apply</span> (directly_observed_valid (preloaded_vlsm X P) s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm X P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (preloaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_vlsm X P) s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk11" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm X P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (preloaded_vlsm X P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk11"><hr></label><div class="goal-conclusion">has_been_directly_observed (preloaded_vlsm X P) s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm X P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (preloaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_vlsm X P) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> (<span class="nv">Some</span> <span class="nv">m</span>); <span class="nb">apply</span> can_produce_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk13">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm X P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (preloaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed (preloaded_vlsm X P) s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk14"><span class="nb">destruct</span> X <span class="kr">as</span> [T M].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P) s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15"><span class="nb">eapply</span> VLSM_incl_has_been_directly_observed
        <span class="kr">with</span> HasBeenSentCapability0 HasBeenReceivedCapability0; <span class="nb">cycle</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed
  {| vlsm_type := T; vlsm_machine := M |} s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk16"><hr></label><div class="goal-conclusion">VLSM_incl
  (preloaded_with_all_messages_vlsm
     {| vlsm_type := T; vlsm_machine := M |})
  (preloaded_with_all_messages_vlsm
     {|
       vlsm_type := T;
       vlsm_machine :=
         preloaded_vlsm_machine
           {| vlsm_type := T; vlsm_machine := M |} P
     |})</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk17" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk17"><hr></label><div class="goal-conclusion">constrained_state_prop
  {| vlsm_type := T; vlsm_machine := M |} s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed
  {| vlsm_type := T; vlsm_machine := M |} s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19"><span class="nb">eapply</span> @message_dependencies_are_necessary; [<span class="bp">done</span> | | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_produce
  (preloaded_with_all_messages_vlsm
     {| vlsm_type := T; vlsm_machine := M |}) s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (VLSM_incl_can_produce
          (preloaded_vlsm_incl_preloaded_with_all_messages (mk_vlsm M) P)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (preloaded_with_all_messages_vlsm
     {| vlsm_type := T; vlsm_machine := M |})
  (preloaded_with_all_messages_vlsm
     {|
       vlsm_type := T;
       vlsm_machine :=
         preloaded_vlsm_machine
           {| vlsm_type := T; vlsm_machine := M |} P
     |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> basic_VLSM_incl_preloaded; <span class="nb">cbv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1b">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop
  {| vlsm_type := T; vlsm_machine := M |} s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1c"><span class="nb">apply</span> (VLSM_incl_valid_state
          (preloaded_vlsm_incl_preloaded_with_all_messages (mk_vlsm M) P)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMMachine T</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  {|
    vlsm_type := T;
    vlsm_machine := M
  |}</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies
  {|
    vlsm_type := T;
    vlsm_machine := M
  |} message_dependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ initial_message_prop m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_vlsm
     {| vlsm_type := T; vlsm_machine := M |} P)</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce
  (preloaded_vlsm
     {|
       vlsm_type := T; vlsm_machine := M
     |} P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  {|
    vlsm_type :=
      preloaded_vlsm
        {| vlsm_type := T; vlsm_machine := M |} P;
    vlsm_machine :=
      preloaded_vlsm
        {| vlsm_type := T; vlsm_machine := M |} P
  |} s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>; <span class="nb">eapply</span> can_produce_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Under <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> assumptions, if a message <span class="inlinecode"><span class="id" title="var">has_been_sent</span></span>
  in a state <code>s</code>, then any of its direct dependencies <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1d"><span class="kn">Lemma</span> <span class="nf">msg_dep_has_been_sent</span>
  <span class="nv">s</span>
  (<span class="nv">Hs</span> : constrained_state_prop X s)
  <span class="nv">m</span>
  (<span class="nv">Hsent</span> : has_been_sent X s m)
  : <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel message_dependencies dm m -&gt; has_been_directly_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1f"><span class="nb">revert</span> m Hsent; <span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind; <span class="nb">intro</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent X s m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_sent X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk20"><hr></label><div class="goal-conclusion">has_been_sent X s&#39; m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s&#39; dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk21">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent X s m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk22"><span class="nb">intro</span> Hbs; <span class="bp">contradict</span> Hbs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ has_been_sent X s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> has_been_sent_no_inits.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk23">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_sent X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent X s&#39; m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk24"><span class="nb">rewrite</span> has_been_sent_step_update <span class="bp">by</span> <span class="bp">done</span>; <span class="nb">intros</span> [-&gt; | Hrcv] dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, Some m)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_sent X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s&#39; dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_sent X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hrcv</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk25"><hr></label><div class="goal-conclusion">has_been_directly_observed X s&#39; dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk26">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, Some m)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_sent X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> message_dependencies_are_necessary; [<span class="nb">eexists</span> _, _ |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk27">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_sent X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hrcv</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> has_been_directly_observed_step_update; [<span class="bp">done</span> |]; <span class="nb">right</span>; <span class="nb">eapply</span> IHHs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk28"><span class="kn">Lemma</span> <span class="nf">constrained_transition_preserves_message_dependencies_full_node_condition</span>
  `(input_constrained_transition X lX (s, im) (s&#39;, om)) :
  <span class="kr">forall</span> <span class="nv">m</span>, message_dependencies_full_node_condition X message_dependencies s m -&gt;
    message_dependencies_full_node_condition X message_dependencies s&#39; m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>input_constrained_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition
  X lX (s, im)
  (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  message_dependencies_full_node_condition X
    message_dependencies s m
  â†’ message_dependencies_full_node_condition X
      message_dependencies s&#39; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk29"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>input_constrained_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition
  X lX (s, im)
  (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  message_dependencies_full_node_condition X
    message_dependencies s m
  â†’ message_dependencies_full_node_condition X
      message_dependencies s&#39; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2a"><span class="nb">intros</span> m Hm dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>input_constrained_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition
  X lX (s, im)
  (s&#39;, om)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition X
  message_dependencies s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2b"><span class="nb">eapply</span> has_been_directly_observed_step_update; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>input_constrained_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition
  X lX (s, im)
  (s&#39;, om)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition X
  message_dependencies s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(im = Some dm âˆ¨ om = Some dm)
âˆ¨ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">apply</span> Hm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If the <span class="inlinecode"><span class="id" title="var">valid</span></span>ity predicate has the <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition_prop</span></span>erty,
  then if a message <span class="inlinecode"><span class="id" title="var">has_been_received</span></span> in a state <code>s</code>, any of its direct
  dependencies <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2c"><span class="kn">Lemma</span> <span class="nf">full_node_has_been_received</span>
  (<span class="nv">Hfull</span> : message_dependencies_full_node_condition_prop)
  <span class="nv">s</span>
  (<span class="nv">Hs</span> : constrained_state_prop X s)
  <span class="nv">m</span>
  (<span class="nv">Hreceived</span> : has_been_received X s m)
  : <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel message_dependencies dm m -&gt; has_been_directly_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2e"><span class="nb">revert</span> m Hreceived; <span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind; <span class="nb">intro</span> m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_received X s m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_received X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk2f"><hr></label><div class="goal-conclusion">has_been_received X s&#39; m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s&#39; dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk30">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_received X s m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk31"><span class="nb">intro</span> Hbr; <span class="bp">contradict</span> Hbr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ has_been_received X s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> has_been_received_no_inits.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk32">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_received X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_received X s&#39; m
â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
    msg_dep_rel message_dependencies dm m
    â†’ has_been_directly_observed X s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk33"><span class="nb">rewrite</span> has_been_received_step_update <span class="bp">by</span> <span class="bp">done</span>; <span class="nb">intros</span> [-&gt; | Hrcv] dm Hdm
    ; <span class="nb">rewrite</span> has_been_directly_observed_step_update <span class="bp">by</span> <span class="bp">done</span>; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l
  (s, Some m) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_received X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_received X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hrcv</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk34"><hr></label><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk35">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l
  (s, Some m) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_received X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hfull; [<span class="nb">apply</span> Ht |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk36">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  has_been_received X s m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ has_been_directly_observed X s dm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hrcv</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> IHHs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  By combining Lemmas <span class="inlinecode"><span class="id" title="var">msg_dep_has_been_sent</span></span> and <span class="inlinecode"><span class="id" title="var">full_node_has_been_received</span></span>,
  the <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span>ation reflects the <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span> predicate.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk37"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_reflects_has_been_directly_observed</span>
  (<span class="nv">Hfull</span> : message_dependencies_full_node_condition_prop)
  <span class="nv">s</span>
  (<span class="nv">Hs</span> : constrained_state_prop X s)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
    has_been_directly_observed X s m -&gt; has_been_directly_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk38"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk39"><span class="nb">intros</span> dm m Hdm [Hsent | Hreceived].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk3a"><hr></label><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> msg_dep_has_been_sent.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> full_node_has_been_received.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Under full-node assumptions, the <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> relation
  reflects the <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span> predicate.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3d"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span>
  (<span class="nv">Hfull</span> : message_dependencies_full_node_condition_prop)
  <span class="nv">s</span>
  (<span class="nv">Hs</span> : constrained_state_prop X s)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    has_been_directly_observed X s m -&gt; has_been_directly_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3f"><span class="nb">intros</span> dm m Hdm Hobs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk40"><span class="nb">eapply</span> msg_dep_happens_before_reflect; [| <span class="bp">done</span> ..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> msg_dep_full_node_reflects_has_been_directly_observed.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Under full-node assumptions, it is valid to receive a message in a state
  then any of its happens-before dependencies <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span> in that state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk41"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_input_valid_happens_before_has_been_directly_observed</span>
  (<span class="nv">Hfull</span> : message_dependencies_full_node_condition_prop)
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">m</span>
  (<span class="nv">Hvalid</span> : input_constrained X l (s, Some m))
  : <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    has_been_directly_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk43"><span class="nb">intro</span> dm; <span class="nb">rewrite</span> msg_dep_happens_before_iff_one; <span class="nb">intros</span> [Hdm | (dm&#39; &amp; Hdm&#39; &amp; Hdm)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk44"><hr></label><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk45">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hfull; [<span class="nb">apply</span> Hvalid |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk46">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk47"><span class="nb">eapply</span> msg_dep_happens_before_reflect; [| <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk48"><hr></label><div class="goal-conclusion">has_been_directly_observed X s dm&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk49">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ has_been_directly_observed X s m
    â†’ has_been_directly_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> msg_dep_full_node_reflects_has_been_directly_observed; [<span class="nb">apply</span> Hfull | <span class="nb">apply</span> Hvalid].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_constrained X l (s, Some m)</span></span></span><br><span><var>dm, dm'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm'</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm
  dm&#39;</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm&#39; m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s dm&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hfull; [<span class="nb">apply</span> Hvalid |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_message_dependencies</span>.</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Equivocation Based on Message Dependencies</h2>
<div class="paragraph"> </div>

  Inspired by the definitions of observability and local equivocation given for
  the ELMO protocol, we introduce abstract notions for local equivocation based
  on message dependencies.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_message_dependencies_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `(sender : message -&gt; option validator)
  `{!HasBeenSentCapability X}
  `{!HasBeenReceivedCapability X}
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  .</span></span></pre><div class="doc">
  A message can be (indirectly) observed in a state if it either has been directly
  observed in the state (as sent or received), or it happens before (in the sense
  of the <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> relation) a directly observed message.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">HasBeenObserved</span> (<span class="nv">s</span> : state X) (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
| hbo_directly :
    has_been_directly_observed X s m -&gt;
    HasBeenObserved s m
| hbo_indirectly :
    <span class="kr">forall</span> <span class="nv">m&#39;</span>,
      has_been_directly_observed X s m&#39; -&gt;
      msg_dep_happens_before message_dependencies m m&#39; -&gt;
      HasBeenObserved s m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4b"><span class="kn">Lemma</span> <span class="nf">transition_preserves_HasBeenObserved</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>, input_constrained_transition X l (s, im) (s&#39;, om) -&gt;
  <span class="kr">forall</span> <span class="nv">msg</span>, HasBeenObserved s msg -&gt; HasBeenObserved s&#39; msg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   X)) (<span class="nv">om</span> : option
                                               message),
  input_constrained_transition X l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      HasBeenObserved s msg â†’ HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   X)) (<span class="nv">om</span> : option
                                               message),
  input_constrained_transition X l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      HasBeenObserved s msg â†’ HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4d"><span class="nb">intros</span> * Ht msg Hbefore; <span class="nb">inversion</span> Hbefore <span class="kr">as</span> [Hobs | m Hobs Hdep].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s msg</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk4e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s msg</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk4e"><hr></label><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s msg</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>; <span class="nb">eapply</span> has_been_directly_observed_step_update; [| <span class="nb">right</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk50">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s msg</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">econstructor</span> <span class="mi">2</span>; [| <span class="bp">done</span>]; <span class="nb">eapply</span> has_been_directly_observed_step_update; [| <span class="nb">right</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk51"><span class="kn">Lemma</span> <span class="nf">HasBeenObserved_step_update</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>, input_constrained_transition X l (s, im) (s&#39;, om) -&gt;
  <span class="kr">forall</span> <span class="nv">msg</span>,
    HasBeenObserved s&#39; msg
      &lt;-&gt;
    HasBeenObserved s msg \/
    (<span class="kr">exists</span> <span class="nv">m</span>, (im = Some m \/ om = Some m) /\
      (msg = m \/ msg_dep_happens_before message_dependencies msg m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   X)) (<span class="nv">om</span> : option
                                               message),
  input_constrained_transition X l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      HasBeenObserved s&#39; msg
      â†” HasBeenObserved s msg
        âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
             (im = Some m âˆ¨ om = Some m)
             âˆ§ (msg = m
                âˆ¨ msg_dep_happens_before
                    message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk52"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   X)) (<span class="nv">om</span> : option
                                               message),
  input_constrained_transition X l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      HasBeenObserved s&#39; msg
      â†” HasBeenObserved s msg
        âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
             (im = Some m âˆ¨ om = Some m)
             âˆ§ (msg = m
                âˆ¨ msg_dep_happens_before
                    message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk53"><span class="nb">intros</span> * Ht msg; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg
â†’ HasBeenObserved s msg
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
       (im = Some m âˆ¨ om = Some m)
       âˆ§ (msg = m
          âˆ¨ msg_dep_happens_before
              message_dependencies msg m))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk54"><hr></label><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m)) â†’ HasBeenObserved s&#39; msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg
â†’ HasBeenObserved s msg
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
       (im = Some m âˆ¨ om = Some m)
       âˆ§ (msg = m
          âˆ¨ msg_dep_happens_before
              message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk56"><span class="nb">inversion</span> <span class="mi">1</span> <span class="kr">as</span> [Hobs&#39; | m&#39; Hobs&#39; Hdep];
      (<span class="nb">eapply</span> has_been_directly_observed_step_update <span class="kr">in</span> Hobs&#39;; [| <span class="bp">done</span>]);
      <span class="nb">destruct</span> Hobs&#39; <span class="kr">as</span> [Hnow | Hbefore].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some msg âˆ¨ om = Some msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s msg</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk57"><hr></label><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some m&#39; âˆ¨ om = Some m&#39;</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk58"><hr></label><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk59" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m&#39;</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk59"><hr></label><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some msg âˆ¨ om = Some msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">msg</span>; <span class="nb">split</span>; [| <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some m&#39; âˆ¨ om = Some m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">m&#39;</span>; <span class="nb">split</span>; [| <span class="nb">right</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">econstructor</span> <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m)) â†’ HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5f"><span class="nb">intros</span> [Hbefore | (m &amp; Hnow &amp; [&lt;- | Hdep])].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk60" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some msg âˆ¨ om = Some msg</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk60"><hr></label><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk61" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some m âˆ¨ om = Some m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk61"><hr></label><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk62">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> transition_preserves_HasBeenObserved.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk63">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some msg âˆ¨ om = Some msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>; <span class="nb">eapply</span> has_been_directly_observed_step_update; [| <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk64">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition X l (s, im) (s&#39;, om)</span></span></span><br><span><var>msg, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some m âˆ¨ om = Some m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">econstructor</span> <span class="mi">2</span>; [| <span class="bp">done</span>]; <span class="nb">eapply</span> has_been_directly_observed_step_update; [| <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Message <code>m1</code> is in relation <span class="inlinecode"><span class="id" title="var">ObservedBeforeSendTransition</span></span> with message <code>m2</code>
  if it <span class="inlinecode"><span class="id" title="var">HasBeenObserved</span></span> in a state from which <code>m2</code> can be emitted in the next
  step.

<div class="paragraph"> </div>

  Note that we use <span class="inlinecode"><span class="id" title="var">HasBeenObserved</span></span> instead of <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span>, which
  extends direct observability in a state (sent or received on a trace leading to
  that state) with the transitive closure of the <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span> (to include any
  message depending on a directly observed one).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">ObservedBeforeStateOrMessage</span>
  : message -&gt; state X -&gt; option message -&gt; <span class="kt">Prop</span> :=
| observed_before_state (m : message) (s : state X) (_oim : option message) :
    HasBeenObserved s m -&gt;
    ObservedBeforeStateOrMessage m s _oim
| observed_is_message (m : message) (_s : state X) :
    ObservedBeforeStateOrMessage m _s (Some m)
| observed_before_message (m : message) (_s : state X) (im : message) :
    msg_dep_happens_before message_dependencies m im -&gt;
    ObservedBeforeStateOrMessage m _s (Some im).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">ObservedBeforeSendTransition</span>
  (<span class="nv">s</span> : state X) (<span class="nv">item</span> : transition_item X) (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
{
  dobst_transition : input_constrained_transition_item X s item;
  dobst_output_m2 : output item = Some m2;
  dobst_observed_m1 : ObservedBeforeStateOrMessage m1 s (input item);
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">observed_before_send</span> (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">s</span> <span class="nv">item</span>, ObservedBeforeSendTransition s item m1 m2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk65"><span class="kn">Lemma</span> <span class="nf">observed_before_send_subsumes_msg_dep_rel</span>
  `{!MessageDependencies X message_dependencies} :
  <span class="kr">forall</span> <span class="nv">m</span>, can_emit (preloaded_with_all_messages_vlsm X) m -&gt;
  <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel message_dependencies dm m -&gt;
    observed_before_send dm m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit (preloaded_with_all_messages_vlsm X) m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk66"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit (preloaded_with_all_messages_vlsm X) m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk67"><span class="nb">intros</span> m ([s im] &amp; l &amp; s&#39; &amp; Ht) dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk68"><span class="kr">exists</span> <span class="nv">s</span>, {| l := l; input := im; destination := s&#39;; output := Some m |}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeSendTransition s
  {|
    l := l;
    input := im;
    destination := s&#39;;
    output := Some m
  |} dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk69"><span class="nb">constructor</span>; [<span class="bp">done</span>.. |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6a"><span class="nb">eapply</span> @message_dependencies_are_necessary <span class="kr">in</span> Hdm <span class="kr">as</span> Hobs; [| <span class="bp">done</span> | <span class="bp">by</span> <span class="nb">eexists</span> _, _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s&#39; dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6b"><span class="nb">eapply</span> has_been_directly_observed_step_update <span class="kr">in</span> Hobs <span class="kr">as</span> [[| Hout] |]; [.. | <span class="bp">done</span>]; <span class="nb">cycle</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk6c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>im = Some dm</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk6c"><hr></label><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk6d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>Some m = Some dm</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk6d"><hr></label><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">do</span> <span class="mi">2</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>im = Some dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span>; <span class="nb">cbn</span>; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk70">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, im) (s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>Some m = Some dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage dm s
  (input
     {|
       l := l;
       input := im;
       destination := s&#39;;
       output := Some m
     |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Hdm; <span class="nb">inversion</span> Hout; <span class="nb">apply</span> tc_reflect_irreflexive.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A pair of messages constitutes a (local) evidence of equivocation for a
  validator <code>v</code> in a state <code>s</code> if both messages have <code>v</code> as a sender, have
  been (indirectly) observed in <code>s</code> (see <span class="inlinecode"><span class="id" title="var">HasBeenObserved</span></span>), and are
  not comparable according to the <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> relation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">MsgDepLocalEquivocationEvidence</span>
  (<span class="nv">s</span> : state X) (<span class="nv">v</span> : validator) (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
{
  mdlee_sender1 : sender m1 = Some v;
  mdlee_sender2 : sender m2 = Some v;
  mdlee_observed1 : HasBeenObserved s m1;
  mdlee_observed2 : HasBeenObserved s m2;
  mdlee_incomparable : ~ comparable (msg_dep_happens_before message_dependencies) m1 m2;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_is_locally_equivocating</span> (<span class="nv">s</span> : state X) (<span class="nv">v</span> : validator) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">m1</span> <span class="nv">m2</span>, MsgDepLocalEquivocationEvidence s v m1 m2.</span></span></pre><div class="doc">
  Under the full-node assumptions, we can give a simpler alternative to
  <span class="inlinecode"><span class="id" title="var">MsgDepLocalEquivocationEvidence</span></span> which only requires that each message
  <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span> directly in the state. This relies on Lemma
  <span class="inlinecode"><span class="id" title="var">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">FullNodeLocalEquivocationEvidence</span>
  (<span class="nv">s</span> : state X) (<span class="nv">v</span> : validator) (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
{
  fnlee_sender1 : sender m1 = Some v;
  fnlee_sender2 : sender m2 = Some v;
  fnlee_observed1 : has_been_directly_observed X s m1;
  fnlee_observed2 : has_been_directly_observed X s m2;
  fnlee_incomparable : ~ comparable (msg_dep_happens_before message_dependencies) m1 m2;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">full_node_is_locally_equivocating</span> (<span class="nv">s</span> : state X) (<span class="nv">v</span> : validator) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">m1</span> <span class="nv">m2</span>, FullNodeLocalEquivocationEvidence s v m1 m2.</span></span></pre><div class="doc">
  If the states and messages are more tightly coupled (e.g., there is a unique
  state from which a given message can be emitted), then the sent messages of
  a state would be totally ordered by <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">has_been_sent_msg_dep_comparable_prop</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">s</span> : state X), constrained_state_prop X s -&gt;
  <span class="kr">forall</span> (<span class="nv">m1</span> <span class="nv">m2</span> : message),
    has_been_sent X s m1 -&gt;
    has_been_sent X s m2 -&gt;
    comparable (msg_dep_rel message_dependencies) m1 m2.</span></span></pre><div class="doc">
  We present yet another definition for local evidence of equivocation assuming
  both full-node and <span class="inlinecode"><span class="id" title="var">has_been_sent_msg_dep_comparable_prop</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">FullNodeSentLocalEquivocationEvidence</span>
  (<span class="nv">s</span> : state X) (<span class="nv">v</span> : validator) (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
{
  fnslee_sender1 : sender m1 = Some v;
  fnslee_sender2 : sender m2 = Some v;
  fnslee_observed1 : has_been_directly_observed X s m1;
  fnslee_observed2 : has_been_directly_observed X s m2;
  fnslee_incomparable : ~ comparable (msg_dep_rel message_dependencies) m1 m2;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">full_node_is_sent_locally_equivocating</span>
  (<span class="nv">s</span> : state X) (<span class="nv">v</span> : validator) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">m1</span> <span class="nv">m2</span>, FullNodeSentLocalEquivocationEvidence s v m1 m2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk71"><span class="kn">Lemma</span> <span class="nf">full_node_is_sent_locally_equivocating_weaker</span> <span class="nv">s</span> <span class="nv">v</span> :
  full_node_is_locally_equivocating s v -&gt;
  full_node_is_sent_locally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_locally_equivocating s v
â†’ full_node_is_sent_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk72"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_locally_equivocating s v
â†’ full_node_is_sent_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk73"><span class="nb">intros</span> (m1 &amp; m2 &amp; [Hsender1 Hsender2 Hobs1 Hobs2 Hncomp]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_sent_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk74"><span class="kr">exists</span> <span class="nv">m1</span>, m2; <span class="nb">constructor</span>; [<span class="bp">done</span>.. |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ comparable (msg_dep_rel message_dependencies) m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Hncomp; <span class="nb">apply</span> tc_comparable.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk75"><span class="kn">Lemma</span> <span class="nf">full_node_is_locally_equivocating_stronger</span> <span class="nv">s</span> <span class="nv">v</span> :
  full_node_is_locally_equivocating s v -&gt;
  msg_dep_is_locally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_locally_equivocating s v
â†’ msg_dep_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk76"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_locally_equivocating s v
â†’ msg_dep_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk77"><span class="nb">intros</span> (m1 &amp; m2 &amp; []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>fnlee_sender3</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>fnlee_sender4</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>fnlee_observed3</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m1</span></span></span><br><span><var>fnlee_observed4</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m2</span></span></span><br><span><var>fnlee_incomparable0</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1
    m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">m1</span>, m2; <span class="nb">constructor</span>; [| | <span class="nb">constructor</span> | <span class="nb">constructor</span> |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Under <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> and full-node assumptions, any message which
  <span class="inlinecode"><span class="id" title="var">HasBeenObserved</span></span> in a state, <span class="inlinecode"><span class="id" title="var">has_been_directly_observed</span></span> in that state, too.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk78"><span class="kn">Lemma</span> <span class="nf">full_node_HasBeenObserved_is_directly_observed</span>
  `{!MessageDependencies X message_dependencies}
  (Hfull : message_dependencies_full_node_condition_prop X message_dependencies)
  : <span class="kr">forall</span> <span class="nv">s</span>, constrained_state_prop X s -&gt;
    <span class="kr">forall</span> <span class="nv">m</span>, HasBeenObserved s m &lt;-&gt; has_been_directly_observed X s m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X),
  constrained_state_prop X s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      HasBeenObserved s m
      â†” has_been_directly_observed X s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk79"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X),
  constrained_state_prop X s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      HasBeenObserved s m
      â†” has_been_directly_observed X s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7a"><span class="nb">intros</span> s Hs m; <span class="nb">split</span>; [| <span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">constructor</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenObserved s m â†’ has_been_directly_observed X s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7b"><span class="nb">intros</span> [Hobs | m&#39; Hobs Hhb]; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>m, m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed X s m&#39;</span></span></span><br><span><var>Hhb</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed X s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> msg_dep_full_node_happens_before_reflects_has_been_directly_observed.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Assuming <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> and full-node, the two notions of
  local equivocation defined above are equivalent.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7c"><span class="kn">Lemma</span> <span class="nf">full_node_is_locally_equivocating_iff</span>
  `{!MessageDependencies X message_dependencies}
  (Hfull : message_dependencies_full_node_condition_prop X message_dependencies)
  : <span class="kr">forall</span> <span class="nv">s</span>, constrained_state_prop X s -&gt;
    <span class="kr">forall</span> <span class="nv">v</span>,
      msg_dep_is_locally_equivocating s v
        &lt;-&gt;
      full_node_is_locally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X),
  constrained_state_prop X s
  â†’ <span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
      msg_dep_is_locally_equivocating s v
      â†” full_node_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X),
  constrained_state_prop X s
  â†’ <span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
      msg_dep_is_locally_equivocating s v
      â†” full_node_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7e"><span class="nb">intros</span> s Hs v; <span class="nb">split</span>; [| <span class="nb">apply</span> full_node_is_locally_equivocating_stronger].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_locally_equivocating s v
â†’ full_node_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7f"><span class="nb">intros</span> (m1 &amp; m2 &amp; [Hsender1 Hsender2 Hobs1 Hobs2 Hncomp]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>HasBeenSentCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>HasBeenReceivedCapability0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability
  X</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>MessageDependencies0</var><span class="hyp-type"><b>: </b><span>MessageDependencies X
  message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop
  X message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop X s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved s m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_locally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">m1</span>, m2; <span class="nb">split</span>; <span class="nb">rewrite</span> &lt;- <span class="nl">?full_node_HasBeenObserved_is_directly_observed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_message_dependencies_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `(IM : index -&gt; VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `{finite.Finite index}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies}
  .</span></span></pre><div class="doc">
  If all of the components satisfy the <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> assumptions,
  then their free composition will also do so.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk80">#[export] <span class="kn">Instance</span> <span class="nf">composite_message_dependencies</span>
  : MessageDependencies (free_composite_vlsm IM) message_dependencies.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies (free_composite_vlsm IM)
  message_dependencies</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk81"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies (free_composite_vlsm IM)
  message_dependencies</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk82"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">m</span> : message) (<span class="nv">s&#39;</span> : state
                        (preloaded_with_all_messages_vlsm
                           (free_composite_vlsm IM))),
  can_produce
    (preloaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) s&#39; m
  â†’ message_dependencies_full_node_condition
      (free_composite_vlsm IM) message_dependencies s&#39;
      m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk83" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk83"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit
    (preloaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) m
  â†’ can_emit
      (preloaded_vlsm (free_composite_vlsm IM)
         (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
            msg âˆˆ message_dependencies m)) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk84">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">m</span> : message) (<span class="nv">s&#39;</span> : state
                        (preloaded_with_all_messages_vlsm
                           (free_composite_vlsm IM))),
  can_produce
    (preloaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) s&#39; m
  â†’ message_dependencies_full_node_condition
      (free_composite_vlsm IM) message_dependencies s&#39;
      m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk85"><span class="nb">intros</span> m s&#39; ((s, iom) &amp; [i li] &amp; Ht) dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (s, iom) (
  s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed (free_composite_vlsm IM) s&#39;
  dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk86"><span class="nb">apply</span> composite_has_been_directly_observed_free_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (s, iom) (
  s&#39;, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk87"><span class="nb">apply</span> input_valid_transition_preloaded_project_active_free <span class="kr">in</span> Ht; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition 
  (IM i) li (s i, iom) (
  s&#39; i, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s&#39; dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk88"><span class="nb">eapply</span> composite_has_been_directly_observed_from_component.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition 
  (IM i) li (s i, iom) (
  s&#39; i, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed (IM <span class="nl">?i</span>) (s&#39; <span class="nl">?i</span>) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> message_dependencies_are_necessary; [<span class="nb">eexists</span> _, _; <span class="nb">cbn</span> |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk89">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit
    (preloaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) m
  â†’ can_emit
      (preloaded_vlsm (free_composite_vlsm IM)
         (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
            msg âˆˆ message_dependencies m)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8a"><span class="nb">intros</span> m Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (preloaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8b"><span class="nb">apply</span> can_emit_free_composite_project <span class="kr">in</span> Hemit <span class="kr">as</span> [j Hemitj].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM j)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (preloaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8c"><span class="nb">eapply</span> message_dependencies_are_sufficient <span class="kr">in</span> Hemitj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
        msg âˆˆ message_dependencies m)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (preloaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8d"><span class="nb">eapply</span> VLSM_embedding_can_emit; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
        msg âˆˆ message_dependencies m)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_embedding
  (preloaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  (preloaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  <span class="nl">?label_project</span> <span class="nl">?state_project</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> lift_to_composite_generalized_preloaded_VLSM_embedding.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8e"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_free_validity</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">X</span> := free_composite_vlsm IM)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
    valid_message_prop X m -&gt; valid_message_prop X dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk90"><span class="nb">intros</span> dm m Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk91"><span class="nb">rewrite</span> !emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m âˆ¨ can_emit X m
â†’ initial_message_prop dm âˆ¨ can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk92"><span class="nb">intros</span> [[i [[im Him] _]] | Hemit]
  ; [<span class="bp">by</span> <span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop dm âˆ¨ can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk93"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk94"><span class="nb">pose proof</span> (vlsm_is_preloaded_with_False X) <span class="kr">as</span> XeqXFalse.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk95"><span class="nb">apply</span> (VLSM_eq_can_emit XeqXFalse).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  {|
    vlsm_type := X;
    vlsm_machine :=
      preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
  |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk96"><span class="nb">cut</span> (valid_message_prop (preloaded_vlsm X (<span class="kr">fun</span> <span class="nv">_</span> =&gt; <span class="kt">False</span>)) dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm
â†’ can_emit
    {|
      vlsm_type := X;
      vlsm_machine :=
        preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
    |} dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk97" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk97"><hr></label><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk98">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm
â†’ can_emit
    {|
      vlsm_type := X;
      vlsm_machine :=
        preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
    |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk99"><span class="nb">clear</span> -no_initial_messages_in_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm
â†’ can_emit
    {|
      vlsm_type := X;
      vlsm_machine :=
        preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
    |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9a"><span class="nb">rewrite</span> emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop dm
âˆ¨ can_emit (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    dm
â†’ can_emit
    {|
      vlsm_type := X;
      vlsm_machine :=
        preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
    |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9b"><span class="nb">intros</span> [[[i [[im Him] _]] | Hpreloaded] | Hemit]; <span class="kp">try</span> itauto.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  {|
    vlsm_type := X;
    vlsm_machine :=
      preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
  |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9d"><span class="nb">eapply</span> msg_dep_reflects_validity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies X message_dependencies</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk9e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk9e"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ initial_message_prop m</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk9f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk9f"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ <span class="kt">False</span> â†’ <span class="kt">False</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chka0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chka0"><hr></label><div class="goal-conclusion">msg_dep_rel message_dependencies dm <span class="nl">?m</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chka1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chka1"><hr></label><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) 
  <span class="nl">?m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies X message_dependencies</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> composite_message_dependencies.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka4"><span class="nb">intros</span> _ [i [[im Him] _]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ <span class="kt">False</span> â†’ <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_rel message_dependencies dm <span class="nl">?m</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka8"><span class="nb">apply</span> emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m
âˆ¨ can_emit (preloaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (VLSM_eq_can_emit XeqXFalse) <span class="kr">in</span> Hemit; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka9"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_happens_before_free_validity</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">X</span> := free_composite_vlsm IM)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    valid_message_prop X m -&gt; valid_message_prop X dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkaa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> msg_dep_happens_before_reflect, msg_dep_reflects_free_validity.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkab"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender</span>
  {<span class="nv">validator</span> : <span class="kt">Type</span>}
  (<span class="nv">sender</span> : message -&gt; option validator)
  (<span class="nv">A</span> : validator -&gt; index)
  (<span class="nv">Hchannel</span> : channel_authentication_prop  IM A sender)
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">X</span> := free_composite_vlsm IM)
  : <span class="kr">forall</span> <span class="nv">m</span>, valid_message_prop X m -&gt;
    <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    <span class="kr">exists</span> <span class="nv">v</span>, sender dm = Some v /\
      can_emit (preloaded_with_all_messages_vlsm (IM (A v))) dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  valid_message_prop X m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_happens_before message_dependencies dm m
      â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
          sender dm = Some v
          âˆ§ can_emit
              (preloaded_with_all_messages_vlsm
                 (IM (A v))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  valid_message_prop X m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_happens_before message_dependencies dm m
      â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
          sender dm = Some v
          âˆ§ can_emit
              (preloaded_with_all_messages_vlsm
                 (IM (A v))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkad"><span class="nb">intros</span> m Hm dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
  sender dm = Some v
  âˆ§ can_emit
      (preloaded_with_all_messages_vlsm (IM (A v))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkae"><span class="nb">cut</span> (valid_message_prop X dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X dm
â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
    sender dm = Some v
    âˆ§ can_emit
        (preloaded_with_all_messages_vlsm (IM (A v)))
        dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkaf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkaf"><hr></label><div class="goal-conclusion">valid_message_prop X dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X dm
â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
    sender dm = Some v
    âˆ§ can_emit
        (preloaded_with_all_messages_vlsm (IM (A v)))
        dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> free_composite_no_initial_valid_messages_emitted_by_sender.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> msg_dep_reflects_happens_before_free_validity.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_composite_message_dependencies</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">Global Equivocation Based on Message Dependencies</h2>
<div class="paragraph"> </div>

  Inspired by the definitions of observability and global equivocation given for
  the ELMO protocol, we introduce abstract notions for global equivocation based
  on message dependencies.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_composite_message_dependencies_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `(IM : index -&gt; VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `(sender : message -&gt; option validator)
  `{finite.Finite index}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  (Free := free_composite_vlsm IM)
  .</span></span></pre><div class="doc">
  A message can be (indirectly) observed in a composite state if it either has
  been directly observed in the state (as sent or received), or it
  <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> a directly observed message.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">CompositeHasBeenObserved</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
| chbo_directly :
    composite_has_been_directly_observed IM s m -&gt;
    CompositeHasBeenObserved s m
| chbo_indirectly :
    <span class="kr">forall</span> <span class="nv">m&#39;</span>,
      composite_has_been_directly_observed IM s m&#39; -&gt;
      msg_dep_happens_before message_dependencies m m&#39; -&gt;
      CompositeHasBeenObserved s m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb2"><span class="kn">Lemma</span> <span class="nf">composite_HasBeenObserved_lift</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">m</span> <span class="nv">i</span>,
  HasBeenObserved (IM i) message_dependencies (s i) m -&gt;
  CompositeHasBeenObserved s m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : <span class="kr">âˆ€</span> <span class="nv">x</span> : index, state (IM x)) (<span class="nv">m</span> : message) (<span class="nv">i</span> : index),
  HasBeenObserved (IM i) message_dependencies (s i) m
  â†’ CompositeHasBeenObserved s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : <span class="kr">âˆ€</span> <span class="nv">x</span> : index, state (IM x)) (<span class="nv">m</span> : message) (<span class="nv">i</span> : index),
  HasBeenObserved (IM i) message_dependencies (s i) m
  â†’ CompositeHasBeenObserved s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb4"><span class="nb">intros</span> s m i [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state (IM x)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkb5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state (IM x)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m&#39;</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkb5"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state (IM x)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span> <span class="mi">1</span>; <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">x</span> : index, state (IM x)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m&#39;</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">econstructor</span> <span class="mi">2</span>; [<span class="nb">eexists</span> |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb8"><span class="kn">Lemma</span> <span class="nf">composite_HasBeenObserved_iff</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">m</span>,
  CompositeHasBeenObserved s m
    &lt;-&gt;
  <span class="kr">exists</span> <span class="nv">i</span>, HasBeenObserved (IM i) message_dependencies (s i) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message),
  CompositeHasBeenObserved s m
  â†” (<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
       HasBeenObserved (IM i) message_dependencies
         (s i) m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">m</span> : message),
  CompositeHasBeenObserved s m
  â†” (<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
       HasBeenObserved (IM i) message_dependencies
         (s i) m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkba"><span class="nb">split</span>; [| <span class="bp">by</span> <span class="nb">intros</span> []; <span class="nb">eapply</span> composite_HasBeenObserved_lift].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s m
â†’ <span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
    HasBeenObserved (IM i) message_dependencies (s i)
      m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [[i Hobsi] | m&#39; [i Hobsi] Hmm&#39;];
    <span class="kr">exists</span> <span class="nv">i</span>; [<span class="bp">by</span> <span class="nb">constructor</span> <span class="mi">1</span> | <span class="bp">by</span> <span class="nb">econstructor</span> <span class="mi">2</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbb"><span class="kn">Lemma</span> <span class="nf">transition_preserves_CompositeHasBeenObserved</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>, input_constrained_transition Free l (s, im) (s&#39;, om) -&gt;
  <span class="kr">forall</span> <span class="nv">msg</span>, CompositeHasBeenObserved s msg -&gt; CompositeHasBeenObserved s&#39; msg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   Free)) (<span class="nv">om</span> : option
                                                 message),
  input_constrained_transition Free l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      CompositeHasBeenObserved s msg
      â†’ CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   Free)) (<span class="nv">om</span> : option
                                                 message),
  input_constrained_transition Free l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      CompositeHasBeenObserved s msg
      â†’ CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbd"><span class="nb">destruct</span> (free_composite_has_been_directly_observed_stepwise_props IM) <span class="kr">as</span> [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   Free)) (<span class="nv">om</span> : option
                                                 message),
  input_constrained_transition Free l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      CompositeHasBeenObserved s msg
      â†’ CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbe"><span class="nb">intros</span> * Ht msg Hbefore; <span class="nb">inversion</span> Hbefore <span class="kr">as</span> [Hobs | m Hobs Hdep].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s msg</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s msg</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkbf"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s msg</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>; <span class="nb">eapply</span> oracle_step_update; [| <span class="nb">right</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s msg</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">econstructor</span> <span class="mi">2</span>; [| <span class="bp">done</span>]; <span class="nb">eapply</span> oracle_step_update; [| <span class="nb">right</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc2"><span class="kn">Lemma</span> <span class="nf">CompositeHasBeenObserved_step_update</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>, input_constrained_transition Free l (s, im) (s&#39;, om) -&gt;
  <span class="kr">forall</span> <span class="nv">msg</span>,
    CompositeHasBeenObserved s&#39; msg
      &lt;-&gt;
    CompositeHasBeenObserved s msg \/
    (<span class="kr">exists</span> <span class="nv">m</span>, (im = Some m \/ om = Some m) /\
      (msg = m \/ msg_dep_happens_before message_dependencies msg m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   Free)) (<span class="nv">om</span> : option
                                                 message),
  input_constrained_transition Free l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      CompositeHasBeenObserved s&#39; msg
      â†” CompositeHasBeenObserved s msg
        âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
             (im = Some m âˆ¨ om = Some m)
             âˆ§ (msg = m
                âˆ¨ msg_dep_happens_before
                    message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   Free)) (<span class="nv">om</span> : option
                                                 message),
  input_constrained_transition Free l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      CompositeHasBeenObserved s&#39; msg
      â†” CompositeHasBeenObserved s msg
        âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
             (im = Some m âˆ¨ om = Some m)
             âˆ§ (msg = m
                âˆ¨ msg_dep_happens_before
                    message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc4"><span class="nb">destruct</span> (free_composite_has_been_directly_observed_stepwise_props IM) <span class="kr">as</span> [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">l</span> : label (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state
                                (preloaded_with_all_messages_vlsm
                                   Free)) (<span class="nv">om</span> : option
                                                 message),
  input_constrained_transition Free l (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      CompositeHasBeenObserved s&#39; msg
      â†” CompositeHasBeenObserved s msg
        âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
             (im = Some m âˆ¨ om = Some m)
             âˆ§ (msg = m
                âˆ¨ msg_dep_happens_before
                    message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc5"><span class="nb">intros</span> * Ht msg; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg
â†’ CompositeHasBeenObserved s msg
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
       (im = Some m âˆ¨ om = Some m)
       âˆ§ (msg = m
          âˆ¨ msg_dep_happens_before
              message_dependencies msg m))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkc6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkc6"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m)) â†’ CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg
â†’ CompositeHasBeenObserved s msg
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
       (im = Some m âˆ¨ om = Some m)
       âˆ§ (msg = m
          âˆ¨ msg_dep_happens_before
              message_dependencies msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc8"><span class="nb">inversion</span> <span class="mi">1</span> <span class="kr">as</span> [Hobs&#39; | m&#39; Hobs&#39; Hdep];
      (<span class="nb">eapply</span> oracle_step_update <span class="kr">in</span> Hobs&#39;; [| <span class="bp">done</span>]);
      <span class="nb">destruct</span> Hobs&#39; <span class="kr">as</span> [Hnow | Hbefore].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>item_sends_or_receives msg
  {|
    l := l;
    input := im;
    destination := s&#39;;
    output := om
  |}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkc9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s
  msg</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkc9"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkca" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>item_sends_or_receives m&#39;
  {|
    l := l;
    input := im;
    destination := s&#39;;
    output := om
  |}</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkca"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkcb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkcb"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkcc">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>item_sends_or_receives msg
  {|
    l := l;
    input := im;
    destination := s&#39;;
    output := om
  |}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">msg</span>; <span class="nb">split</span>; [| <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkcd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s
  msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkce">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>item_sends_or_receives m&#39;
  {|
    l := l;
    input := im;
    destination := s&#39;;
    output := om
  |}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">m&#39;</span>; <span class="nb">split</span>; [| <span class="nb">right</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkcf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s&#39; msg</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m&#39;</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">econstructor</span> <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s msg
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">m</span> : message,
     (im = Some m âˆ¨ om = Some m)
     âˆ§ (msg = m
        âˆ¨ msg_dep_happens_before message_dependencies
            msg m)) â†’ CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd1"><span class="nb">intros</span> [Hbefore | (m &amp; Hnow &amp; [&lt;- | Hdep])].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkd2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some msg âˆ¨ om = Some msg</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkd2"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkd3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some m âˆ¨ om = Some m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkd3"><hr></label><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hbefore</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> transition_preserves_CompositeHasBeenObserved.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some msg âˆ¨ om = Some msg</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>; <span class="nb">eapply</span> oracle_step_update; [| <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>oracle_no_inits</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">s</span> : state (free_composite_vlsm IM),
  initial_state_prop s
  â†’ <span class="kr">âˆ€</span> <span class="nv">m</span> : message,
      Â¬ composite_has_been_directly_observed
          IM s m</span></span></span><br><span><var>oracle_step_update</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">l</span> : label
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm
               IM))) (<span class="nv">s</span> : 
                      state
                      (preloaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM))) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : state
          (preloaded_with_all_messages_vlsm
             (free_composite_vlsm
                IM))) (<span class="nv">om</span> : 
                      option
                      message),
  input_constrained_transition
    (free_composite_vlsm IM) l
    (s, im) (s&#39;, om)
  â†’ <span class="kr">âˆ€</span> <span class="nv">msg</span> : message,
      composite_has_been_directly_observed
        IM s&#39; msg
      â†” item_sends_or_receives
          msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |}
        âˆ¨ composite_has_been_directly_observed
            IM s msg</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free l (
  s, im) (s&#39;, om)</span></span></span><br><span><var>msg, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hnow</var><span class="hyp-type"><b>: </b><span>im = Some m âˆ¨ om = Some m</span></span></span><br><span><var>Hdep</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies msg
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s&#39; msg</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">econstructor</span> <span class="mi">2</span>; [| <span class="bp">done</span>]; <span class="nb">eapply</span> oracle_step_update; [| <span class="nb">left</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Lifting <span class="inlinecode"><span class="id" title="var">DirectlyObservedBeforeSend</span></span> to a composition. The advantage of this
  definition is that RHS can be emitted by any of the machines in the composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">CompositeObservedBeforeSendTransition</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item IM) (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
{
  cdobst_transition : input_constrained_transition_item Free s item;
  cdobst_output_m2 : output item = Some m2;
  cdobst_observed_m1 :
    ObservedBeforeStateOrMessage (IM (projT1 (l item))) message_dependencies m1
      (s (projT1 (l item))) (input item);
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">composite_observed_before_send</span> (<span class="nv">m1</span> <span class="nv">m2</span> : message) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">s</span> <span class="nv">item</span>, CompositeObservedBeforeSendTransition s item m1 m2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd7"><span class="kn">Lemma</span> <span class="nf">composite_ObservedBeforeSendTransition_lift</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : state (IM i)) (<span class="nv">item</span> : transition_item (IM i))
    (<span class="nv">m1</span> <span class="nv">m2</span> : message),
  ObservedBeforeSendTransition (IM i) message_dependencies s item m1 m2 -&gt;
  CompositeObservedBeforeSendTransition
    (lift_to_composite_state&#39; IM i s)
    (lift_to_composite_transition_item&#39; IM i item) m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : state (IM i)) (<span class="nv">item</span> : transition_item) 
  (<span class="nv">m1</span> <span class="nv">m2</span> : message),
  ObservedBeforeSendTransition (IM i)
    message_dependencies s item m1 m2
  â†’ CompositeObservedBeforeSendTransition
      (lift_to_composite_state&#39; IM i s)
      (lift_to_composite_transition_item&#39; IM i item)
      m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : state (IM i)) (<span class="nv">item</span> : transition_item) 
  (<span class="nv">m1</span> <span class="nv">m2</span> : message),
  ObservedBeforeSendTransition (IM i)
    message_dependencies s item m1 m2
  â†’ CompositeObservedBeforeSendTransition
      (lift_to_composite_state&#39; IM i s)
      (lift_to_composite_transition_item&#39; IM i item)
      m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd9"><span class="nb">intros</span> * []; <span class="nb">constructor</span>; [| <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>dobst_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item
  (IM i) s item</span></span></span><br><span><var>dobst_output_m3</var><span class="hyp-type"><b>: </b><span>output item = Some m2</span></span></span><br><span><var>dobst_observed_m2</var><span class="hyp-type"><b>: </b><span>ObservedBeforeStateOrMessage
  (IM i) message_dependencies m1 s
  (input item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition_item Free
  (lift_to_composite_state&#39; IM i s)
  (lift_to_composite_transition_item&#39; IM i item)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkda" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>dobst_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item
  (IM i) s item</span></span></span><br><span><var>dobst_output_m3</var><span class="hyp-type"><b>: </b><span>output item = Some m2</span></span></span><br><span><var>dobst_observed_m2</var><span class="hyp-type"><b>: </b><span>ObservedBeforeStateOrMessage
  (IM i) message_dependencies m1 s
  (input item)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkda"><hr></label><div class="goal-conclusion">ObservedBeforeStateOrMessage
  (IM
     (projT1
        (l
           (lift_to_composite_transition_item&#39; IM i
              item)))) message_dependencies m1
  (lift_to_composite_state&#39; IM i s
     (projT1
        (l
           (lift_to_composite_transition_item&#39; IM i
              item))))
  (input
     (lift_to_composite_transition_item&#39; IM i item))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkdb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>dobst_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item
  (IM i) s item</span></span></span><br><span><var>dobst_output_m3</var><span class="hyp-type"><b>: </b><span>output item = Some m2</span></span></span><br><span><var>dobst_observed_m2</var><span class="hyp-type"><b>: </b><span>ObservedBeforeStateOrMessage
  (IM i) message_dependencies m1 s
  (input item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition_item Free
  (lift_to_composite_state&#39; IM i s)
  (lift_to_composite_transition_item&#39; IM i item)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> VLSM_embedding_input_valid_transition <span class="kr">in</span> dobst_transition0;
      [| <span class="nb">apply</span> lift_to_composite_preloaded_VLSM_embedding].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkdc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>dobst_transition0</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item
  (IM i) s item</span></span></span><br><span><var>dobst_output_m3</var><span class="hyp-type"><b>: </b><span>output item = Some m2</span></span></span><br><span><var>dobst_observed_m2</var><span class="hyp-type"><b>: </b><span>ObservedBeforeStateOrMessage
  (IM i) message_dependencies m1 s
  (input item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeStateOrMessage
  (IM
     (projT1
        (l
           (lift_to_composite_transition_item&#39; IM i
              item)))) message_dependencies m1
  (lift_to_composite_state&#39; IM i s
     (projT1
        (l
           (lift_to_composite_transition_item&#39; IM i
              item))))
  (input
     (lift_to_composite_transition_item&#39; IM i item))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> item; <span class="nb">cbn</span> <span class="kr">in</span> *; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkdd"><span class="kn">Lemma</span> <span class="nf">composite_observed_before_send_lift</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">m1</span> <span class="nv">m2</span> : message),
    observed_before_send (IM i) message_dependencies m1 m2 -&gt;
    composite_observed_before_send m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">m1</span> <span class="nv">m2</span> : message),
  observed_before_send (IM i) message_dependencies m1
    m2 â†’ composite_observed_before_send m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkde"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">m1</span> <span class="nv">m2</span> : message),
  observed_before_send (IM i) message_dependencies m1
    m2 â†’ composite_observed_before_send m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkdf"><span class="nb">intros</span> * (s &amp; item &amp; Hobs).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>ObservedBeforeSendTransition 
  (IM i) message_dependencies s item m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span> _, _; <span class="nb">apply</span> composite_ObservedBeforeSendTransition_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke0"><span class="kn">Lemma</span> <span class="nf">composite_ObservedBeforeSendTransition_project</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item IM)
    (<span class="nv">m1</span> <span class="nv">m2</span> : message) (<span class="nv">i</span> := projT1 (l item)),
  CompositeObservedBeforeSendTransition s item m1 m2 -&gt;
  ObservedBeforeSendTransition (IM i) message_dependencies
    (s i) (composite_transition_item_projection IM item) m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item
                                     IM) (<span class="nv">m1</span>
                                          <span class="nv">m2</span> : message),
  <span class="kr">let</span> <span class="nv">i</span> := projT1 (l item) <span class="kr">in</span>
  CompositeObservedBeforeSendTransition s item m1 m2
  â†’ ObservedBeforeSendTransition (IM i)
      message_dependencies (s i)
      (composite_transition_item_projection IM item)
      m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item
                                     IM) (<span class="nv">m1</span>
                                          <span class="nv">m2</span> : message),
  <span class="kr">let</span> <span class="nv">i</span> := projT1 (l item) <span class="kr">in</span>
  CompositeObservedBeforeSendTransition s item m1 m2
  â†’ ObservedBeforeSendTransition (IM i)
      message_dependencies (s i)
      (composite_transition_item_projection IM item)
      m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> * []; <span class="nb">constructor</span>;
    [<span class="nb">eapply</span> input_valid_transition_preloaded_project_active_free | ..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke2"><span class="kn">Lemma</span> <span class="nf">composite_observed_before_send_iff</span> <span class="nv">m1</span> <span class="nv">m2</span> :
  composite_observed_before_send m1 m2
    &lt;-&gt;
  <span class="kr">exists</span> <span class="nv">i</span>, observed_before_send (IM i) message_dependencies m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send m1 m2
â†” (<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
     observed_before_send (IM i) message_dependencies
       m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send m1 m2
â†” (<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
     observed_before_send (IM i) message_dependencies
       m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke4"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send m1 m2
â†’ <span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
    observed_before_send (IM i) message_dependencies
      m1 m2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chke5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chke5"><hr></label><div class="goal-conclusion">(<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
   observed_before_send 
     (IM i) message_dependencies m1 m2)
â†’ composite_observed_before_send m1 m2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send m1 m2
â†’ <span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
    observed_before_send (IM i) message_dependencies
      m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke7"><span class="nb">intros</span> (s &amp; item &amp; Hcomp); <span class="nb">eexists</span> (projT1 (l item)), _, _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hcomp</var><span class="hyp-type"><b>: </b><span>CompositeObservedBeforeSendTransition s item
  m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ObservedBeforeSendTransition (IM (projT1 (l item)))
  message_dependencies <span class="nl">?Goal0</span> <span class="nl">?Goal1</span> m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> composite_ObservedBeforeSendTransition_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆƒ</span> <span class="nv">i</span> : index,
   observed_before_send (IM i) message_dependencies m1
     m2) â†’ composite_observed_before_send m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> []; <span class="nb">eapply</span> composite_observed_before_send_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke9"><span class="kn">Lemma</span> <span class="nf">composite_observed_before_send_subsumes_msg_dep_rel</span>
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies} :
  <span class="kr">forall</span> <span class="nv">m</span>, can_emit (preloaded_with_all_messages_vlsm Free) m -&gt;
  <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel message_dependencies dm m -&gt;
    composite_observed_before_send dm m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit (preloaded_with_all_messages_vlsm Free) m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkea"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit (preloaded_with_all_messages_vlsm Free) m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkeb"><span class="nb">intros</span> m Hm dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit (preloaded_with_all_messages_vlsm Free)
  m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkec"><span class="nb">apply</span> can_emit_free_composite_project <span class="kr">in</span> Hm <span class="kr">as</span> [j Hjm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hjm</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM j)) m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> composite_observed_before_send_lift,
    observed_before_send_subsumes_msg_dep_rel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Similarly to the <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span>, we define the transitive closure
  of the <span class="inlinecode"><span class="id" title="var">composite_observed_before_send</span></span> relation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">tc_composite_observed_before_send</span> : relation message :=
  tc (composite_observed_before_send).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chked"><span class="kn">Lemma</span> <span class="nf">tc_composite_observed_before_send_subsumes_msg_dep_rel</span>
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies} :
  <span class="kr">forall</span> <span class="nv">m</span>, can_emit Free m -&gt;
  <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel message_dependencies dm m -&gt;
    tc_composite_observed_before_send dm m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit Free m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ tc_composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkee"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit Free m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_rel message_dependencies dm m
      â†’ tc_composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkef"><span class="nb">intros</span> m Hm dm Hdm; <span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf0"><span class="nb">eapply</span> composite_observed_before_send_subsumes_msg_dep_rel; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (preloaded_with_all_messages_vlsm Free) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf1"><span class="nb">eapply</span> VLSM_incl_can_emit; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part (free_composite_vlsm_machine IM)
  (preloaded_vlsm_machine Free (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf2"><span class="kn">Lemma</span> <span class="nf">tc_composite_observed_before_send_subsumes_happens_before</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies} :
  <span class="kr">forall</span> <span class="nv">m</span>, can_emit Free m -&gt;
  <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    tc_composite_observed_before_send dm m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit Free m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_happens_before message_dependencies dm m
      â†’ tc_composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit Free m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_happens_before message_dependencies dm m
      â†’ tc_composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf4"><span class="nb">intros</span> m Hm dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tc_composite_observed_before_send dm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf5"><span class="nb">induction</span> Hdm; [<span class="bp">by</span> <span class="nb">eapply</span> tc_composite_observed_before_send_subsumes_msg_dep_rel |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free z</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>tc (msg_dep_rel message_dependencies) y z</span></span></span><br><span><var>IHHdm</var><span class="hyp-type"><b>: </b><span>can_emit Free z
â†’ tc_composite_observed_before_send y z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tc_composite_observed_before_send x z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf6"><span class="nb">transitivity</span> y; [| <span class="bp">by</span> <span class="nb">apply</span> IHHdm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free z</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>tc (msg_dep_rel message_dependencies) y z</span></span></span><br><span><var>IHHdm</var><span class="hyp-type"><b>: </b><span>can_emit Free z
â†’ tc_composite_observed_before_send y z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tc_composite_observed_before_send x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf7"><span class="nb">eapply</span> tc_composite_observed_before_send_subsumes_msg_dep_rel; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit Free z</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>tc (msg_dep_rel message_dependencies) y z</span></span></span><br><span><var>IHHdm</var><span class="hyp-type"><b>: </b><span>can_emit Free z
â†’ tc_composite_observed_before_send y z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit Free y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> emitted_messages_are_valid,
    msg_dep_reflects_happens_before_free_validity,
    emitted_messages_are_valid_iff
    <span class="kr">in</span> Hm <span class="kr">as</span> [(i &amp; [] &amp; &lt;-) |]; [<span class="nb">exfalso</span>; <span class="nb">eapply</span> no_initial_messages_in_IM | ..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A messages constitutes a (global) evidence of equivocation for a
  validator <code>v</code> in a composite state <code>s</code> if the message has <code>v</code> as a sender,
  it has been (indirectly) observed in <span class="inlinecode"><span class="id" title="var">composite_state</span></span> <code>s</code>, (see
  <span class="inlinecode"><span class="id" title="var">CompositeHasBeenObserved</span></span>), but it wasn't observed as sent in <code>s</code>
  (see <span class="inlinecode"><span class="id" title="var">composite_has_been_sent</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">MsgDepGlobalEquivocationEvidence</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : validator) (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
{
  mdgee_sender : sender m = Some v;
  mdgee_rec_observed : CompositeHasBeenObserved s m;
  mdgee_not_sent : ~ composite_has_been_sent IM s m;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_is_globally_equivocating</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : validator) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">m</span> : message, MsgDepGlobalEquivocationEvidence s v m.</span></span></pre><div class="doc">
  Under the full-node assumption, we can give a simpler alternative to
  <span class="inlinecode"><span class="id" title="var">MsgDepGlobalEquivocationEvidence</span></span> which only requires that the message has been
  received in the <span class="inlinecode"><span class="id" title="var">composite_state</span></span> (see <span class="inlinecode"><span class="id" title="var">composite_has_been_received</span></span>) (due to
  the Lemma <span class="inlinecode"><span class="id" title="var">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">FullNodeGlobalEquivocationEvidence</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : validator) (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
{
  fngee_sender : sender m = Some v;
  fngee_received : composite_has_been_received IM s m;
  fngee_not_sent : ~ composite_has_been_sent IM s m;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">full_node_is_globally_equivocating</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : validator) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">m</span> : message, FullNodeGlobalEquivocationEvidence s v m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf8"><span class="kn">Lemma</span> <span class="nf">full_node_is_globally_equivocating_stronger</span> <span class="nv">s</span> <span class="nv">v</span> :
  full_node_is_globally_equivocating s v -&gt;
  msg_dep_is_globally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_globally_equivocating s v
â†’ msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">full_node_is_globally_equivocating s v
â†’ msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkfa"><span class="nb">intros</span> [m []]; <span class="kr">exists</span> <span class="nv">m</span>; <span class="nb">constructor</span>; [<span class="bp">done</span> | | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>fngee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>fngee_received0</var><span class="hyp-type"><b>: </b><span>composite_has_been_received IM s m</span></span></span><br><span><var>fngee_not_sent0</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span> <span class="mi">1</span>; <span class="nb">apply</span> composite_has_been_directly_observed_sent_received_iff; <span class="nb">right</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkfb"><span class="kn">Lemma</span> <span class="nf">full_node_is_globally_equivocating_iff</span>
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies}
  (Hfull : <span class="kr">forall</span> <span class="nv">i</span>, message_dependencies_full_node_condition_prop (IM i) message_dependencies)
  : <span class="kr">forall</span> <span class="nv">s</span>, constrained_state_prop Free s -&gt;
    <span class="kr">forall</span> <span class="nv">v</span>,
      msg_dep_is_globally_equivocating s v
        &lt;-&gt;
      full_node_is_globally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free),
  constrained_state_prop Free s
  â†’ <span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
      msg_dep_is_globally_equivocating s v
      â†” full_node_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkfc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free),
  constrained_state_prop Free s
  â†’ <span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
      msg_dep_is_globally_equivocating s v
      â†” full_node_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkfd"><span class="nb">intros</span> s Hs v; <span class="nb">split</span>; [| <span class="nb">apply</span> full_node_is_globally_equivocating_stronger].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v
â†’ full_node_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkfe"><span class="nb">intros</span> [m [Hsender Hobs Hnsent]]; <span class="kr">exists</span> <span class="nv">m</span>; <span class="nb">split</span>; [<span class="bp">done</span> | | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s m</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_received IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkff"><span class="nb">cut</span> (composite_has_been_directly_observed IM s m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s m</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s m
â†’ composite_has_been_received IM s m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk100" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s m</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk100"><hr></label><div class="goal-conclusion">composite_has_been_directly_observed IM s m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk101">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s m</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s m
â†’ composite_has_been_received IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> composite_has_been_directly_observed_sent_received_iff; <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk102">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved s m</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk103"><span class="nb">destruct</span> Hobs <span class="kr">as</span> [Hobs | m&#39; [i Hobs] Hhb]; [<span class="bp">done</span> | <span class="kr">exists</span> <span class="nv">i</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m&#39;</span></span></span><br><span><var>Hhb</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_directly_observed (IM i) (s i) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk104"><span class="nb">eapply</span> msg_dep_full_node_happens_before_reflects_has_been_directly_observed;
    [<span class="bp">done</span> | <span class="bp">done</span> | | <span class="bp">done</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m&#39;</span></span></span><br><span><var>Hhb</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br><span><var>Hnsent</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> composite_constrained_state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk105"><span class="kn">Lemma</span> <span class="nf">msg_dep_locally_is_globally_equivocating</span>
  (<span class="nv">A</span> : validator -&gt; index)
  (<span class="nv">Hsafety</span> : sender_safety_alt_prop IM A sender)
  (<span class="nv">Hsent_comparable</span> :
    <span class="kr">forall</span> <span class="nv">i</span>, has_been_sent_msg_dep_comparable_prop (IM i) message_dependencies)
  : <span class="kr">forall</span> <span class="nv">s</span>, constrained_state_prop Free s -&gt;
    <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">v</span>,
    msg_dep_is_locally_equivocating (IM i) message_dependencies sender (s i) v -&gt;
    msg_dep_is_globally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free),
  constrained_state_prop Free s
  â†’ <span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">v</span> : validator),
      msg_dep_is_locally_equivocating (IM i)
        message_dependencies sender (s i) v
      â†’ msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk106"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free),
  constrained_state_prop Free s
  â†’ <span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">v</span> : validator),
      msg_dep_is_locally_equivocating (IM i)
        message_dependencies sender (s i) v
      â†’ msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk107"><span class="nb">intros</span> s Hs i v (m1 &amp; m2 &amp; [Hsender1 Hsender2 Hobs1 Hobs2 Hncomp]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk108"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆƒ</span> (<span class="nv">is</span> : state
          (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to
    (preloaded_with_all_messages_vlsm Free) <span class="kr">is</span> s
    tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk109"><span class="nb">destruct</span> Htr <span class="kr">as</span> (? &amp; ? &amp; ?).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk10a"><span class="nb">destruct</span> (decide (has_been_sent (IM (A v)) (s (A v)) m1));
    [<span class="nb">destruct</span> (decide (has_been_sent (IM (A v)) (s (A v)) m2)) |]; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk10b"><hr></label><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk10c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk10c"><hr></label><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk10d"><span class="mi">1</span>, <span class="mi">2</span>: <span class="nb">eexists</span>; <span class="nb">split</span>;
      [.. | <span class="bp">by</span> <span class="bp">contradict</span> n; <span class="nb">eapply</span> has_been_sent_iff_by_sender];
      [<span class="bp">done</span> | <span class="bp">by</span> <span class="nb">eapply</span> composite_HasBeenObserved_lift].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_happens_before
       message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk10e"><span class="bp">contradict</span> Hncomp; <span class="nb">eapply</span> tc_comparable, Hsent_comparable; [| <span class="bp">done</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>HasBeenObserved (IM i) message_dependencies
  (s i) m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (IM (A v)) (s (A v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> composite_constrained_state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk10f"><span class="kn">Lemma</span> <span class="nf">full_node_sent_locally_is_globally_equivocating</span>
  (<span class="nv">A</span> : validator -&gt; index)
  (<span class="nv">Hsafety</span> : sender_safety_alt_prop IM A sender)
  (<span class="nv">Hsent_comparable</span> :
    <span class="kr">forall</span> <span class="nv">i</span>, has_been_sent_msg_dep_comparable_prop (IM i) message_dependencies)
  : <span class="kr">forall</span> <span class="nv">s</span>, constrained_state_prop Free s -&gt;
    <span class="kr">forall</span> <span class="nv">i</span> <span class="nv">v</span>,
    full_node_is_sent_locally_equivocating (IM i) message_dependencies sender (s i) v -&gt;
    msg_dep_is_globally_equivocating s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free),
  constrained_state_prop Free s
  â†’ <span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">v</span> : validator),
      full_node_is_sent_locally_equivocating (IM i)
        message_dependencies sender (s i) v
      â†’ msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk110"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm Free),
  constrained_state_prop Free s
  â†’ <span class="kr">âˆ€</span> (<span class="nv">i</span> : index) (<span class="nv">v</span> : validator),
      full_node_is_sent_locally_equivocating (IM i)
        message_dependencies sender (s i) v
      â†’ msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk111"><span class="nb">intros</span> s Hs i v (m1 &amp; m2 &amp; [Hsender1 Hsender2 Hobs1 Hobs2 Hncomp]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk112"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆƒ</span> (<span class="nv">is</span> : state
          (preloaded_with_all_messages_vlsm Free)) 
  (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to
    (preloaded_with_all_messages_vlsm Free) <span class="kr">is</span> s
    tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk113"><span class="nb">destruct</span> Htr <span class="kr">as</span> (? &amp; ? &amp; ?).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk114"><span class="nb">destruct</span> (decide (has_been_sent (IM (A v)) (s (A v)) m1));
    [<span class="nb">destruct</span> (decide (has_been_sent (IM (A v)) (s (A v)) m2)) |]; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk115" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk115"><hr></label><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk116" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk116"><hr></label><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk117"><span class="mi">1</span>, <span class="mi">2</span>: <span class="nb">eexists</span>; <span class="nb">split</span>; <span class="nb">cycle</span> <span class="mi">2</span>;
      [<span class="bp">by</span> <span class="bp">contradict</span> n; <span class="nb">eapply</span> has_been_sent_iff_by_sender | <span class="bp">done</span> |];
      <span class="bp">by</span> <span class="nb">constructor</span> <span class="mi">1</span>; <span class="nb">eexists</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>Hncomp</var><span class="hyp-type"><b>: </b><span>Â¬ comparable
    (msg_dep_rel message_dependencies) m1 m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating s v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk118"><span class="bp">contradict</span> Hncomp; <span class="nb">eapply</span> Hsent_comparable; [| <span class="bp">done</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hsafety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsent_comparable</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  has_been_sent_msg_dep_comparable_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender1</var><span class="hyp-type"><b>: </b><span>sender m1 = Some v</span></span></span><br><span><var>Hsender2</var><span class="hyp-type"><b>: </b><span>sender m2 = Some v</span></span></span><br><span><var>Hobs1</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m1</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>has_been_directly_observed (IM i) (s i) m2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) x s x0</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m1</span></span></span><br><span><var>h0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v)) (s (A v)) m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (IM (A v)) (s (A v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> composite_constrained_state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_composite_message_dependencies_equivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_sub_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `(IM : index -&gt; VLSM message)
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `{FinSet index Ci}
  (indices : Ci)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk119"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_sub_free_validity</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hreflects</span> : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt; P m -&gt; P dm)
  (<span class="nv">X</span> := free_composite_vlsm (sub_IM IM (elements indices)))
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
    valid_message_prop (preloaded_vlsm X P) m -&gt;
    valid_message_prop (preloaded_vlsm X P) dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop (preloaded_vlsm X P) m
    â†’ valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk11a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop (preloaded_vlsm X P) m
    â†’ valid_message_prop (preloaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk11b"><span class="nb">eapply</span> msg_dep_reflects_validity; [| | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies X message_dependencies</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk11c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk11c"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ initial_message_prop m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk11d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies X message_dependencies</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk11e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk11f"><span class="nb">intros</span> m [sub_i [[im Him] Heqm]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (elements indices)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>`(im â†¾ Him) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk120">destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>Ci</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM (elements indices))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (elements indices) i</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_sub_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_FullMessageDependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{FinSet message Cm}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">FullMessageDependencies</span>
  (<span class="nv">message_dependencies</span> : message -&gt; Cm)
  (<span class="nv">full_message_dependencies</span> : message -&gt; Cm)
  : <span class="kt">Prop</span> :=
{
  full_message_dependencies_happens_before :
    <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>,
      dm âˆˆ full_message_dependencies m &lt;-&gt;
      msg_dep_happens_before message_dependencies dm m;
  full_message_dependencies_irreflexive :
    <span class="kr">forall</span> <span class="nv">m</span>, m âˆ‰ full_message_dependencies m;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_FullMessageDependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* given the message type, we can usually look up the functions for message dependencies *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Hint Mode</span> FullMessageDependencies ! - - - - - - - - - - - - : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_FullMessageDependencies_happens_before</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  (full_message_dependencies : message -&gt; Cm)
  (HFullMsgDep : FullMessageDependencies message_dependencies full_message_dependencies)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk121">#[export] <span class="kn">Instance</span> <span class="nf">msg_dep_happens_before_dec</span> :
 RelDecision (msg_dep_happens_before message_dependencies).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision
  (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk122"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision
  (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk123"><span class="nb">refine</span>
   (<span class="kr">fun</span> <span class="nv">m1</span> <span class="nv">m2</span> =&gt;
      <span class="kr">match</span> decide (m1 âˆˆ full_message_dependencies m2) <span class="kr">with</span>
      | <span class="nb">left</span> Hdec =&gt; <span class="nb">left</span> _
      | <span class="nb">right</span> Hdec =&gt; <span class="nb">right</span> _
      <span class="kr">end</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>m1 âˆˆ full_message_dependencies m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies m1 m2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk124" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>m1 âˆ‰ full_message_dependencies m2</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk124"><hr></label><div class="goal-conclusion">Â¬ msg_dep_happens_before message_dependencies m1 m2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk125">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>m1 âˆˆ full_message_dependencies m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- full_message_dependencies_happens_before.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk126">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdec</var><span class="hyp-type"><b>: </b><span>m1 âˆ‰ full_message_dependencies m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ msg_dep_happens_before message_dependencies m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- full_message_dependencies_happens_before.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk127">#[export] <span class="kn">Instance</span> <span class="nf">msg_dep_happens_before_irrefl</span> :
  Irreflexive (msg_dep_happens_before message_dependencies).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Irreflexive
  (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk128"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Irreflexive
  (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk129"><span class="nb">intros</span> m Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12a"><span class="bp">contradict</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ msg_dep_happens_before message_dependencies m m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12b"><span class="nb">rewrite</span> &lt;- full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m âˆ‰ full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> full_message_dependencies_irreflexive.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">msg_dep_happens_before_strict</span> :
  StrictOrder (msg_dep_happens_before message_dependencies) := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12c"><span class="kn">Lemma</span> <span class="nf">msg_dep_rel_full_message_dependecies_subset</span> :
  <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : message, msg_dep_rel message_dependencies x y -&gt;
    full_message_dependencies x âŠ† full_message_dependencies y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> <span class="nv">y</span> : message,
  msg_dep_rel message_dependencies x y
  â†’ full_message_dependencies x
    âŠ† full_message_dependencies y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> <span class="nv">y</span> : message,
  msg_dep_rel message_dependencies x y
  â†’ full_message_dependencies x
    âŠ† full_message_dependencies y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12e"><span class="nb">intros</span>; <span class="nb">intros</span> z Hz.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>z âˆˆ full_message_dependencies x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z âˆˆ full_message_dependencies y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12f"><span class="nb">apply</span> full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>z âˆˆ full_message_dependencies x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies z y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk130"><span class="nb">transitivity</span> x; [<span class="bp">by</span> <span class="nb">apply</span> full_message_dependencies_happens_before |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>z âˆˆ full_message_dependencies x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk131"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_wf</span> : well_founded (msg_dep_happens_before message_dependencies).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk132"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk133"><span class="nb">apply</span> tc_wf_projected <span class="kr">with</span> (&lt;) (<span class="kr">fun</span> <span class="nv">m</span> =&gt; length (elements (full_message_dependencies m)));
    [<span class="bp">by</span> <span class="nb">typeclasses eauto</span> | | <span class="bp">by</span> <span class="nb">apply</span> Wf_nat.lt_wf].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">x</span> <span class="nv">y</span> : message,
  msg_dep_rel message_dependencies x y
  â†’ length (elements (full_message_dependencies x)) &lt;
    length (elements (full_message_dependencies y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk134"><span class="nb">intros</span>; <span class="nb">unfold</span> lt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (elements (full_message_dependencies x)))
â‰¤ length (elements (full_message_dependencies y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk135"><span class="nb">change</span> (S _) <span class="kr">with</span> (length (x :: elements (full_message_dependencies x))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (x :: elements (full_message_dependencies x))
â‰¤ length (elements (full_message_dependencies y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk136"><span class="nb">apply</span> NoDup_subseteq_length.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (x :: elements (full_message_dependencies x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk137" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk137"><hr></label><div class="goal-conclusion">x :: elements (full_message_dependencies x)
âŠ† elements (full_message_dependencies y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk138">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (x :: elements (full_message_dependencies x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk139"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆ‰ elements (full_message_dependencies x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk13a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk13a"><hr></label><div class="goal-conclusion">NoDup (elements (full_message_dependencies x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk13b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆ‰ elements (full_message_dependencies x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> elem_of_elements; <span class="nb">apply</span> full_message_dependencies_irreflexive.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk13c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (elements (full_message_dependencies x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> NoDup_elements.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk13d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x :: elements (full_message_dependencies x)
âŠ† elements (full_message_dependencies y)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk13e"><span class="nb">intros</span> z Hz; <span class="nb">inversion</span> Hz; <span class="nb">subst</span>; <span class="nb">rewrite</span> elem_of_elements <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>x âˆˆ x :: elements (full_message_dependencies x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ full_message_dependencies y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk13f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>z âˆˆ x :: elements (full_message_dependencies x)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>z âˆˆ full_message_dependencies x</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk13f"><hr></label><div class="goal-conclusion">z âˆˆ full_message_dependencies y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk140">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>x âˆˆ x :: elements (full_message_dependencies x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x âˆˆ full_message_dependencies y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> full_message_dependencies_happens_before; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk141">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies x y</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hz</var><span class="hyp-type"><b>: </b><span>z âˆˆ x :: elements (full_message_dependencies x)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>z âˆˆ full_message_dependencies x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z âˆˆ full_message_dependencies y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> msg_dep_rel_full_message_dependecies_subset.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk142"><span class="kn">Lemma</span> <span class="nf">FullMessageDependencies_ind</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  <span class="nv">m</span>
  (<span class="nv">IHm</span> : <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ full_message_dependencies m -&gt;
    (<span class="kr">forall</span> <span class="nv">dm0</span>, dm0 âˆˆ full_message_dependencies dm -&gt; P dm0) -&gt; P dm)
  : <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ full_message_dependencies m -&gt; P dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk143"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk144"><span class="nb">induction</span> m  <span class="kr">as</span> (m &amp; Hm) <span class="nb">using</span> (well_founded_ind msg_dep_happens_before_wf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk145"><span class="nb">intros</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk146"><span class="nb">apply</span> IHm; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm â†’ P dm0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk147"><span class="nb">apply</span> Hm; [<span class="bp">by</span> <span class="nb">apply</span> full_message_dependencies_happens_before |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm1</span> : message,
       dm1 âˆˆ full_message_dependencies dm0 â†’ P dm1)
    â†’ P dm0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk148"><span class="nb">intros</span> dm0 Hdm0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>dm0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm0</var><span class="hyp-type"><b>: </b><span>dm0 âˆˆ full_message_dependencies dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">dm1</span> : message,
   dm1 âˆˆ full_message_dependencies dm0 â†’ P dm1)
â†’ P dm0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk149"><span class="nb">apply</span> IHm, full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>HFullMsgDep</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>dm0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm0</var><span class="hyp-type"><b>: </b><span>dm0 âˆˆ full_message_dependencies dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm0 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">transitivity</span> dm; <span class="nb">apply</span> full_message_dependencies_happens_before.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_FullMessageDependencies_happens_before</span>.</span></span></pre><div class="doc">
<a id="lab4"></a><h2 class="section">Basic validation condition for free composition</h2>
<div class="paragraph"> </div>

  In this section we show (Lemma <span class="inlinecode"><span class="id" title="var">valid_free_validating_is_message_validating</span></span>)
  that, under <span class="inlinecode"><span class="id" title="var">FullMessageDependencies</span></span> assumptions, if the validity predicate
  ensures that message itself and all of its dependencies can be emitted using
  only its dependencies, then the input message is valid for the free composition.
  Thus, the component itself is a validator for the free composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_free_composition_validators</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  {validator : <span class="kt">Type</span>}
  (A : validator -&gt; index)
  (sender : message -&gt; option validator)
  `(message_dependencies : message -&gt; Cm)
  `(full_message_dependencies : message -&gt; Cm)
  `{FullMessageDependencies message Cm message_dependencies full_message_dependencies}
  .</span></span></pre><div class="doc">
  The property of a message of having a sender and being emittable by the
  component corresponding to its sender preloaded with the dependencies of the
  message.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">Emittable_from_dependencies_prop</span> (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
| efdp : <span class="kr">forall</span> (<span class="nv">v</span> : validator) (<span class="nv">Hsender</span> : sender m = Some v)
            (<span class="nv">Hemittable</span> : can_emit
              (preloaded_vlsm (IM (A v)) (<span class="kr">fun</span> <span class="nv">dm</span> =&gt; dm âˆˆ message_dependencies m))
              m),
             Emittable_from_dependencies_prop m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">emittable_from_dependencies_prop</span> (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
  <span class="kr">match</span> sender m <span class="kr">with</span>
  | None =&gt; <span class="kt">False</span>
  | Some v =&gt; can_emit (preloaded_vlsm (IM (A v)) (<span class="kr">fun</span> <span class="nv">dm</span> =&gt; dm âˆˆ message_dependencies m)) m
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk14a"><span class="kn">Lemma</span> <span class="nf">emittable_from_dependencies_prop_iff</span> <span class="nv">m</span>
  : Emittable_from_dependencies_prop m &lt;-&gt; emittable_from_dependencies_prop m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m
â†” emittable_from_dependencies_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk14b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m
â†” emittable_from_dependencies_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk14c"><span class="nb">unfold</span> emittable_from_dependencies_prop; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m
â†’ <span class="kr">match</span> sender m <span class="kr">with</span>
  | Some v =&gt;
      can_emit
        (preloaded_vlsm (IM (A v))
           (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
              dm âˆˆ message_dependencies m)) m
  | None =&gt; <span class="kt">False</span>
  <span class="kr">end</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk14d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk14d"><hr></label><div class="goal-conclusion"><span class="kr">match</span> sender m <span class="kr">with</span>
| Some v =&gt;
    can_emit
      (preloaded_vlsm (IM (A v))
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message, dm âˆˆ message_dependencies m))
      m
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span> â†’ Emittable_from_dependencies_prop m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk14e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m
â†’ <span class="kr">match</span> sender m <span class="kr">with</span>
  | Some v =&gt;
      can_emit
        (preloaded_vlsm (IM (A v))
           (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
              dm âˆˆ message_dependencies m)) m
  | None =&gt; <span class="kt">False</span>
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">rewrite</span> Hsender.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk14f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> sender m <span class="kr">with</span>
| Some v =&gt;
    can_emit
      (preloaded_vlsm (IM (A v))
         (<span class="kr">Î»</span> <span class="nv">dm</span> : message, dm âˆˆ message_dependencies m))
      m
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span> â†’ Emittable_from_dependencies_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (sender m) <span class="nb">eqn</span>: Hsender; [<span class="kr">exists</span> <span class="nv">v</span> | <span class="nb">inversion</span> <span class="mi">1</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The property of a message that both itself and all of its dependencies are
  emittable from their dependencies.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">all_dependencies_emittable_from_dependencies_prop</span> (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ m :: elements (full_message_dependencies m) -&gt; Emittable_from_dependencies_prop dm.</span></span></pre><div class="doc">
  The property of requiring that the validity predicate subsumes the
  <span class="inlinecode"><span class="id" title="var">all_dependencies_emittable_from_dependencies_prop</span></span>erty.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">valid_all_dependencies_emittable_from_dependencies_prop</span> (<span class="nv">i</span> : index) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">m</span>, input_constrained (IM i) l (s, Some m) -&gt;
    all_dependencies_emittable_from_dependencies_prop m.</span></span></pre><div class="doc">
  If a message can be emitted by a component preloaded with the message's direct
  dependencies, and if all the dependencies of the message are valid for the
  free composition, then the message itself is valid for the free composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk150"><span class="kn">Lemma</span> <span class="nf">free_valid_from_valid_dependencies</span>
  <span class="nv">m</span> <span class="nv">i</span>
  (<span class="nv">Hm</span> : can_emit (preloaded_vlsm (IM i) (<span class="kr">fun</span> <span class="nv">dm</span> =&gt; dm âˆˆ message_dependencies m)) m)
  (<span class="nv">Hdeps</span> :
    <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ full_message_dependencies m -&gt;
      valid_message_prop (free_composite_vlsm IM) dm)
  : valid_message_prop (free_composite_vlsm IM) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM i)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message, dm âˆˆ message_dependencies m))
  m</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ valid_message_prop
      (free_composite_vlsm IM) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk151"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM i)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message, dm âˆˆ message_dependencies m))
  m</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ valid_message_prop
      (free_composite_vlsm IM) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk152"><span class="nb">eapply</span> emitted_messages_are_valid, free_valid_preloaded_lifts_can_be_emitted; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM i)
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message, dm âˆˆ message_dependencies m))
  m</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ valid_message_prop
      (free_composite_vlsm IM) dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  (<span class="kr">Î»</span> <span class="nv">dm0</span> : message, dm0 âˆˆ message_dependencies m) dm
  â†’ valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">apply</span> Hdeps, full_message_dependencies_happens_before, msg_dep_happens_before_iff_one;
    <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Any message with the <span class="inlinecode"><span class="id" title="var">all_dependencies_emittable_from_dependencies_prop</span></span>erty
  is valid for the free composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk153"><span class="kn">Lemma</span> <span class="nf">free_valid_from_all_dependencies_emitable_from_dependencies</span> :
  <span class="kr">forall</span> <span class="nv">m</span>,
    all_dependencies_emittable_from_dependencies_prop m -&gt;
      valid_message_prop (free_composite_vlsm IM) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  all_dependencies_emittable_from_dependencies_prop m
  â†’ valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk154"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  all_dependencies_emittable_from_dependencies_prop m
  â†’ valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk155"><span class="nb">intros</span> m Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk156"><span class="nb">specialize</span> (Hm m) <span class="kr">as</span> Hemit; spec Hemit; [<span class="nb">left</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>Emittable_from_dependencies_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk157"><span class="nb">inversion</span> Hemit <span class="kr">as</span> [v _ Hemit&#39;]; <span class="nb">clear</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemit'</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM (A v))
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        dm âˆˆ message_dependencies m)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk158"><span class="nb">apply</span> free_valid_from_valid_dependencies <span class="kr">with</span> (A v); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemit'</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM (A v))
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message,
        dm âˆˆ message_dependencies m)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk159"><span class="nb">clear</span> v Hemit&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15a"><span class="nb">eapply</span> FullMessageDependencies_ind; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ valid_message_prop (free_composite_vlsm IM)
           dm0)
    â†’ valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15b"><span class="nb">intros</span> dm Hdm Hdeps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>all_dependencies_emittable_from_dependencies_prop
  m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm
  â†’ valid_message_prop
      (free_composite_vlsm IM) dm0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15c"><span class="nb">specialize</span> (Hm dm); spec Hm; [<span class="bp">by</span> <span class="nb">right</span>; <span class="nb">apply</span> elem_of_elements |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m, dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm
  â†’ valid_message_prop
      (free_composite_vlsm IM) dm0</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Emittable_from_dependencies_prop dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15d"><span class="nb">inversion</span> Hm <span class="kr">as</span> [v _ ?]; <span class="nb">clear</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m, dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>Hdeps</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm
  â†’ valid_message_prop
      (free_composite_vlsm IM) dm0</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemittable</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_vlsm (IM (A v))
     (<span class="kr">Î»</span> <span class="nv">dm0</span> : message,
        dm0 âˆˆ message_dependencies dm))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> free_valid_from_valid_dependencies <span class="kr">with</span> (A v).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If a component in a composition satisfies the
  <span class="inlinecode"><span class="id" title="var">valid_all_dependencies_emittable_from_dependencies_prop</span></span>erty, then it also has
  the <span class="inlinecode"><span class="id" title="var">component_message_validator_prop</span></span>erty, that is, it is a validator for the
  free composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15e"><span class="kn">Lemma</span> <span class="nf">valid_free_validating_is_message_validating</span>
  : <span class="kr">forall</span> <span class="nv">i</span>, valid_all_dependencies_emittable_from_dependencies_prop i -&gt;
    component_message_validator_prop IM (free_constraint IM) i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  valid_all_dependencies_emittable_from_dependencies_prop
    i
  â†’ component_message_validator_prop IM
      (free_constraint IM) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  valid_all_dependencies_emittable_from_dependencies_prop
    i
  â†’ component_message_validator_prop IM
      (free_constraint IM) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk160"><span class="nb">intros</span> i Hvalidating l s im Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (composite_vlsm IM (free_constraint IM)) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk161"><span class="nb">eapply</span> VLSM_incl_valid_message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part <span class="nl">?MX</span>
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (free_constraint IM))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk162" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk162"><hr></label><div class="goal-conclusion">strong_incl_initial_message_preservation 
  <span class="nl">?MX</span>
  (constrained_vlsm_machine 
     (free_composite_vlsm IM) 
     (free_constraint IM))</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk163" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk163"><hr></label><div class="goal-conclusion">valid_message_prop
  {|
    vlsm_type := free_composite_vlsm IM;
    vlsm_machine := <span class="nl">?MX</span>
  |} im</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk164">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part <span class="nl">?MX</span>
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (free_constraint IM))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> free_composite_vlsm_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk165">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_message_preservation
  {|
    vlsm_type := free_composite_vlsm IM;
    vlsm_machine := free_composite_vlsm IM
  |}
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (free_constraint IM))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">do</span> <span class="mi">2</span> <span class="nb">red</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk166">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidating</var><span class="hyp-type"><b>: </b><span>valid_all_dependencies_emittable_from_dependencies_prop
  i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  {|
    vlsm_type := free_composite_vlsm IM;
    vlsm_machine :=
      {|
        vlsm_type := free_composite_vlsm IM;
        vlsm_machine := free_composite_vlsm IM
      |}
  |} im</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> free_valid_from_all_dependencies_emitable_from_dependencies, Hvalidating.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Under several additional (but regularly used) assumptions, including the
  <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> assumptions, the <span class="inlinecode"><span class="id" title="var">channel_authentication_prop</span></span>erty and the
  <span class="inlinecode"><span class="id" title="var">no_initial_messages_in_IM_prop</span></span>erty, we can show that the
  <span class="inlinecode"><span class="id" title="var">component_message_validator_prop</span></span>erty is fully equivalent to the
  <span class="inlinecode"><span class="id" title="var">valid_all_dependencies_emittable_from_dependencies_prop</span></span>erty.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk167"><span class="kn">Lemma</span> <span class="nf">valid_free_validating_equiv_message_validating</span>
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies}
  (Hchannel : channel_authentication_prop IM A sender)
  (no_initial_messages_in_IM : no_initial_messages_in_IM_prop IM)
  : <span class="kr">forall</span> <span class="nv">i</span>, component_message_validator_prop IM (free_constraint IM) i &lt;-&gt;
  valid_all_dependencies_emittable_from_dependencies_prop i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    (free_constraint IM) i
  â†” valid_all_dependencies_emittable_from_dependencies_prop
      i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk168"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    (free_constraint IM) i
  â†” valid_all_dependencies_emittable_from_dependencies_prop
      i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk169"><span class="nb">intros</span> i; <span class="nb">split</span>; [| <span class="nb">apply</span> valid_free_validating_is_message_validating].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">component_message_validator_prop IM
  (free_constraint IM) i
â†’ valid_all_dependencies_emittable_from_dependencies_prop
    i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk16a"><span class="nb">intros</span> Hvalidator l s m Hv dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>component_message_validator_prop IM
  (free_constraint IM) i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk16b"><span class="nb">specialize</span> (Hvalidator l s m Hv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk16c"><span class="nb">inversion</span> Hdm <span class="kr">as</span> [| ? ? ? Hin]; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>m âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk16d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>dm âˆˆ elements (full_message_dependencies m)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk16d"><hr></label><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk16e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>m âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk16f"><span class="nb">eapply</span> composite_no_initial_valid_messages_emitted_by_sender <span class="kr">in</span> Hvalidator
        <span class="kr">as</span> (v &amp; Hsender &amp; Hemit); [| <span class="bp">done</span> | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>m âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM (A v)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk170"><span class="kr">exists</span> <span class="nv">v</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>m âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM (A v)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (preloaded_vlsm (IM (A v))
     (<span class="kr">Î»</span> <span class="nv">dm</span> : message, dm âˆˆ message_dependencies m)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> message_dependencies_are_sufficient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk171">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>dm âˆˆ elements (full_message_dependencies m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk172"><span class="nb">apply</span> elem_of_elements, full_message_dependencies_happens_before <span class="kr">in</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk173"><span class="nb">eapply</span> msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender <span class="kr">in</span> Hin
        <span class="kr">as</span> (v &amp; Hsender &amp; Hemit); [| <span class="bp">done</span>.. |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM (A v)))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk174" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk174"><hr></label><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk175">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM (A v)))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Emittable_from_dependencies_prop dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk176"><span class="kr">exists</span> <span class="nv">v</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender dm = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (preloaded_with_all_messages_vlsm (IM (A v)))
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (preloaded_vlsm (IM (A v))
     (<span class="kr">Î»</span> <span class="nv">dm0</span> : message, dm0 âˆˆ message_dependencies dm))
  dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> message_dependencies_are_sufficient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk177">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (free_composite_vlsm IM) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk178"><span class="nb">eapply</span> VLSM_incl_valid_message; [| | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (free_constraint IM))
  (free_composite_vlsm_machine IM)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk179" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk179"><hr></label><div class="goal-conclusion">strong_incl_initial_message_preservation
  (constrained_vlsm_machine 
     (free_composite_vlsm IM) 
     (free_constraint IM))
  (free_composite_vlsm_machine IM)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (free_constraint IM))
  (free_composite_vlsm_machine IM)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> free_composite_vlsm_spec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17b">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>valid_message_prop
  (composite_vlsm IM (free_constraint IM))
  m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) l (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ m :: elements (full_message_dependencies m)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_message_preservation
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (free_constraint IM))
  (free_composite_vlsm_machine IM)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">do</span> <span class="mi">2</span> <span class="nb">red</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_free_composition_validators</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_CompositeHasBeenObserved_dec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `{FinSet message Cm}
  `{finite.Finite index}
  (message_dependencies : message -&gt; Cm)
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, ComputableSentMessages (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, ComputableReceivedMessages (IM i)}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17c">#[export] <span class="kn">Instance</span> <span class="nf">CompositeHasBeenObserved_dec</span>
  `{FullMessageDependencies message Cm message_dependencies full_message_dependencies}
  : RelDecision (CompositeHasBeenObserved IM message_dependencies).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision
  (CompositeHasBeenObserved IM message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision
  (CompositeHasBeenObserved IM message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17e"><span class="nb">intros</span> s m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (CompositeHasBeenObserved IM message_dependencies s
     m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17f"><span class="nb">destruct</span> (decide (composite_has_been_directly_observed IM s m));
    [<span class="bp">by</span> <span class="nb">left</span>; <span class="nb">constructor</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (CompositeHasBeenObserved IM message_dependencies s
     m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk180"><span class="nb">destruct</span> (decide (Exists (<span class="kr">fun</span> <span class="nv">m&#39;</span> =&gt; m âˆˆ elements (full_message_dependencies m&#39;))
                      (composite_observed_messages_set IM s))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Exists
  (<span class="kr">Î»</span> <span class="nv">m&#39;</span> : message,
     m âˆˆ elements (full_message_dependencies m&#39;))
  (composite_observed_messages_set IM s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (CompositeHasBeenObserved IM message_dependencies s
     m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk181" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>Â¬ Exists
    (<span class="kr">Î»</span> <span class="nv">m&#39;</span> : message,
       m
       âˆˆ elements (full_message_dependencies m&#39;))
    (composite_observed_messages_set IM s)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk181"><hr></label><div class="goal-conclusion">Decision
  (CompositeHasBeenObserved IM message_dependencies s
     m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk182">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Exists
  (<span class="kr">Î»</span> <span class="nv">m&#39;</span> : message,
     m âˆˆ elements (full_message_dependencies m&#39;))
  (composite_observed_messages_set IM s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (CompositeHasBeenObserved IM message_dependencies s
     m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk183"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>Exists
  (<span class="kr">Î»</span> <span class="nv">m&#39;</span> : message,
     m âˆˆ elements (full_message_dependencies m&#39;))
  (composite_observed_messages_set IM s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved IM message_dependencies s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk184"><span class="nb">apply</span> Exists_exists <span class="kr">in</span> e <span class="kr">as</span> (m&#39; &amp; Hobsm&#39; &amp; Hmm&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobsm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ composite_observed_messages_set IM s</span></span></span><br><span><var>Hmm'</var><span class="hyp-type"><b>: </b><span>m âˆˆ elements (full_message_dependencies m&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved IM message_dependencies s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk185"><span class="nb">constructor</span> <span class="mi">2</span> <span class="kr">with</span> m&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobsm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ composite_observed_messages_set IM s</span></span></span><br><span><var>Hmm'</var><span class="hyp-type"><b>: </b><span>m âˆˆ elements (full_message_dependencies m&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s m&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk186" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobsm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ composite_observed_messages_set IM s</span></span></span><br><span><var>Hmm'</var><span class="hyp-type"><b>: </b><span>m âˆˆ elements (full_message_dependencies m&#39;)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk186"><hr></label><div class="goal-conclusion">msg_dep_happens_before message_dependencies m m&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk187">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobsm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ composite_observed_messages_set IM s</span></span></span><br><span><var>Hmm'</var><span class="hyp-type"><b>: </b><span>m âˆˆ elements (full_message_dependencies m&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM s m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_composite_observed_messages_set.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk188">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hobsm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ composite_observed_messages_set IM s</span></span></span><br><span><var>Hmm'</var><span class="hyp-type"><b>: </b><span>m âˆˆ elements (full_message_dependencies m&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies m m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> full_message_dependencies_happens_before; <span class="nb">apply</span> elem_of_elements <span class="kr">in</span> Hmm&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk189">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>Â¬ Exists
    (<span class="kr">Î»</span> <span class="nv">m&#39;</span> : message,
       m
       âˆˆ elements (full_message_dependencies m&#39;))
    (composite_observed_messages_set IM s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (CompositeHasBeenObserved IM message_dependencies s
     m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18a"><span class="nb">right</span>; <span class="nb">inversion</span> <span class="mi">1</span>; [<span class="bp">by</span> <span class="bp">contradict</span> n |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>Â¬ Exists
    (<span class="kr">Î»</span> <span class="nv">m&#39;</span> : message,
       m
       âˆˆ elements (full_message_dependencies m&#39;))
    (composite_observed_messages_set IM s)</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM message_dependencies
  s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18b"><span class="bp">contradict</span> n0; <span class="nb">apply</span> Exists_exists; <span class="kr">exists</span> <span class="nv">m&#39;</span>; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM message_dependencies
  s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m&#39; âˆˆ composite_observed_messages_set IM s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk18c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM message_dependencies
  s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk18c"><hr></label><div class="goal-conclusion">m âˆˆ elements (full_message_dependencies m&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM message_dependencies
  s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m&#39; âˆˆ composite_observed_messages_set IM s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_composite_observed_messages_set.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableSentMessages (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, ComputableReceivedMessages (IM i)</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_directly_observed IM s m</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM message_dependencies
  s m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>composite_has_been_directly_observed IM s m&#39;</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m âˆˆ elements (full_message_dependencies m&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_elements; <span class="nb">apply</span> full_message_dependencies_happens_before.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_CompositeHasBeenObserved_dec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_msg_dep_is_globally_equivocating_props</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{EqDecision index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  `(sender : message -&gt; option validator)
  (A : validator -&gt; index)
  (Hauth : channel_authentication_prop IM A sender)
  (Hsender_safety := channel_authentication_sender_safety _ _ _ Hauth)
  (Free := free_composite_vlsm IM)
  .</span></span></pre><div class="doc">
  Input valid transitions preserve (global) evidence of equivocation on
  components not touched by the transitions.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18f"><span class="kn">Lemma</span> <span class="nf">input_valid_transition_preserves_msg_dep_is_globally_equivocating</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item IM),
    input_constrained_transition_item Free s item -&gt;
    <span class="kr">forall</span> <span class="nv">j</span>, destination item j = s j -&gt;
    <span class="kr">forall</span> <span class="nv">v</span>, A v = j -&gt;
      msg_dep_is_globally_equivocating IM message_dependencies sender s v -&gt;
      msg_dep_is_globally_equivocating IM message_dependencies sender (destination item) v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item
                                     IM),
  input_constrained_transition_item Free s item
  â†’ <span class="kr">âˆ€</span> <span class="nv">j</span> : index,
      destination item j = s j
      â†’ <span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
          A v = j
          â†’ msg_dep_is_globally_equivocating IM
              message_dependencies sender s v
            â†’ msg_dep_is_globally_equivocating IM
                message_dependencies sender
                (destination item) v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk190"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item
                                     IM),
  input_constrained_transition_item Free s item
  â†’ <span class="kr">âˆ€</span> <span class="nv">j</span> : index,
      destination item j = s j
      â†’ <span class="kr">âˆ€</span> <span class="nv">v</span> : validator,
          A v = j
          â†’ msg_dep_is_globally_equivocating IM
              message_dependencies sender s v
            â†’ msg_dep_is_globally_equivocating IM
                message_dependencies sender
                (destination item) v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk191"><span class="nb">intros</span> s item Ht j Hsj v Hv [m []].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item Free s item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_is_globally_equivocating IM
  message_dependencies sender (destination item) v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk192"><span class="kr">exists</span> <span class="nv">m</span>; <span class="nb">constructor</span>; [<span class="bp">done</span> | ..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item Free s item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved IM message_dependencies
  (destination item) m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk193" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item Free s item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk193"><hr></label><div class="goal-conclusion">Â¬ composite_has_been_sent IM (destination item) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk194">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item Free s item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">CompositeHasBeenObserved IM message_dependencies
  (destination item) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> transition_preserves_CompositeHasBeenObserved.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk195">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item Free s item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>Â¬ composite_has_been_sent IM s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ composite_has_been_sent IM (destination item) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk196"><span class="bp">contradict</span> mdgee_not_sent0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_constrained_transition_item Free s item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent IM
  (destination item) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk197"><span class="nb">apply</span> exists_right_finite_trace_from <span class="kr">in</span> Ht <span class="kr">as</span> (<span class="kr">is</span> &amp; tr &amp; Htr &amp; _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) <span class="kr">is</span>
  (destination item)
  (tr ++
   [{|
      l := l item;
      input := input item;
      destination := destination item;
      output := output item
    |}])</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent IM
  (destination item) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk198"><span class="nb">eapply</span> has_been_sent_iff_by_sender <span class="kr">in</span> mdgee_not_sent0; [| <span class="bp">done</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) <span class="kr">is</span>
  (destination item)
  (tr ++
   [{|
      l := l item;
      input := input item;
      destination := destination item;
      output := output item
    |}])</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM (A v))
  (destination item (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk199"><span class="nb">rewrite</span> Hv, Hsj <span class="kr">in</span> mdgee_not_sent0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Free) <span class="kr">is</span>
  (destination item)
  (tr ++
   [{|
      l := l item;
      input := input item;
      destination := destination item;
      output := output item
    |}])</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>destination item j = s j</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v = j</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>mdgee_sender0</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>mdgee_rec_observed0</var><span class="hyp-type"><b>: </b><span>CompositeHasBeenObserved IM
  message_dependencies s m</span></span></span><br><span><var>mdgee_not_sent0</var><span class="hyp-type"><b>: </b><span>has_been_sent (IM j) (s j) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
We also define the case in which a transition doesn't forget equivocation. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">transition_preserves_global_equivocation</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item IM) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">v</span> : validator),
    msg_dep_is_globally_equivocating IM message_dependencies sender s v -&gt;
    msg_dep_is_globally_equivocating IM message_dependencies sender (destination item) v.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">TraceMonotoneGlobalEquivocation</span> :
  composite_state IM -&gt; list (composite_transition_item IM) -&gt; <span class="kt">Prop</span> :=
| tpge_initial :
    <span class="kr">forall</span> (<span class="nv">s</span> : composite_state IM), TraceMonotoneGlobalEquivocation s []
| tpge_step :
    <span class="kr">forall</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">item</span> : composite_transition_item IM)
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      transition_preserves_global_equivocation s item -&gt;
      TraceMonotoneGlobalEquivocation (destination item) tr -&gt;
      TraceMonotoneGlobalEquivocation s (item :: tr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trace_monotone_global_equivocation</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">tr</span> : list (composite_transition_item IM)) : <span class="kt">Prop</span> :=
    <span class="kr">forall</span> (<span class="nv">pre</span> <span class="nv">suf</span> : list (composite_transition_item IM)) (<span class="nv">item</span> : composite_transition_item IM),
      tr = pre ++ [item] ++ suf -&gt;
      transition_preserves_global_equivocation (finite_trace_last s pre) item.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19a"><span class="kn">Lemma</span> <span class="nf">trace_monotone_global_equivocation_def_equiv</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">tr</span> : list (composite_transition_item IM)),
    trace_monotone_global_equivocation s tr
      &lt;-&gt;
    TraceMonotoneGlobalEquivocation s tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">tr</span> : list
                                   (composite_transition_item
                                      IM)),
  trace_monotone_global_equivocation s tr
  â†” TraceMonotoneGlobalEquivocation s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">tr</span> : list
                                   (composite_transition_item
                                      IM)),
  trace_monotone_global_equivocation s tr
  â†” TraceMonotoneGlobalEquivocation s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19c"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_monotone_global_equivocation s tr
â†’ TraceMonotoneGlobalEquivocation s tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk19d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk19d"><hr></label><div class="goal-conclusion">TraceMonotoneGlobalEquivocation s tr
â†’ trace_monotone_global_equivocation s tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_monotone_global_equivocation s tr
â†’ TraceMonotoneGlobalEquivocation s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19f"><span class="nb">remember</span> (length tr) <span class="kr">as</span> n; <span class="nb">revert</span> s tr Heqn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">tr</span> : list
                                   (composite_transition_item
                                      IM)),
  n = length tr
  â†’ trace_monotone_global_equivocation s tr
    â†’ TraceMonotoneGlobalEquivocation s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a0"><span class="nb">induction</span> n <span class="kr">as</span> [n IHn] <span class="nb">using</span> (well_founded_ind lt_wf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; n
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">tr</span> : list
                                   (composite_transition_item
                                      IM)),
  n = length tr
  â†’ trace_monotone_global_equivocation s tr
    â†’ TraceMonotoneGlobalEquivocation s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a1"><span class="nb">intros</span> s [| item tr]; [<span class="bp">by</span> <span class="nb">constructor</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; n
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length (item :: tr)
â†’ trace_monotone_global_equivocation s (item :: tr)
  â†’ TraceMonotoneGlobalEquivocation s (item :: tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a2"><span class="nb">cbn</span>; <span class="nb">intros</span> -&gt; Hall; <span class="nb">constructor</span>; [<span class="bp">by</span> <span class="nb">apply</span> (Hall [] tr) |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; S (length tr)
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>trace_monotone_global_equivocation s
  (item :: tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">TraceMonotoneGlobalEquivocation (destination item) tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a3"><span class="nb">eapply</span> IHn; <span class="nb">cycle</span> <span class="mi">1</span>; [<span class="bp">done</span> | | <span class="bp">by</span> <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; S (length tr)
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>trace_monotone_global_equivocation s
  (item :: tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_monotone_global_equivocation (destination item)
  tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a4"><span class="nb">intros</span> pre suf item&#39; -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; S (length (pre ++ [item&#39;] ++ suf))
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>trace_monotone_global_equivocation s
  (item :: pre ++ [item&#39;] ++ suf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_preserves_global_equivocation
  (finite_trace_last (destination item) pre) item&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a5"><span class="nb">specialize</span> (Hall (item :: pre) suf item&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; S (length (pre ++ [item&#39;] ++ suf))
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>item :: pre ++ [item&#39;] ++ suf =
(item :: pre) ++ [item&#39;] ++ suf
â†’ transition_preserves_global_equivocation
    (finite_trace_last s (item :: pre)) item&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_preserves_global_equivocation
  (finite_trace_last (destination item) pre) item&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a6"><span class="nb">rewrite</span> finite_trace_last_cons <span class="kr">in</span> Hall; <span class="nb">apply</span> Hall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : nat,
  y &lt; S (length (pre ++ [item&#39;] ++ suf))
  â†’ <span class="kr">âˆ€</span> (<span class="nv">s</span> : composite_state IM) 
      (<span class="nv">tr</span> : list (composite_transition_item IM)),
      y = length tr
      â†’ trace_monotone_global_equivocation s tr
        â†’ TraceMonotoneGlobalEquivocation s tr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>item :: pre ++ [item&#39;] ++ suf =
(item :: pre) ++ [item&#39;] ++ suf
â†’ transition_preserves_global_equivocation
    (finite_trace_last (destination item) pre)
    item&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item :: pre ++ [item&#39;] ++ suf =
(item :: pre) ++ [item&#39;] ++ suf</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> simplify_list_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">TraceMonotoneGlobalEquivocation s tr
â†’ trace_monotone_global_equivocation s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a8"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">intros</span> pre suf item1 Heq; [<span class="bp">by</span> <span class="nb">destruct</span> pre |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>transition_preserves_global_equivocation s item</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>TraceMonotoneGlobalEquivocation
  (destination item) tr</span></span></span><br><span><var>IHTraceMonotoneGlobalEquivocation</var><span class="hyp-type"><b>: </b><span>trace_monotone_global_equivocation
  (destination
     item) tr</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item1</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>item :: tr = pre ++ [item1] ++ suf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_preserves_global_equivocation
  (finite_trace_last s pre) item1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a9"><span class="nb">destruct</span> pre <span class="kr">as</span> [| _item pre]; simplify_list_eq; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>transition_preserves_global_equivocation s _item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item1</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>TraceMonotoneGlobalEquivocation
  (destination _item) (pre ++ item1 :: suf)</span></span></span><br><span><var>IHTraceMonotoneGlobalEquivocation</var><span class="hyp-type"><b>: </b><span>trace_monotone_global_equivocation
  (destination
     _item)
  (pre ++
   item1 :: suf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_preserves_global_equivocation
  (finite_trace_last s (_item :: pre)) item1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1aa"><span class="nb">rewrite</span> finite_trace_last_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ Cm</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hsender_safety</var><span><span class="hyp-body"><b>:= </b><span>channel_authentication_sender_safety
  IM A sender Hauth</span></span><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>_item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>transition_preserves_global_equivocation s _item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item1</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>TraceMonotoneGlobalEquivocation
  (destination _item) (pre ++ item1 :: suf)</span></span></span><br><span><var>IHTraceMonotoneGlobalEquivocation</var><span class="hyp-type"><b>: </b><span>trace_monotone_global_equivocation
  (destination
     _item)
  (pre ++
   item1 :: suf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_preserves_global_equivocation
  (finite_trace_last (destination _item) pre) item1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> IHTraceMonotoneGlobalEquivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_msg_dep_is_globally_equivocating_props</span>.</span></span></pre></article></body></html>