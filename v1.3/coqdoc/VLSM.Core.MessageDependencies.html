<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#"><span class="id" title="library">FinSetExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#"><span class="id" title="library">SubProjectionTraces</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a> <a class="idref" href="VLSM.Core.EquivocationProjections.html#"><span class="id" title="library">EquivocationProjections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab178"></a><h1 class="section">Core: VLSM Message Dependencies</h1>


<div class="paragraph"> </div>

  An abstract framework for the full-node condition.
  Assumes that each message has an associated set of <code>message_dependencies</code>.

<div class="paragraph"> </div>

  Given a <code>message_dependencies</code> function, we can define a (direct) message
  dependency relation <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a></span> as follows:
  message <code>m1</code> is a (direct) dependency of message <code>m2</code> if <code>m1</code> belongs
  to the <code>message_dependencies</code> of <code>m2</code>.

<div class="paragraph"> </div>

  The transitive closure of such a relation is a happens-before relation which
  we denote by <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="msg_dep_rel" class="idref" href="#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a><br/>
&nbsp;&nbsp;`{<a id="H6:11" class="idref" href="#H6:11"><span class="id" title="binder">FinSet</span></a> <a id="message:1" class="idref" href="#message:1"><span class="id" title="binder"><span id="H6:11" class="id">message</span></span></a> <a id="Cm:2" class="idref" href="#Cm:2"><span class="id" title="binder"><span id="H6:11" class="id">Cm</span></span></a>} `(<a id="message_dependencies:12" class="idref" href="#message_dependencies:12"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:2"><span class="id" title="variable">Cm</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:1"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="m1:13" class="idref" href="#m1:13"><span class="id" title="binder">m1</span></a> <a id="m2:14" class="idref" href="#m2:14"><span class="id" title="binder">m2</span></a> =&gt; <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:13"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:12"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:14"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="msg_dep_happens_before" class="idref" href="#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a><br/>
&nbsp;&nbsp;`{<a id="H6:25" class="idref" href="#H6:25"><span class="id" title="binder">FinSet</span></a> <a id="message:15" class="idref" href="#message:15"><span class="id" title="binder"><span id="H6:25" class="id">message</span></span></a> <a id="Cm:16" class="idref" href="#Cm:16"><span class="id" title="binder"><span id="H6:25" class="id">Cm</span></span></a>} `(<a id="message_dependencies:26" class="idref" href="#message_dependencies:26"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:15"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:16"><span class="id" title="variable">Cm</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:15"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="inductive">tc</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:26"><span class="id" title="variable">message_dependencies</span></a>).<br/>

<br/>
</div>

<div class="doc">
  The (local) full node condition for a given <code>message_dependencies</code> function
  requires that a state (receiving the message) has previously directly observed
  all of <code>m</code>'s dependencies.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="message_dependencies_full_node_condition" class="idref" href="#message_dependencies_full_node_condition"><span class="id" title="definition">message_dependencies_full_node_condition</span></a><br/>
&nbsp;&nbsp;`(<a id="X:28" class="idref" href="#X:28"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:27" class="idref" href="#message:27"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:38" class="idref" href="#H6:38"><span class="id" title="binder">FinSet</span></a> <a id="H6:38" class="idref" href="#H6:38"><span class="id" title="binder">message</span></a> <a id="Cm:29" class="idref" href="#Cm:29"><span class="id" title="binder"><span id="H6:38" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:39" class="idref" href="#message_dependencies:39"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:27"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:29"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H7:40" class="idref" href="#H7:40"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H7:40" class="idref" href="#H7:40"><span class="id" title="binder">message</span></a> <a id="H7:40" class="idref" href="#H7:40"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:41" class="idref" href="#H8:41"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H8:41" class="idref" href="#H8:41"><span class="id" title="binder">message</span></a> <a id="H8:41" class="idref" href="#H8:41"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;(<a id="s:42" class="idref" href="#s:42"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:28"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:43" class="idref" href="#m:43"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:27"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:44" class="idref" href="#dm:44"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:44"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:39"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:43"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:28"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:42"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:44"><span class="id" title="variable">dm</span></a>.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span> characterize a <code>message_dependencies</code> function
  through two properties:

<div class="paragraph"> </div>

<ul class="doclist">
<li> Necessity: All dependent messages for a message <code>m</code>m are required to be

</li>
</ul>
  directly observed by origin state of a transition emitting the message <code>m</code>.

<div class="paragraph"> </div>

<ul class="doclist">
<li> Sufficiency: A message can be produced by the machine preloaded with its

</li>
</ul>
  dependencies.

<div class="paragraph"> </div>

  Additionally, we require that the induced <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> relation
  is irreflexive (i.e., a message cannot recursively observe itself).

<div class="paragraph"> </div>

  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span>, together with <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a></span>,
  constitute the <i>strict full node assumption</i>.

</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a id="MessageDependencies" class="idref" href="#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a><br/>
&nbsp;&nbsp;`(<a id="X:46" class="idref" href="#X:46"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:45" class="idref" href="#message:45"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:56" class="idref" href="#H6:56"><span class="id" title="binder">FinSet</span></a> <a id="H6:56" class="idref" href="#H6:56"><span class="id" title="binder">message</span></a> <a id="Cm:47" class="idref" href="#Cm:47"><span class="id" title="binder"><span id="H6:56" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:57" class="idref" href="#message_dependencies:57"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:45"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:47"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`{<a id="HasBeenSentCapability0:58" class="idref" href="#HasBeenSentCapability0:58"><span class="id" title="binder">!</span></a><a id="HasBeenSentCapability0:58" class="idref" href="#HasBeenSentCapability0:58"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="HasBeenSentCapability0:58" class="idref" href="#HasBeenSentCapability0:58"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="HasBeenReceivedCapability0:59" class="idref" href="#HasBeenReceivedCapability0:59"><span class="id" title="binder">!</span></a><a id="HasBeenReceivedCapability0:59" class="idref" href="#HasBeenReceivedCapability0:59"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="HasBeenReceivedCapability0:59" class="idref" href="#HasBeenReceivedCapability0:59"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Irreflexive0:60" class="idref" href="#Irreflexive0:60"><span class="id" title="binder">!</span></a><a id="Irreflexive0:60" class="idref" href="#Irreflexive0:60"><span class="id" title="binder">Irreflexive</span></a> <a id="Irreflexive0:60" class="idref" href="#Irreflexive0:60"><span class="id" title="binder">(</span></a><a id="Irreflexive0:60" class="idref" href="#Irreflexive0:60"><span class="id" title="binder">msg_dep_happens_before</span></a> <a id="Irreflexive0:60" class="idref" href="#Irreflexive0:60"><span class="id" title="binder">message_dependencies</span></a><a id="Irreflexive0:60" class="idref" href="#Irreflexive0:60"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="message_dependencies_are_necessary" class="idref" href="#message_dependencies_are_necessary"><span class="id" title="projection">message_dependencies_are_necessary</span></a> (<a id="m:62" class="idref" href="#m:62"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:45"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="can_produce0:64" class="idref" href="#can_produce0:64"><span class="id" title="binder">can_produce</span></a> <a id="can_produce0:64" class="idref" href="#can_produce0:64"><span class="id" title="binder">(</span></a><a id="can_produce0:64" class="idref" href="#can_produce0:64"><span class="id" title="binder">preloaded_with_all_messages_vlsm</span></a> <a id="can_produce0:64" class="idref" href="#can_produce0:64"><span class="id" title="binder">X</span></a><a id="can_produce0:64" class="idref" href="#can_produce0:64"><span class="id" title="binder">)</span></a> <a id="s':63" class="idref" href="#s':63"><span class="id" title="binder"><span id="can_produce0:64" class="id">s'</span></span></a> <a id="can_produce0:64" class="idref" href="#can_produce0:64"><span class="id" title="binder">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition"><span class="id" title="definition">message_dependencies_full_node_condition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:46"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:57"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s':63"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:62"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="message_dependencies_are_sufficient" class="idref" href="#message_dependencies_are_sufficient"><span class="id" title="projection">message_dependencies_are_sufficient</span></a> (<a id="m:66" class="idref" href="#m:66"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:45"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`(<a id="can_emit0:67" class="idref" href="#can_emit0:67"><span class="id" title="binder">can_emit</span></a> <a id="can_emit0:67" class="idref" href="#can_emit0:67"><span class="id" title="binder">(</span></a><a id="can_emit0:67" class="idref" href="#can_emit0:67"><span class="id" title="binder">preloaded_with_all_messages_vlsm</span></a> <a id="can_emit0:67" class="idref" href="#can_emit0:67"><span class="id" title="binder">X</span></a><a id="can_emit0:67" class="idref" href="#can_emit0:67"><span class="id" title="binder">)</span></a> <a id="can_emit0:67" class="idref" href="#can_emit0:67"><span class="id" title="binder">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:46"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <a id="msg:68" class="idref" href="#msg:68"><span class="id" title="binder">msg</span></a> =&gt; <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:68"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:57"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:66"><span class="id" title="variable">m</span></a>)) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:66"><span class="id" title="variable">m</span></a><br/>
}.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;Given&nbsp;the&nbsp;VLSM&nbsp;for&nbsp;which&nbsp;it's&nbsp;defined,&nbsp;the&nbsp;other&nbsp;arguments&nbsp;(message,<br/>
&nbsp;&nbsp;message_dependencies&nbsp;function,&nbsp;<span class="inlinecode"><span class="id" title="var">HasBeenSentCapability</span></span>&nbsp;and<br/>
&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">HasBeenReceivedCapability</span></span>)&nbsp;can&nbsp;be&nbsp;inferred&nbsp;from&nbsp;that.<br/>
*)</span><br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="class">MessageDependencies</span></a> - ! - - - - - - - - - - - - - - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_message_dependencies" class="idref" href="#sec_message_dependencies"><span class="id" title="section">sec_message_dependencies</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:71" class="idref" href="#X:71"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:70" class="idref" href="#message:70"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:81" class="idref" href="#H6:81"><span class="id" title="binder">FinSet</span></a> <a id="H6:81" class="idref" href="#H6:81"><span class="id" title="binder">message</span></a> <a id="Cm:72" class="idref" href="#Cm:72"><span class="id" title="binder"><span id="H6:81" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:82" class="idref" href="#message_dependencies:82"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:70"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:72"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`{<a id="HasBeenSentCapability0:83" class="idref" href="#HasBeenSentCapability0:83"><span class="id" title="binder">!</span></a><a id="HasBeenSentCapability0:83" class="idref" href="#HasBeenSentCapability0:83"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="HasBeenSentCapability0:83" class="idref" href="#HasBeenSentCapability0:83"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="HasBeenReceivedCapability0:84" class="idref" href="#HasBeenReceivedCapability0:84"><span class="id" title="binder">!</span></a><a id="HasBeenReceivedCapability0:84" class="idref" href="#HasBeenReceivedCapability0:84"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="HasBeenReceivedCapability0:84" class="idref" href="#HasBeenReceivedCapability0:84"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Irreflexive0:85" class="idref" href="#Irreflexive0:85"><span class="id" title="binder">!</span></a><a id="Irreflexive0:85" class="idref" href="#Irreflexive0:85"><span class="id" title="binder">Irreflexive</span></a> <a id="Irreflexive0:85" class="idref" href="#Irreflexive0:85"><span class="id" title="binder">(</span></a><a id="Irreflexive0:85" class="idref" href="#Irreflexive0:85"><span class="id" title="binder">msg_dep_happens_before</span></a> <a id="Irreflexive0:85" class="idref" href="#Irreflexive0:85"><span class="id" title="binder">message_dependencies</span></a><a id="Irreflexive0:85" class="idref" href="#Irreflexive0:85"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="MessageDependencies0:86" class="idref" href="#MessageDependencies0:86"><span class="id" title="binder">!</span></a><a id="MessageDependencies0:86" class="idref" href="#MessageDependencies0:86"><span class="id" title="binder">MessageDependencies</span></a> <a id="MessageDependencies0:86" class="idref" href="#MessageDependencies0:86"><span class="id" title="binder">X</span></a> <a id="MessageDependencies0:86" class="idref" href="#MessageDependencies0:86"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  A VLSM has the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a></span>
  if the validity of receiving a message in a state implies the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition"><span class="id" title="definition">message_dependencies_full_node_condition</span></a></span> for that state and message

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="message_dependencies_full_node_condition_prop" class="idref" href="#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:87" class="idref" href="#l:87"><span class="id" title="binder">l</span></a> <a id="s:88" class="idref" href="#s:88"><span class="id" title="binder">s</span></a> <a id="m:89" class="idref" href="#m:89"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#l:87"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:88"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:89"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition"><span class="id" title="definition">message_dependencies_full_node_condition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:88"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:89"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
Unrolling one the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> relation one step. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_happens_before_iff_one" class="idref" href="#msg_dep_happens_before_iff_one"><span class="id" title="lemma">msg_dep_happens_before_iff_one</span></a> <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a> <a id="z:91" class="idref" href="#z:91"><span class="id" title="binder">z</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#z:91"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#z:91"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="y:92" class="idref" href="#y:92"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#x:90"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#y:92"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#y:92"><span class="id" title="variable">y</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#z:91"><span class="id" title="variable">z</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_r_iff"><span class="id" title="lemma">tc_r_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a></span>ation reflects a predicate <code>P</code>, then
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> will also reflect it.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_happens_before_reflect" class="idref" href="#msg_dep_happens_before_reflect"><span class="id" title="lemma">msg_dep_happens_before_reflect</span></a><br/>
&nbsp;&nbsp;(<a id="P:93" class="idref" href="#P:93"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hreflects:96" class="idref" href="#Hreflects:96"><span class="id" title="binder">Hreflects</span></a> : <span class="id" title="notation">forall</span> <a id="dm:94" class="idref" href="#dm:94"><span class="id" title="binder">dm</span></a> <a id="m:95" class="idref" href="#m:95"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:94"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:95"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:94"><span class="id" title="variable">dm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:97" class="idref" href="#dm:97"><span class="id" title="binder">dm</span></a> <a id="m:98" class="idref" href="#m:98"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:97"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:98"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:98"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:93"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:97"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_reflect"><span class="id" title="lemma">tc_reflect</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  In the absence of initial messages, and if <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a></span>ation reflects
  the preloaded message property, then it also reflects the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a></span>erty.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_reflects_validity" class="idref" href="#msg_dep_reflects_validity"><span class="id" title="lemma">msg_dep_reflects_validity</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_X:100" class="idref" href="#no_initial_messages_in_X:100"><span class="id" title="binder">no_initial_messages_in_X</span></a> : <span class="id" title="notation">forall</span> <a id="m:99" class="idref" href="#m:99"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:99"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:101" class="idref" href="#P:101"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hreflects:104" class="idref" href="#Hreflects:104"><span class="id" title="binder">Hreflects</span></a> : <span class="id" title="notation">forall</span> <a id="dm:102" class="idref" href="#dm:102"><span class="id" title="binder">dm</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:102"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:101"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:101"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:102"><span class="id" title="variable">dm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:105" class="idref" href="#dm:105"><span class="id" title="binder">dm</span></a> <a id="m:106" class="idref" href="#m:106"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:105"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:106"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:101"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:106"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:101"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:105"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">m</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#can_emit_iff"><span class="id" title="lemma">can_emit_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hinit</span> | [<span class="id" title="var">s</span> <span class="id" title="var">Hproduce</span>]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hreflects</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinit</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | <span class="id" title="var">Hp</span>]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hinit</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">no_initial_messages_in_X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#directly_observed_valid"><span class="id" title="lemma">directly_observed_valid</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">P</span>) <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_produce_valid"><span class="id" title="lemma">can_produce_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">M</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.EquivocationProjections.html#VLSM_incl_has_been_directly_observed"><span class="id" title="lemma">VLSM_incl_has_been_directly_observed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.HasBeenSentCapability0"><span class="id" title="variable">HasBeenSentCapability0</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.HasBeenReceivedCapability0"><span class="id" title="variable">HasBeenReceivedCapability0</span></a>; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_necessary"><span class="id" title="method">message_dependencies_are_necessary</span></a>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_can_produce"><span class="id" title="lemma">VLSM_incl_can_produce</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">preloaded_vlsm_incl_preloaded_with_all_messages</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> <span class="id" title="var">M</span>) <span class="id" title="var">P</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_incl_preloaded"><span class="id" title="lemma">basic_VLSM_incl_preloaded</span></a>; <span class="id" title="tactic">cbv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">preloaded_vlsm_incl_preloaded_with_all_messages</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> <span class="id" title="var">M</span>) <span class="id" title="var">P</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_produce_valid"><span class="id" title="lemma">can_produce_valid</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Under <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span> assumptions, if a message <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
  in a state <code>s</code>, then any of its direct dependencies <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_has_been_sent" class="idref" href="#msg_dep_has_been_sent"><span class="id" title="lemma">msg_dep_has_been_sent</span></a><br/>
&nbsp;&nbsp;<a id="s:107" class="idref" href="#s:107"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:108" class="idref" href="#Hs:108"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:107"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a id="m:109" class="idref" href="#m:109"><span class="id" title="binder">m</span></a><br/>
&nbsp;&nbsp;(<a id="Hsent:110" class="idref" href="#Hsent:110"><span class="id" title="binder">Hsent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:109"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:111" class="idref" href="#dm:111"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:111"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:109"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:107"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:111"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">Hsent</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbs</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">Hbs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_no_inits"><span class="id" title="lemma">has_been_sent_no_inits</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_step_update"><span class="id" title="lemma">has_been_sent_step_update</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">intros</span> [-&gt; | <span class="id" title="var">Hrcv</span>] <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_necessary"><span class="id" title="method">message_dependencies_are_necessary</span></a>; [<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a>; [<span class="id" title="var">done</span> |]; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="constrained_transition_preserves_message_dependencies_full_node_condition" class="idref" href="#constrained_transition_preserves_message_dependencies_full_node_condition"><span class="id" title="lemma">constrained_transition_preserves_message_dependencies_full_node_condition</span></a><br/>
&nbsp;&nbsp;`(<a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">input_constrained_transition</span></a> <a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">X</span></a> <a id="lX:112" class="idref" href="#lX:112"><span class="id" title="binder"><span id="input_constrained_transition0:117" class="id">lX</span></span></a> <a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">(</span></a><a id="s:113" class="idref" href="#s:113"><span class="id" title="binder"><span id="input_constrained_transition0:117" class="id">s</span></span></a><a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">,</span></a> <a id="im:114" class="idref" href="#im:114"><span class="id" title="binder"><span id="input_constrained_transition0:117" class="id">im</span></span></a><a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">)</span></a> <a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">(</span></a><a id="s':115" class="idref" href="#s':115"><span class="id" title="binder"><span id="input_constrained_transition0:117" class="id">s'</span></span></a><a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">,</span></a> <a id="om:116" class="idref" href="#om:116"><span class="id" title="binder"><span id="input_constrained_transition0:117" class="id">om</span></span></a><a id="input_constrained_transition0:117" class="idref" href="#input_constrained_transition0:117"><span class="id" title="binder">)</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:118" class="idref" href="#m:118"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition"><span class="id" title="definition">message_dependencies_full_node_condition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:113"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:118"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition"><span class="id" title="definition">message_dependencies_full_node_condition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s':115"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:118"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If the <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a></span>ity predicate has the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a></span>erty,
  then if a message <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span> in a state <code>s</code>, any of its direct
  dependencies <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="full_node_has_been_received" class="idref" href="#full_node_has_been_received"><span class="id" title="lemma">full_node_has_been_received</span></a><br/>
&nbsp;&nbsp;(<a id="Hfull:119" class="idref" href="#Hfull:119"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a>)<br/>
&nbsp;&nbsp;<a id="s:120" class="idref" href="#s:120"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:121" class="idref" href="#Hs:121"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:120"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a id="m:122" class="idref" href="#m:122"><span class="id" title="binder">m</span></a><br/>
&nbsp;&nbsp;(<a id="Hreceived:123" class="idref" href="#Hreceived:123"><span class="id" title="binder">Hreceived</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="method">has_been_received</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:120"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:122"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:124" class="idref" href="#dm:124"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:124"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:122"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:120"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:124"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">Hreceived</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hbr</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">Hbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_no_inits"><span class="id" title="lemma">has_been_received_no_inits</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_step_update"><span class="id" title="lemma">has_been_received_step_update</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">intros</span> [-&gt; | <span class="id" title="var">Hrcv</span>] <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfull</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  By combining Lemmas <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_has_been_sent"><span class="id" title="lemma">msg_dep_has_been_sent</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_has_been_received"><span class="id" title="lemma">full_node_has_been_received</span></a></span>,
  the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a></span>ation reflects the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> predicate.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_full_node_reflects_has_been_directly_observed" class="idref" href="#msg_dep_full_node_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_reflects_has_been_directly_observed</span></a><br/>
&nbsp;&nbsp;(<a id="Hfull:125" class="idref" href="#Hfull:125"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a>)<br/>
&nbsp;&nbsp;<a id="s:126" class="idref" href="#s:126"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:127" class="idref" href="#Hs:127"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:126"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:128" class="idref" href="#dm:128"><span class="id" title="binder">dm</span></a> <a id="m:129" class="idref" href="#m:129"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:128"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:129"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:126"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:129"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:126"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:128"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">m</span> <span class="id" title="var">Hdm</span> [<span class="id" title="var">Hsent</span> | <span class="id" title="var">Hreceived</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_has_been_sent"><span class="id" title="lemma">msg_dep_has_been_sent</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_has_been_received"><span class="id" title="lemma">full_node_has_been_received</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Under full-node assumptions, the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> relation
  reflects the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> predicate.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_full_node_happens_before_reflects_has_been_directly_observed" class="idref" href="#msg_dep_full_node_happens_before_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></a><br/>
&nbsp;&nbsp;(<a id="Hfull:130" class="idref" href="#Hfull:130"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a>)<br/>
&nbsp;&nbsp;<a id="s:131" class="idref" href="#s:131"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:132" class="idref" href="#Hs:132"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:131"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:133" class="idref" href="#dm:133"><span class="id" title="binder">dm</span></a> <a id="m:134" class="idref" href="#m:134"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:133"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:134"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:131"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:134"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:131"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:133"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">m</span> <span class="id" title="var">Hdm</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_reflect"><span class="id" title="lemma">msg_dep_happens_before_reflect</span></a>; [| <span class="id" title="var">done</span> ..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_full_node_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_reflects_has_been_directly_observed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Under full-node assumptions, it is valid to receive a message in a state
  then any of its happens-before dependencies <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> in that state.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_full_node_input_valid_happens_before_has_been_directly_observed" class="idref" href="#msg_dep_full_node_input_valid_happens_before_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_input_valid_happens_before_has_been_directly_observed</span></a><br/>
&nbsp;&nbsp;(<a id="Hfull:135" class="idref" href="#Hfull:135"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a>)<br/>
&nbsp;&nbsp;<a id="l:136" class="idref" href="#l:136"><span class="id" title="binder">l</span></a> <a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a> <a id="m:138" class="idref" href="#m:138"><span class="id" title="binder">m</span></a><br/>
&nbsp;&nbsp;(<a id="Hvalid:139" class="idref" href="#Hvalid:139"><span class="id" title="binder">Hvalid</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained"><span class="id" title="definition">input_constrained</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#l:136"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:137"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:138"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:140" class="idref" href="#dm:140"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:140"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:138"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:137"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:140"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">dm</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_iff_one"><span class="id" title="lemma">msg_dep_happens_before_iff_one</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hdm</span> | (<span class="id" title="var">dm'</span> &amp; <span class="id" title="var">Hdm'</span> &amp; <span class="id" title="var">Hdm</span>)].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfull</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_reflect"><span class="id" title="lemma">msg_dep_happens_before_reflect</span></a>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_full_node_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_reflects_has_been_directly_observed</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfull</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfull</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hvalid</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies"><span class="id" title="section">sec_message_dependencies</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab179"></a><h2 class="section">Equivocation Based on Message Dependencies</h2>


<div class="paragraph"> </div>

  Inspired by the definitions of observability and local equivocation given for
  the ELMO protocol, we introduce abstract notions for local equivocation based
  on message dependencies.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_message_dependencies_equivocation" class="idref" href="#sec_message_dependencies_equivocation"><span class="id" title="section">sec_message_dependencies_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:141" class="idref" href="#message:141"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:142" class="idref" href="#X:142"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:141"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:152" class="idref" href="#H6:152"><span class="id" title="binder">FinSet</span></a> <a id="H6:152" class="idref" href="#H6:152"><span class="id" title="binder">message</span></a> <a id="Cm:143" class="idref" href="#Cm:143"><span class="id" title="binder"><span id="H6:152" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:153" class="idref" href="#message_dependencies:153"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:141"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:143"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`(<a id="sender:155" class="idref" href="#sender:155"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:141"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a id="validator:154" class="idref" href="#validator:154"><span class="id" title="binder">validator</span></a>)<br/>
&nbsp;&nbsp;`{<a id="HasBeenSentCapability0:156" class="idref" href="#HasBeenSentCapability0:156"><span class="id" title="binder">!</span></a><a id="HasBeenSentCapability0:156" class="idref" href="#HasBeenSentCapability0:156"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="HasBeenSentCapability0:156" class="idref" href="#HasBeenSentCapability0:156"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="HasBeenReceivedCapability0:157" class="idref" href="#HasBeenReceivedCapability0:157"><span class="id" title="binder">!</span></a><a id="HasBeenReceivedCapability0:157" class="idref" href="#HasBeenReceivedCapability0:157"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="HasBeenReceivedCapability0:157" class="idref" href="#HasBeenReceivedCapability0:157"><span class="id" title="binder">X</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Irreflexive0:158" class="idref" href="#Irreflexive0:158"><span class="id" title="binder">!</span></a><a id="Irreflexive0:158" class="idref" href="#Irreflexive0:158"><span class="id" title="binder">Irreflexive</span></a> <a id="Irreflexive0:158" class="idref" href="#Irreflexive0:158"><span class="id" title="binder">(</span></a><a id="Irreflexive0:158" class="idref" href="#Irreflexive0:158"><span class="id" title="binder">msg_dep_happens_before</span></a> <a id="Irreflexive0:158" class="idref" href="#Irreflexive0:158"><span class="id" title="binder">message_dependencies</span></a><a id="Irreflexive0:158" class="idref" href="#Irreflexive0:158"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  A message can be (indirectly) observed in a state if it either has been directly
  observed in the state (as sent or received), or it happens before (in the sense
  of the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> relation) a directly observed message.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="HasBeenObserved" class="idref" href="#HasBeenObserved"><span class="id" title="definition, inductive"><span id="HasBeenObserved_ind" class="id"><span id="HasBeenObserved_sind" class="id">HasBeenObserved</span></span></span></a> (<a id="s:159" class="idref" href="#s:159"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="m:160" class="idref" href="#m:160"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="hbo_directly" class="idref" href="#hbo_directly"><span class="id" title="constructor">hbo_directly</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:159"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:160"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved:161"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:159"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:160"><span class="id" title="variable">m</span></a><br/>
| <a id="hbo_indirectly" class="idref" href="#hbo_indirectly"><span class="id" title="constructor">hbo_indirectly</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m':163" class="idref" href="#m':163"><span class="id" title="binder">m'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:159"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m':163"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:160"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m':163"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved:161"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:159"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:160"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_preserves_HasBeenObserved" class="idref" href="#transition_preserves_HasBeenObserved"><span class="id" title="lemma">transition_preserves_HasBeenObserved</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:164" class="idref" href="#l:164"><span class="id" title="binder">l</span></a> <a id="s:165" class="idref" href="#s:165"><span class="id" title="binder">s</span></a> <a id="im:166" class="idref" href="#im:166"><span class="id" title="binder">im</span></a> <a id="s':167" class="idref" href="#s':167"><span class="id" title="binder">s'</span></a> <a id="om:168" class="idref" href="#om:168"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#l:164"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:165"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#im:166"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s':167"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#om:168"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:169" class="idref" href="#msg:169"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:165"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:169"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s':167"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:169"><span class="id" title="variable">msg</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Ht</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hbefore</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbefore</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs</span> | <span class="id" title="var">m</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">Hdep</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span> 2; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a>; [| <span class="id" title="tactic">right</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="HasBeenObserved_step_update" class="idref" href="#HasBeenObserved_step_update"><span class="id" title="lemma">HasBeenObserved_step_update</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:170" class="idref" href="#l:170"><span class="id" title="binder">l</span></a> <a id="s:171" class="idref" href="#s:171"><span class="id" title="binder">s</span></a> <a id="im:172" class="idref" href="#im:172"><span class="id" title="binder">im</span></a> <a id="s':173" class="idref" href="#s':173"><span class="id" title="binder">s'</span></a> <a id="om:174" class="idref" href="#om:174"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#l:170"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:171"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#im:172"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s':173"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#om:174"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:175" class="idref" href="#msg:175"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s':173"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:175"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:171"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:175"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:176" class="idref" href="#m:176"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#im:172"><span class="id" title="variable">im</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:176"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#om:174"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:176"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#msg:175"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:176"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:175"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:176"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Ht</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs'</span> | <span class="id" title="var">m'</span> <span class="id" title="var">Hobs'</span> <span class="id" title="var">Hdep</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs'</span>; [| <span class="id" title="var">done</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnow</span> | <span class="id" title="var">Hbefore</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">m'</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">econstructor</span> 2.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hbefore</span> | (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hnow</span> &amp; [&lt;- | <span class="id" title="var">Hdep</span>])].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#transition_preserves_HasBeenObserved"><span class="id" title="lemma">transition_preserves_HasBeenObserved</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a>; [| <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span> 2; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a>; [| <span class="id" title="tactic">left</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Message <code>m1</code> is in relation <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeSendTransition"><span class="id" title="record">ObservedBeforeSendTransition</span></a></span> with message <code>m2</code>
  if it <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a></span> in a state from which <code>m2</code> can be emitted in the next
  step.

<div class="paragraph"> </div>

  Note that we use <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a></span> instead of <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span>, which
  extends direct observability in a state (sent or received on a trace leading to
  that state) with the transitive closure of the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a></span> (to include any
  message depending on a directly observed one).

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="ObservedBeforeStateOrMessage" class="idref" href="#ObservedBeforeStateOrMessage"><span class="id" title="definition, inductive"><span id="ObservedBeforeStateOrMessage_ind" class="id"><span id="ObservedBeforeStateOrMessage_sind" class="id">ObservedBeforeStateOrMessage</span></span></span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="observed_before_state" class="idref" href="#observed_before_state"><span class="id" title="constructor">observed_before_state</span></a> (<a id="m:179" class="idref" href="#m:179"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) (<a id="s:180" class="idref" href="#s:180"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="_oim:181" class="idref" href="#_oim:181"><span class="id" title="binder">_oim</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:180"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:179"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeStateOrMessage:177"><span class="id" title="inductive">ObservedBeforeStateOrMessage</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:179"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:180"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#_oim:181"><span class="id" title="variable">_oim</span></a><br/>
| <a id="observed_is_message" class="idref" href="#observed_is_message"><span class="id" title="constructor">observed_is_message</span></a> (<a id="m:182" class="idref" href="#m:182"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) (<a id="_s:183" class="idref" href="#_s:183"><span class="id" title="binder">_s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeStateOrMessage:177"><span class="id" title="inductive">ObservedBeforeStateOrMessage</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:182"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#_s:183"><span class="id" title="variable">_s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:182"><span class="id" title="variable">m</span></a>)<br/>
| <a id="observed_before_message" class="idref" href="#observed_before_message"><span class="id" title="constructor">observed_before_message</span></a> (<a id="m:184" class="idref" href="#m:184"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) (<a id="_s:185" class="idref" href="#_s:185"><span class="id" title="binder">_s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="im:186" class="idref" href="#im:186"><span class="id" title="binder">im</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:184"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#im:186"><span class="id" title="variable">im</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeStateOrMessage:177"><span class="id" title="inductive">ObservedBeforeStateOrMessage</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:184"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#_s:185"><span class="id" title="variable">_s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#im:186"><span class="id" title="variable">im</span></a>).<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="ObservedBeforeSendTransition" class="idref" href="#ObservedBeforeSendTransition"><span class="id" title="record">ObservedBeforeSendTransition</span></a><br/>
&nbsp;&nbsp;(<a id="s:187" class="idref" href="#s:187"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="item:188" class="idref" href="#item:188"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="m1:189" class="idref" href="#m1:189"><span class="id" title="binder">m1</span></a> <a id="m2:190" class="idref" href="#m2:190"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="dobst_transition" class="idref" href="#dobst_transition"><span class="id" title="projection">dobst_transition</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition_item"><span class="id" title="definition">input_constrained_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:187"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:188"><span class="id" title="variable">item</span></a>;<br/>
&nbsp;&nbsp;<a id="dobst_output_m2" class="idref" href="#dobst_output_m2"><span class="id" title="projection">dobst_output_m2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:188"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:190"><span class="id" title="variable">m2</span></a>;<br/>
&nbsp;&nbsp;<a id="dobst_observed_m1" class="idref" href="#dobst_observed_m1"><span class="id" title="projection">dobst_observed_m1</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeStateOrMessage"><span class="id" title="inductive">ObservedBeforeStateOrMessage</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:189"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:187"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:188"><span class="id" title="variable">item</span></a>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="observed_before_send" class="idref" href="#observed_before_send"><span class="id" title="definition">observed_before_send</span></a> (<a id="m1:195" class="idref" href="#m1:195"><span class="id" title="binder">m1</span></a> <a id="m2:196" class="idref" href="#m2:196"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:197" class="idref" href="#s:197"><span class="id" title="binder">s</span></a> <a id="item:198" class="idref" href="#item:198"><span class="id" title="binder">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeSendTransition"><span class="id" title="record">ObservedBeforeSendTransition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:197"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:198"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:195"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:196"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="observed_before_send_subsumes_msg_dep_rel" class="idref" href="#observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">observed_before_send_subsumes_msg_dep_rel</span></a><br/>
&nbsp;&nbsp;`{<a id="MessageDependencies0:199" class="idref" href="#MessageDependencies0:199"><span class="id" title="binder">!</span></a><a id="MessageDependencies0:199" class="idref" href="#MessageDependencies0:199"><span class="id" title="binder">MessageDependencies</span></a> <a id="MessageDependencies0:199" class="idref" href="#MessageDependencies0:199"><span class="id" title="binder">X</span></a> <a id="MessageDependencies0:199" class="idref" href="#MessageDependencies0:199"><span class="id" title="binder">message_dependencies</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:200" class="idref" href="#m:200"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:200"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:201" class="idref" href="#dm:201"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:201"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:200"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#observed_before_send"><span class="id" title="definition">observed_before_send</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:201"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:200"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> ([<span class="id" title="var">s</span> <span class="id" title="var">im</span>] &amp; <span class="id" title="var">l</span> &amp; <span class="id" title="var">s'</span> &amp; <span class="id" title="var">Ht</span>) <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>, {| <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> := <span class="id" title="var">l</span>; <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <span class="id" title="var">im</span>; <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> := <span class="id" title="var">s'</span>; <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> |}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_necessary"><span class="id" title="method">message_dependencies_are_necessary</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hobs</span>; [| <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_step_update"><span class="id" title="lemma">has_been_directly_observed_step_update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [[| <span class="id" title="var">Hout</span>] |]; [.. | <span class="id" title="var">done</span>]; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hdm</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hout</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_reflect_irreflexive"><span class="id" title="lemma">tc_reflect_irreflexive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A pair of messages constitutes a (local) evidence of equivocation for a
  validator <code>v</code> in a state <code>s</code> if both messages have <code>v</code> as a sender, have
  been (indirectly) observed in <code>s</code> (see <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a></span>), and are
  not comparable according to the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> relation.

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="MsgDepLocalEquivocationEvidence" class="idref" href="#MsgDepLocalEquivocationEvidence"><span class="id" title="record">MsgDepLocalEquivocationEvidence</span></a><br/>
&nbsp;&nbsp;(<a id="s:202" class="idref" href="#s:202"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="v:203" class="idref" href="#v:203"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) (<a id="m1:204" class="idref" href="#m1:204"><span class="id" title="binder">m1</span></a> <a id="m2:205" class="idref" href="#m2:205"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="mdlee_sender1" class="idref" href="#mdlee_sender1"><span class="id" title="projection">mdlee_sender1</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:204"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:203"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="mdlee_sender2" class="idref" href="#mdlee_sender2"><span class="id" title="projection">mdlee_sender2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:205"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:203"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="mdlee_observed1" class="idref" href="#mdlee_observed1"><span class="id" title="projection">mdlee_observed1</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:202"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:204"><span class="id" title="variable">m1</span></a>;<br/>
&nbsp;&nbsp;<a id="mdlee_observed2" class="idref" href="#mdlee_observed2"><span class="id" title="projection">mdlee_observed2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:202"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:205"><span class="id" title="variable">m2</span></a>;<br/>
&nbsp;&nbsp;<a id="mdlee_incomparable" class="idref" href="#mdlee_incomparable"><span class="id" title="projection">mdlee_incomparable</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:204"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:205"><span class="id" title="variable">m2</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="msg_dep_is_locally_equivocating" class="idref" href="#msg_dep_is_locally_equivocating"><span class="id" title="definition">msg_dep_is_locally_equivocating</span></a> (<a id="s:212" class="idref" href="#s:212"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="v:213" class="idref" href="#v:213"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m1:214" class="idref" href="#m1:214"><span class="id" title="binder">m1</span></a> <a id="m2:215" class="idref" href="#m2:215"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#MsgDepLocalEquivocationEvidence"><span class="id" title="record">MsgDepLocalEquivocationEvidence</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:212"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:213"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:214"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:215"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Under the full-node assumptions, we can give a simpler alternative to
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MsgDepLocalEquivocationEvidence"><span class="id" title="record">MsgDepLocalEquivocationEvidence</span></a></span> which only requires that each message
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> directly in the state. This relies on Lemma
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_full_node_happens_before_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="FullNodeLocalEquivocationEvidence" class="idref" href="#FullNodeLocalEquivocationEvidence"><span class="id" title="record">FullNodeLocalEquivocationEvidence</span></a><br/>
&nbsp;&nbsp;(<a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="v:217" class="idref" href="#v:217"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) (<a id="m1:218" class="idref" href="#m1:218"><span class="id" title="binder">m1</span></a> <a id="m2:219" class="idref" href="#m2:219"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="fnlee_sender1" class="idref" href="#fnlee_sender1"><span class="id" title="projection">fnlee_sender1</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:218"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:217"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="fnlee_sender2" class="idref" href="#fnlee_sender2"><span class="id" title="projection">fnlee_sender2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:219"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:217"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="fnlee_observed1" class="idref" href="#fnlee_observed1"><span class="id" title="projection">fnlee_observed1</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:218"><span class="id" title="variable">m1</span></a>;<br/>
&nbsp;&nbsp;<a id="fnlee_observed2" class="idref" href="#fnlee_observed2"><span class="id" title="projection">fnlee_observed2</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:219"><span class="id" title="variable">m2</span></a>;<br/>
&nbsp;&nbsp;<a id="fnlee_incomparable" class="idref" href="#fnlee_incomparable"><span class="id" title="projection">fnlee_incomparable</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:218"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:219"><span class="id" title="variable">m2</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="full_node_is_locally_equivocating" class="idref" href="#full_node_is_locally_equivocating"><span class="id" title="definition">full_node_is_locally_equivocating</span></a> (<a id="s:226" class="idref" href="#s:226"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="v:227" class="idref" href="#v:227"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m1:228" class="idref" href="#m1:228"><span class="id" title="binder">m1</span></a> <a id="m2:229" class="idref" href="#m2:229"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#FullNodeLocalEquivocationEvidence"><span class="id" title="record">FullNodeLocalEquivocationEvidence</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:226"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:227"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:228"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:229"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
</div>

<div class="doc">
  If the states and messages are more tightly coupled (e.g., there is a unique
  state from which a given message can be emitted), then the sent messages of
  a state would be totally ordered by <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="has_been_sent_msg_dep_comparable_prop" class="idref" href="#has_been_sent_msg_dep_comparable_prop"><span class="id" title="definition">has_been_sent_msg_dep_comparable_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:230" class="idref" href="#s:230"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:230"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m1:231" class="idref" href="#m1:231"><span class="id" title="binder">m1</span></a> <a id="m2:232" class="idref" href="#m2:232"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:230"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:231"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:230"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:232"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:231"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:232"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
</div>

<div class="doc">
  We present yet another definition for local evidence of equivocation assuming
  both full-node and <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#has_been_sent_msg_dep_comparable_prop"><span class="id" title="definition">has_been_sent_msg_dep_comparable_prop</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="FullNodeSentLocalEquivocationEvidence" class="idref" href="#FullNodeSentLocalEquivocationEvidence"><span class="id" title="record">FullNodeSentLocalEquivocationEvidence</span></a><br/>
&nbsp;&nbsp;(<a id="s:233" class="idref" href="#s:233"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="v:234" class="idref" href="#v:234"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) (<a id="m1:235" class="idref" href="#m1:235"><span class="id" title="binder">m1</span></a> <a id="m2:236" class="idref" href="#m2:236"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="fnslee_sender1" class="idref" href="#fnslee_sender1"><span class="id" title="projection">fnslee_sender1</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:235"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:234"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="fnslee_sender2" class="idref" href="#fnslee_sender2"><span class="id" title="projection">fnslee_sender2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:236"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:234"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="fnslee_observed1" class="idref" href="#fnslee_observed1"><span class="id" title="projection">fnslee_observed1</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:235"><span class="id" title="variable">m1</span></a>;<br/>
&nbsp;&nbsp;<a id="fnslee_observed2" class="idref" href="#fnslee_observed2"><span class="id" title="projection">fnslee_observed2</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:236"><span class="id" title="variable">m2</span></a>;<br/>
&nbsp;&nbsp;<a id="fnslee_incomparable" class="idref" href="#fnslee_incomparable"><span class="id" title="projection">fnslee_incomparable</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.Preamble.html#comparable"><span class="id" title="definition">comparable</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:235"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:236"><span class="id" title="variable">m2</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="full_node_is_sent_locally_equivocating" class="idref" href="#full_node_is_sent_locally_equivocating"><span class="id" title="definition">full_node_is_sent_locally_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="s:243" class="idref" href="#s:243"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a>) (<a id="v:244" class="idref" href="#v:244"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m1:245" class="idref" href="#m1:245"><span class="id" title="binder">m1</span></a> <a id="m2:246" class="idref" href="#m2:246"><span class="id" title="binder">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#FullNodeSentLocalEquivocationEvidence"><span class="id" title="record">FullNodeSentLocalEquivocationEvidence</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:243"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:244"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:245"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:246"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_is_sent_locally_equivocating_weaker" class="idref" href="#full_node_is_sent_locally_equivocating_weaker"><span class="id" title="lemma">full_node_is_sent_locally_equivocating_weaker</span></a> <a id="s:247" class="idref" href="#s:247"><span class="id" title="binder">s</span></a> <a id="v:248" class="idref" href="#v:248"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_locally_equivocating"><span class="id" title="definition">full_node_is_locally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:247"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:248"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_sent_locally_equivocating"><span class="id" title="definition">full_node_is_sent_locally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:247"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:248"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">m1</span> &amp; <span class="id" title="var">m2</span> &amp; [<span class="id" title="var">Hsender1</span> <span class="id" title="var">Hsender2</span> <span class="id" title="var">Hobs1</span> <span class="id" title="var">Hobs2</span> <span class="id" title="var">Hncomp</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m1</span>, <span class="id" title="var">m2</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hncomp</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_comparable"><span class="id" title="lemma">tc_comparable</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_is_locally_equivocating_stronger" class="idref" href="#full_node_is_locally_equivocating_stronger"><span class="id" title="lemma">full_node_is_locally_equivocating_stronger</span></a> <a id="s:249" class="idref" href="#s:249"><span class="id" title="binder">s</span></a> <a id="v:250" class="idref" href="#v:250"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_locally_equivocating"><span class="id" title="definition">full_node_is_locally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:249"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:250"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_locally_equivocating"><span class="id" title="definition">msg_dep_is_locally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:249"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:250"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">m1</span> &amp; <span class="id" title="var">m2</span> &amp; []).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">m1</span>, <span class="id" title="var">m2</span>; <span class="id" title="tactic">constructor</span>; [| | <span class="id" title="tactic">constructor</span> | <span class="id" title="tactic">constructor</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Under <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span> and full-node assumptions, any message which
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a></span> in a state, <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> in that state, too.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="full_node_HasBeenObserved_is_directly_observed" class="idref" href="#full_node_HasBeenObserved_is_directly_observed"><span class="id" title="lemma">full_node_HasBeenObserved_is_directly_observed</span></a><br/>
&nbsp;&nbsp;`{<a id="MessageDependencies0:251" class="idref" href="#MessageDependencies0:251"><span class="id" title="binder">!</span></a><a id="MessageDependencies0:251" class="idref" href="#MessageDependencies0:251"><span class="id" title="binder">MessageDependencies</span></a> <a id="MessageDependencies0:251" class="idref" href="#MessageDependencies0:251"><span class="id" title="binder">X</span></a> <a id="MessageDependencies0:251" class="idref" href="#MessageDependencies0:251"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hfull:252" class="idref" href="#Hfull:252"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:253" class="idref" href="#s:253"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:253"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:254" class="idref" href="#m:254"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:253"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:254"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:253"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:254"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hobs</span> | <span class="id" title="var">m'</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">Hhb</span>]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_full_node_happens_before_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Assuming <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span> and full-node, the two notions of
  local equivocation defined above are equivalent.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="full_node_is_locally_equivocating_iff" class="idref" href="#full_node_is_locally_equivocating_iff"><span class="id" title="lemma">full_node_is_locally_equivocating_iff</span></a><br/>
&nbsp;&nbsp;`{<a id="MessageDependencies0:255" class="idref" href="#MessageDependencies0:255"><span class="id" title="binder">!</span></a><a id="MessageDependencies0:255" class="idref" href="#MessageDependencies0:255"><span class="id" title="binder">MessageDependencies</span></a> <a id="MessageDependencies0:255" class="idref" href="#MessageDependencies0:255"><span class="id" title="binder">X</span></a> <a id="MessageDependencies0:255" class="idref" href="#MessageDependencies0:255"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hfull:256" class="idref" href="#Hfull:256"><span class="id" title="binder">Hfull</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:257" class="idref" href="#s:257"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:257"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="v:258" class="idref" href="#v:258"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_locally_equivocating"><span class="id" title="definition">msg_dep_is_locally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:257"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:258"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_locally_equivocating"><span class="id" title="definition">full_node_is_locally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:257"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:258"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_locally_equivocating_stronger"><span class="id" title="lemma">full_node_is_locally_equivocating_stronger</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">m1</span> &amp; <span class="id" title="var">m2</span> &amp; [<span class="id" title="var">Hsender1</span> <span class="id" title="var">Hsender2</span> <span class="id" title="var">Hobs1</span> <span class="id" title="var">Hobs2</span> <span class="id" title="var">Hncomp</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">m1</span>, <span class="id" title="var">m2</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> &lt;- ?<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_HasBeenObserved_is_directly_observed"><span class="id" title="lemma">full_node_HasBeenObserved_is_directly_observed</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_message_dependencies_equivocation"><span class="id" title="section">sec_message_dependencies_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_composite_message_dependencies" class="idref" href="#sec_composite_message_dependencies"><span class="id" title="section">sec_composite_message_dependencies</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:259" class="idref" href="#message:259"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`(<a id="IM:261" class="idref" href="#IM:261"><span class="id" title="binder">IM</span></a> : <a id="index:260" class="idref" href="#index:260"><span class="id" title="binder">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:259"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:271" class="idref" href="#H6:271"><span class="id" title="binder">FinSet</span></a> <a id="H6:271" class="idref" href="#H6:271"><span class="id" title="binder">message</span></a> <a id="Cm:262" class="idref" href="#Cm:262"><span class="id" title="binder"><span id="H6:271" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:272" class="idref" href="#message_dependencies:272"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:259"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:262"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H7:274" class="idref" href="#H7:274"><span class="id" title="binder">finite.Finite</span></a> <a id="H7:274" class="idref" href="#H7:274"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">forall</span></a> <a id="i:275" class="idref" href="#i:275"><span class="id" title="binder"><span id="H8:276" class="id">i</span></span></a><a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">,</span></a> <a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">(</span></a><a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">IM</span></a> <a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">i</span></a><a id="H8:276" class="idref" href="#H8:276"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">forall</span></a> <a id="i:277" class="idref" href="#i:277"><span class="id" title="binder"><span id="H9:278" class="id">i</span></span></a><a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">,</span></a> <a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">(</span></a><a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">IM</span></a> <a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">i</span></a><a id="H9:278" class="idref" href="#H9:278"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Irreflexive0:279" class="idref" href="#Irreflexive0:279"><span class="id" title="binder">!</span></a><a id="Irreflexive0:279" class="idref" href="#Irreflexive0:279"><span class="id" title="binder">Irreflexive</span></a> <a id="Irreflexive0:279" class="idref" href="#Irreflexive0:279"><span class="id" title="binder">(</span></a><a id="Irreflexive0:279" class="idref" href="#Irreflexive0:279"><span class="id" title="binder">msg_dep_happens_before</span></a> <a id="Irreflexive0:279" class="idref" href="#Irreflexive0:279"><span class="id" title="binder">message_dependencies</span></a><a id="Irreflexive0:279" class="idref" href="#Irreflexive0:279"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">forall</span></a> <a id="i:280" class="idref" href="#i:280"><span class="id" title="binder"><span id="H10:281" class="id">i</span></span></a><a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">,</span></a> <a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">MessageDependencies</span></a> <a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">(</span></a><a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">IM</span></a> <a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">i</span></a><a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">)</span></a> <a id="H10:281" class="idref" href="#H10:281"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  If all of the components satisfy the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span> assumptions,
  then their free composition will also do so.

</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="composite_message_dependencies" class="idref" href="#composite_message_dependencies"><span class="id" title="instance">composite_message_dependencies</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="class">MessageDependencies</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">s'</span> ((<span class="id" title="var">s</span>, <span class="id" title="var">iom</span>) &amp; [<span class="id" title="var">i</span> <span class="id" title="var">li</span>] &amp; <span class="id" title="var">Ht</span>) <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_free_iff"><span class="id" title="lemma">composite_has_been_directly_observed_free_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#input_valid_transition_preloaded_project_active_free"><span class="id" title="lemma">input_valid_transition_preloaded_project_active_free</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_from_component"><span class="id" title="lemma">composite_has_been_directly_observed_from_component</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_necessary"><span class="id" title="method">message_dependencies_are_necessary</span></a>; [<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="var">cbn</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#can_emit_free_composite_project"><span class="id" title="lemma">can_emit_free_composite_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hemitj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_sufficient"><span class="id" title="method">message_dependencies_are_sufficient</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemitj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding_can_emit"><span class="id" title="lemma">VLSM_embedding_can_emit</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_generalized_preloaded_VLSM_embedding"><span class="id" title="lemma">lift_to_composite_generalized_preloaded_VLSM_embedding</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_reflects_free_validity" class="idref" href="#msg_dep_reflects_free_validity"><span class="id" title="lemma">msg_dep_reflects_free_validity</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:282" class="idref" href="#no_initial_messages_in_IM:282"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:283" class="idref" href="#X:283"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:284" class="idref" href="#dm:284"><span class="id" title="binder">dm</span></a> <a id="m:285" class="idref" href="#m:285"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:284"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:285"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:283"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:285"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:283"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:284"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">m</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[<span class="id" title="var">i</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] <span class="id" title="var">_</span>]] | <span class="id" title="var">Hemit</span>]<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Him</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">no_initial_messages_in_IM</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_is_preloaded_with_False"><span class="id" title="lemma">vlsm_is_preloaded_with_False</span></a> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">XeqXFalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_can_emit"><span class="id" title="lemma">VLSM_eq_can_emit</span></a> <span class="id" title="var">XeqXFalse</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <span class="id" title="var">X</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span>)) <span class="id" title="var">dm</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">no_initial_messages_in_IM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[[<span class="id" title="var">i</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] <span class="id" title="var">_</span>]] | <span class="id" title="var">Hpreloaded</span>] | <span class="id" title="var">Hemit</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Him</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">no_initial_messages_in_IM</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_reflects_validity"><span class="id" title="lemma">msg_dep_reflects_validity</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_message_dependencies"><span class="id" title="instance">composite_message_dependencies</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> [<span class="id" title="var">i</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] <span class="id" title="var">_</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Him</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">no_initial_messages_in_IM</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_can_emit"><span class="id" title="lemma">VLSM_eq_can_emit</span></a> <span class="id" title="var">XeqXFalse</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_reflects_happens_before_free_validity" class="idref" href="#msg_dep_reflects_happens_before_free_validity"><span class="id" title="lemma">msg_dep_reflects_happens_before_free_validity</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:286" class="idref" href="#no_initial_messages_in_IM:286"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:287" class="idref" href="#X:287"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:288" class="idref" href="#dm:288"><span class="id" title="binder">dm</span></a> <a id="m:289" class="idref" href="#m:289"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:288"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:289"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:287"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:289"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:287"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:288"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_reflect"><span class="id" title="lemma">msg_dep_happens_before_reflect</span></a>, <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_reflects_free_validity"><span class="id" title="lemma">msg_dep_reflects_free_validity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender" class="idref" href="#msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender"><span class="id" title="lemma">msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender</span></a><br/>
&nbsp;&nbsp;{<a id="validator:290" class="idref" href="#validator:290"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="sender:291" class="idref" href="#sender:291"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#validator:290"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="A:292" class="idref" href="#A:292"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#validator:290"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hchannel:293" class="idref" href="#Hchannel:293"><span class="id" title="binder">Hchannel</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a>  <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#A:292"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sender:291"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:294" class="idref" href="#no_initial_messages_in_IM:294"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:295" class="idref" href="#X:295"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:296" class="idref" href="#m:296"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:295"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:296"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:297" class="idref" href="#dm:297"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:297"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:296"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="v:298" class="idref" href="#v:298"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sender:291"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:297"><span class="id" title="variable">dm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:298"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#A:292"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:298"><span class="id" title="variable">v</span></a>))) <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:297"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <span class="id" title="var">X</span> <span class="id" title="var">dm</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#free_composite_no_initial_valid_messages_emitted_by_sender"><span class="id" title="lemma">free_composite_no_initial_valid_messages_emitted_by_sender</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_reflects_happens_before_free_validity"><span class="id" title="lemma">msg_dep_reflects_happens_before_free_validity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies"><span class="id" title="section">sec_composite_message_dependencies</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab180"></a><h2 class="section">Global Equivocation Based on Message Dependencies</h2>


<div class="paragraph"> </div>

  Inspired by the definitions of observability and global equivocation given for
  the ELMO protocol, we introduce abstract notions for global equivocation based
  on message dependencies.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_composite_message_dependencies_equivocation" class="idref" href="#sec_composite_message_dependencies_equivocation"><span class="id" title="section">sec_composite_message_dependencies_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:299" class="idref" href="#message:299"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`(<a id="IM:301" class="idref" href="#IM:301"><span class="id" title="binder">IM</span></a> : <a id="index:300" class="idref" href="#index:300"><span class="id" title="binder">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:299"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:311" class="idref" href="#H6:311"><span class="id" title="binder">FinSet</span></a> <a id="H6:311" class="idref" href="#H6:311"><span class="id" title="binder">message</span></a> <a id="Cm:302" class="idref" href="#Cm:302"><span class="id" title="binder"><span id="H6:311" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:312" class="idref" href="#message_dependencies:312"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:299"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:302"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`(<a id="sender:314" class="idref" href="#sender:314"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:299"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a id="validator:313" class="idref" href="#validator:313"><span class="id" title="binder">validator</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H7:316" class="idref" href="#H7:316"><span class="id" title="binder">finite.Finite</span></a> <a id="H7:316" class="idref" href="#H7:316"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">forall</span></a> <a id="i:317" class="idref" href="#i:317"><span class="id" title="binder"><span id="H8:318" class="id">i</span></span></a><a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">,</span></a> <a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">(</span></a><a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">IM</span></a> <a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">i</span></a><a id="H8:318" class="idref" href="#H8:318"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">forall</span></a> <a id="i:319" class="idref" href="#i:319"><span class="id" title="binder"><span id="H9:320" class="id">i</span></span></a><a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">,</span></a> <a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">(</span></a><a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">IM</span></a> <a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">i</span></a><a id="H9:320" class="idref" href="#H9:320"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Irreflexive0:321" class="idref" href="#Irreflexive0:321"><span class="id" title="binder">!</span></a><a id="Irreflexive0:321" class="idref" href="#Irreflexive0:321"><span class="id" title="binder">Irreflexive</span></a> <a id="Irreflexive0:321" class="idref" href="#Irreflexive0:321"><span class="id" title="binder">(</span></a><a id="Irreflexive0:321" class="idref" href="#Irreflexive0:321"><span class="id" title="binder">msg_dep_happens_before</span></a> <a id="Irreflexive0:321" class="idref" href="#Irreflexive0:321"><span class="id" title="binder">message_dependencies</span></a><a id="Irreflexive0:321" class="idref" href="#Irreflexive0:321"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Free:322" class="idref" href="#Free:322"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#IM:301"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  A message can be (indirectly) observed in a composite state if it either has
  been directly observed in the state (as sent or received), or it
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span> a directly observed message.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="CompositeHasBeenObserved" class="idref" href="#CompositeHasBeenObserved"><span class="id" title="definition, inductive"><span id="CompositeHasBeenObserved_ind" class="id"><span id="CompositeHasBeenObserved_sind" class="id">CompositeHasBeenObserved</span></span></span></a><br/>
&nbsp;&nbsp;(<a id="s:323" class="idref" href="#s:323"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="m:324" class="idref" href="#m:324"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="chbo_directly" class="idref" href="#chbo_directly"><span class="id" title="constructor">chbo_directly</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:324"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved:325"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:324"><span class="id" title="variable">m</span></a><br/>
| <a id="chbo_indirectly" class="idref" href="#chbo_indirectly"><span class="id" title="constructor">chbo_indirectly</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m':327" class="idref" href="#m':327"><span class="id" title="binder">m'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m':327"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:324"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m':327"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved:325"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:323"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:324"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_HasBeenObserved_lift" class="idref" href="#composite_HasBeenObserved_lift"><span class="id" title="lemma">composite_HasBeenObserved_lift</span></a> : <span class="id" title="notation">forall</span> <a id="s:328" class="idref" href="#s:328"><span class="id" title="binder">s</span></a> <a id="m:329" class="idref" href="#m:329"><span class="id" title="binder">m</span></a> <a id="i:330" class="idref" href="#i:330"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:330"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#s:328"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:330"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:329"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:328"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:329"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span> 2; [<span class="id" title="tactic">eexists</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_HasBeenObserved_iff" class="idref" href="#composite_HasBeenObserved_iff"><span class="id" title="lemma">composite_HasBeenObserved_iff</span></a> : <span class="id" title="notation">forall</span> <a id="s:331" class="idref" href="#s:331"><span class="id" title="binder">s</span></a> <a id="m:332" class="idref" href="#m:332"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:332"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:333" class="idref" href="#i:333"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#HasBeenObserved"><span class="id" title="inductive">HasBeenObserved</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:333"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:333"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:332"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_HasBeenObserved_lift"><span class="id" title="lemma">composite_HasBeenObserved_lift</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hobsi</span>] | <span class="id" title="var">m'</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hobsi</span>] <span class="id" title="var">Hmm'</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1 | <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span> 2].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_preserves_CompositeHasBeenObserved" class="idref" href="#transition_preserves_CompositeHasBeenObserved"><span class="id" title="lemma">transition_preserves_CompositeHasBeenObserved</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:334" class="idref" href="#l:334"><span class="id" title="binder">l</span></a> <a id="s:335" class="idref" href="#s:335"><span class="id" title="binder">s</span></a> <a id="im:336" class="idref" href="#im:336"><span class="id" title="binder">im</span></a> <a id="s':337" class="idref" href="#s':337"><span class="id" title="binder">s'</span></a> <a id="om:338" class="idref" href="#om:338"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:335"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#im:336"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s':337"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#om:338"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:339" class="idref" href="#msg:339"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:335"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:339"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s':337"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:339"><span class="id" title="variable">msg</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#free_composite_has_been_directly_observed_stepwise_props"><span class="id" title="lemma">free_composite_has_been_directly_observed_stepwise_props</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Ht</span> <span class="id" title="var">msg</span> <span class="id" title="var">Hbefore</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hbefore</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs</span> | <span class="id" title="var">m</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">Hdep</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">oracle_step_update</span>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span> 2; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">eapply</span> <span class="id" title="var">oracle_step_update</span>; [| <span class="id" title="tactic">right</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="CompositeHasBeenObserved_step_update" class="idref" href="#CompositeHasBeenObserved_step_update"><span class="id" title="lemma">CompositeHasBeenObserved_step_update</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:340" class="idref" href="#l:340"><span class="id" title="binder">l</span></a> <a id="s:341" class="idref" href="#s:341"><span class="id" title="binder">s</span></a> <a id="im:342" class="idref" href="#im:342"><span class="id" title="binder">im</span></a> <a id="s':343" class="idref" href="#s':343"><span class="id" title="binder">s'</span></a> <a id="om:344" class="idref" href="#om:344"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#l:340"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:341"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#im:342"><span class="id" title="variable">im</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s':343"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#om:344"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="msg:345" class="idref" href="#msg:345"><span class="id" title="binder">msg</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s':343"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:345"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:341"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:345"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:346" class="idref" href="#m:346"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#im:342"><span class="id" title="variable">im</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:346"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#om:344"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:346"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#msg:345"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:346"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg:345"><span class="id" title="variable">msg</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:346"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#free_composite_has_been_directly_observed_stepwise_props"><span class="id" title="lemma">free_composite_has_been_directly_observed_stepwise_props</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Ht</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs'</span> | <span class="id" title="var">m'</span> <span class="id" title="var">Hobs'</span> <span class="id" title="var">Hdep</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">eapply</span> <span class="id" title="var">oracle_step_update</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs'</span>; [| <span class="id" title="var">done</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnow</span> | <span class="id" title="var">Hbefore</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">m'</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">econstructor</span> 2.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hbefore</span> | (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hnow</span> &amp; [&lt;- | <span class="id" title="var">Hdep</span>])].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#transition_preserves_CompositeHasBeenObserved"><span class="id" title="lemma">transition_preserves_CompositeHasBeenObserved</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">oracle_step_update</span>; [| <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span> 2; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">eapply</span> <span class="id" title="var">oracle_step_update</span>; [| <span class="id" title="tactic">left</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Lifting <span class="inlinecode"><span class="id" title="var">DirectlyObservedBeforeSend</span></span> to a composition. The advantage of this
  definition is that RHS can be emitted by any of the machines in the composition.

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="CompositeObservedBeforeSendTransition" class="idref" href="#CompositeObservedBeforeSendTransition"><span class="id" title="record">CompositeObservedBeforeSendTransition</span></a><br/>
&nbsp;&nbsp;(<a id="s:347" class="idref" href="#s:347"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="item:348" class="idref" href="#item:348"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="m1:349" class="idref" href="#m1:349"><span class="id" title="binder">m1</span></a> <a id="m2:350" class="idref" href="#m2:350"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="cdobst_transition" class="idref" href="#cdobst_transition"><span class="id" title="projection">cdobst_transition</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition_item"><span class="id" title="definition">input_constrained_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:347"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:348"><span class="id" title="variable">item</span></a>;<br/>
&nbsp;&nbsp;<a id="cdobst_output_m2" class="idref" href="#cdobst_output_m2"><span class="id" title="projection">cdobst_output_m2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:348"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:350"><span class="id" title="variable">m2</span></a>;<br/>
&nbsp;&nbsp;<a id="cdobst_observed_m1" class="idref" href="#cdobst_observed_m1"><span class="id" title="projection">cdobst_observed_m1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeStateOrMessage"><span class="id" title="inductive">ObservedBeforeStateOrMessage</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:348"><span class="id" title="variable">item</span></a>))) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:349"><span class="id" title="variable">m1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.MessageDependencies.html#s:347"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:348"><span class="id" title="variable">item</span></a>))) (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:348"><span class="id" title="variable">item</span></a>);<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_observed_before_send" class="idref" href="#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a> (<a id="m1:355" class="idref" href="#m1:355"><span class="id" title="binder">m1</span></a> <a id="m2:356" class="idref" href="#m2:356"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:357" class="idref" href="#s:357"><span class="id" title="binder">s</span></a> <a id="item:358" class="idref" href="#item:358"><span class="id" title="binder">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeObservedBeforeSendTransition"><span class="id" title="record">CompositeObservedBeforeSendTransition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:357"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:358"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:355"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:356"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_ObservedBeforeSendTransition_lift" class="idref" href="#composite_ObservedBeforeSendTransition_lift"><span class="id" title="lemma">composite_ObservedBeforeSendTransition_lift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:359" class="idref" href="#i:359"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.index"><span class="id" title="variable">index</span></a>) (<a id="s:360" class="idref" href="#s:360"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:359"><span class="id" title="variable">i</span></a>)) (<a id="item:361" class="idref" href="#item:361"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:359"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:362" class="idref" href="#m1:362"><span class="id" title="binder">m1</span></a> <a id="m2:363" class="idref" href="#m2:363"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeSendTransition"><span class="id" title="record">ObservedBeforeSendTransition</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:359"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:361"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:362"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:363"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeObservedBeforeSendTransition"><span class="id" title="record">CompositeObservedBeforeSendTransition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_state'"><span class="id" title="definition">lift_to_composite_state'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:359"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:360"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_transition_item'"><span class="id" title="definition">lift_to_composite_transition_item'</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:359"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:361"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:362"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:363"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * []; <span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding_input_valid_transition"><span class="id" title="lemma">VLSM_embedding_input_valid_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">dobst_transition0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_preloaded_VLSM_embedding"><span class="id" title="lemma">lift_to_composite_preloaded_VLSM_embedding</span></a>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_observed_before_send_lift" class="idref" href="#composite_observed_before_send_lift"><span class="id" title="lemma">composite_observed_before_send_lift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:364" class="idref" href="#i:364"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.index"><span class="id" title="variable">index</span></a>) (<a id="m1:365" class="idref" href="#m1:365"><span class="id" title="binder">m1</span></a> <a id="m2:366" class="idref" href="#m2:366"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#observed_before_send"><span class="id" title="definition">observed_before_send</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:364"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:365"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:366"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:365"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:366"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * (<span class="id" title="var">s</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Hobs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_ObservedBeforeSendTransition_lift"><span class="id" title="lemma">composite_ObservedBeforeSendTransition_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_ObservedBeforeSendTransition_project" class="idref" href="#composite_ObservedBeforeSendTransition_project"><span class="id" title="lemma">composite_ObservedBeforeSendTransition_project</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:367" class="idref" href="#s:367"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="item:368" class="idref" href="#item:368"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:369" class="idref" href="#m1:369"><span class="id" title="binder">m1</span></a> <a id="m2:370" class="idref" href="#m2:370"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) (<a id="i:371" class="idref" href="#i:371"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:368"><span class="id" title="variable">item</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeObservedBeforeSendTransition"><span class="id" title="record">CompositeObservedBeforeSendTransition</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:367"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:368"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:369"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:370"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#ObservedBeforeSendTransition"><span class="id" title="record">ObservedBeforeSendTransition</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:371"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.MessageDependencies.html#s:367"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:371"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection"><span class="id" title="definition">composite_transition_item_projection</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:368"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:369"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:370"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> * []; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#input_valid_transition_preloaded_project_active_free"><span class="id" title="lemma">input_valid_transition_preloaded_project_active_free</span></a> | ..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_observed_before_send_iff" class="idref" href="#composite_observed_before_send_iff"><span class="id" title="lemma">composite_observed_before_send_iff</span></a> <a id="m1:372" class="idref" href="#m1:372"><span class="id" title="binder">m1</span></a> <a id="m2:373" class="idref" href="#m2:373"><span class="id" title="binder">m2</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:372"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:373"><span class="id" title="variable">m2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:374" class="idref" href="#i:374"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#observed_before_send"><span class="id" title="definition">observed_before_send</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:374"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m1:372"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:373"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">s</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Hcomp</span>); <span class="id" title="tactic">eexists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>)), <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_ObservedBeforeSendTransition_project"><span class="id" title="lemma">composite_ObservedBeforeSendTransition_project</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send_lift"><span class="id" title="lemma">composite_observed_before_send_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_observed_before_send_subsumes_msg_dep_rel" class="idref" href="#composite_observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">composite_observed_before_send_subsumes_msg_dep_rel</span></a><br/>
&nbsp;&nbsp;`{<a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">forall</span></a> <a id="i:375" class="idref" href="#i:375"><span class="id" title="binder"><span id="H10:376" class="id">i</span></span></a><a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">,</span></a> <a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">MessageDependencies</span></a> <a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">(</span></a><a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">IM</span></a> <a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">i</span></a><a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">)</span></a> <a id="H10:376" class="idref" href="#H10:376"><span class="id" title="binder">message_dependencies</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:377" class="idref" href="#m:377"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:377"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:378" class="idref" href="#dm:378"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:378"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:377"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:378"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:377"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#can_emit_free_composite_project"><span class="id" title="lemma">can_emit_free_composite_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">Hjm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send_lift"><span class="id" title="lemma">composite_observed_before_send_lift</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">observed_before_send_subsumes_msg_dep_rel</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Similarly to the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a></span>, we define the transitive closure
  of the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a></span> relation.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="tc_composite_observed_before_send" class="idref" href="#tc_composite_observed_before_send"><span class="id" title="definition">tc_composite_observed_before_send</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="inductive">tc</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send"><span class="id" title="definition">composite_observed_before_send</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tc_composite_observed_before_send_subsumes_msg_dep_rel" class="idref" href="#tc_composite_observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">tc_composite_observed_before_send_subsumes_msg_dep_rel</span></a><br/>
&nbsp;&nbsp;`{<a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">forall</span></a> <a id="i:379" class="idref" href="#i:379"><span class="id" title="binder"><span id="H10:380" class="id">i</span></span></a><a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">,</span></a> <a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">MessageDependencies</span></a> <a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">(</span></a><a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">IM</span></a> <a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">i</span></a><a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">)</span></a> <a id="H10:380" class="idref" href="#H10:380"><span class="id" title="binder">message_dependencies</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:381" class="idref" href="#m:381"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:381"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:382" class="idref" href="#dm:382"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:382"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:381"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#tc_composite_observed_before_send"><span class="id" title="definition">tc_composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:382"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:381"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">composite_observed_before_send_subsumes_msg_dep_rel</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_can_emit"><span class="id" title="lemma">VLSM_incl_can_emit</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tc_composite_observed_before_send_subsumes_happens_before" class="idref" href="#tc_composite_observed_before_send_subsumes_happens_before"><span class="id" title="lemma">tc_composite_observed_before_send_subsumes_happens_before</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:383" class="idref" href="#no_initial_messages_in_IM:383"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">forall</span></a> <a id="i:384" class="idref" href="#i:384"><span class="id" title="binder"><span id="H10:385" class="id">i</span></span></a><a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">,</span></a> <a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">MessageDependencies</span></a> <a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">(</span></a><a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">IM</span></a> <a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">i</span></a><a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">)</span></a> <a id="H10:385" class="idref" href="#H10:385"><span class="id" title="binder">message_dependencies</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:386" class="idref" href="#m:386"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:386"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:387" class="idref" href="#dm:387"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:387"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:386"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#tc_composite_observed_before_send"><span class="id" title="definition">tc_composite_observed_before_send</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:387"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:386"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hdm</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#tc_composite_observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">tc_composite_observed_before_send_subsumes_msg_dep_rel</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">y</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHdm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#tc_composite_observed_before_send_subsumes_msg_dep_rel"><span class="id" title="lemma">tc_composite_observed_before_send_subsumes_msg_dep_rel</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid"><span class="id" title="lemma">emitted_messages_are_valid</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_reflects_happens_before_free_validity"><span class="id" title="lemma">msg_dep_reflects_happens_before_free_validity</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">i</span> &amp; [] &amp; &lt;-) |]; [<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">no_initial_messages_in_IM</span> | ..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A messages constitutes a (global) evidence of equivocation for a
  validator <code>v</code> in a composite state <code>s</code> if the message has <code>v</code> as a sender,
  it has been (indirectly) observed in <span class="inlinecode"><a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a></span> <code>s</code>, (see
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a></span>), but it wasn't observed as sent in <code>s</code>
  (see <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a></span>).

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="MsgDepGlobalEquivocationEvidence" class="idref" href="#MsgDepGlobalEquivocationEvidence"><span class="id" title="record">MsgDepGlobalEquivocationEvidence</span></a><br/>
&nbsp;&nbsp;(<a id="s:388" class="idref" href="#s:388"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="v:389" class="idref" href="#v:389"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) (<a id="m:390" class="idref" href="#m:390"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="mdgee_sender" class="idref" href="#mdgee_sender"><span class="id" title="projection">mdgee_sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:390"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:389"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="mdgee_rec_observed" class="idref" href="#mdgee_rec_observed"><span class="id" title="projection">mdgee_rec_observed</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:388"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:390"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="mdgee_not_sent" class="idref" href="#mdgee_not_sent"><span class="id" title="projection">mdgee_not_sent</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:388"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:390"><span class="id" title="variable">m</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="msg_dep_is_globally_equivocating" class="idref" href="#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="s:395" class="idref" href="#s:395"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="v:396" class="idref" href="#v:396"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:397" class="idref" href="#m:397"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#MsgDepGlobalEquivocationEvidence"><span class="id" title="record">MsgDepGlobalEquivocationEvidence</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:395"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:396"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:397"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Under the full-node assumption, we can give a simpler alternative to
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MsgDepGlobalEquivocationEvidence"><span class="id" title="record">MsgDepGlobalEquivocationEvidence</span></a></span> which only requires that the message has been
  received in the <span class="inlinecode"><a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a></span> (see <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a></span>) (due to
  the Lemma <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_full_node_happens_before_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></a></span>).

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="FullNodeGlobalEquivocationEvidence" class="idref" href="#FullNodeGlobalEquivocationEvidence"><span class="id" title="record">FullNodeGlobalEquivocationEvidence</span></a><br/>
&nbsp;&nbsp;(<a id="s:398" class="idref" href="#s:398"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="v:399" class="idref" href="#v:399"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) (<a id="m:400" class="idref" href="#m:400"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="fngee_sender" class="idref" href="#fngee_sender"><span class="id" title="projection">fngee_sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:400"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:399"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;<a id="fngee_received" class="idref" href="#fngee_received"><span class="id" title="projection">fngee_received</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_received"><span class="id" title="definition">composite_has_been_received</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:398"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:400"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="fngee_not_sent" class="idref" href="#fngee_not_sent"><span class="id" title="projection">fngee_not_sent</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:398"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:400"><span class="id" title="variable">m</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="full_node_is_globally_equivocating" class="idref" href="#full_node_is_globally_equivocating"><span class="id" title="definition">full_node_is_globally_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="s:405" class="idref" href="#s:405"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a>) (<a id="v:406" class="idref" href="#v:406"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:407" class="idref" href="#m:407"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#FullNodeGlobalEquivocationEvidence"><span class="id" title="record">FullNodeGlobalEquivocationEvidence</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:405"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:406"><span class="id" title="variable">v</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:407"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_is_globally_equivocating_stronger" class="idref" href="#full_node_is_globally_equivocating_stronger"><span class="id" title="lemma">full_node_is_globally_equivocating_stronger</span></a> <a id="s:408" class="idref" href="#s:408"><span class="id" title="binder">s</span></a> <a id="v:409" class="idref" href="#v:409"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_globally_equivocating"><span class="id" title="definition">full_node_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:408"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:409"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:408"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:409"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">m</span> []]; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_is_globally_equivocating_iff" class="idref" href="#full_node_is_globally_equivocating_iff"><span class="id" title="lemma">full_node_is_globally_equivocating_iff</span></a><br/>
&nbsp;&nbsp;`{<a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">forall</span></a> <a id="i:410" class="idref" href="#i:410"><span class="id" title="binder"><span id="H10:411" class="id">i</span></span></a><a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">,</span></a> <a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">MessageDependencies</span></a> <a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">(</span></a><a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">IM</span></a> <a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">i</span></a><a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">)</span></a> <a id="H10:411" class="idref" href="#H10:411"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hfull:413" class="idref" href="#Hfull:413"><span class="id" title="binder">Hfull</span></a> : <span class="id" title="notation">forall</span> <a id="i:412" class="idref" href="#i:412"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_full_node_condition_prop"><span class="id" title="definition">message_dependencies_full_node_condition_prop</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:412"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:414" class="idref" href="#s:414"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:414"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="v:415" class="idref" href="#v:415"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:414"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:415"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_globally_equivocating"><span class="id" title="definition">full_node_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:414"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:415"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_globally_equivocating_stronger"><span class="id" title="lemma">full_node_is_globally_equivocating_stronger</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hsender</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">Hnsent</span>]]; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a>; <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hobs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs</span> | <span class="id" title="var">m'</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hobs</span>] <span class="id" title="var">Hhb</span>]; [<span class="id" title="var">done</span> | <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_full_node_happens_before_reflects_has_been_directly_observed"><span class="id" title="lemma">msg_dep_full_node_happens_before_reflects_has_been_directly_observed</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_constrained_state_project"><span class="id" title="lemma">composite_constrained_state_project</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_locally_is_globally_equivocating" class="idref" href="#msg_dep_locally_is_globally_equivocating"><span class="id" title="lemma">msg_dep_locally_is_globally_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="A:416" class="idref" href="#A:416"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsafety:417" class="idref" href="#Hsafety:417"><span class="id" title="binder">Hsafety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#A:416"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent_comparable:419" class="idref" href="#Hsent_comparable:419"><span class="id" title="binder">Hsent_comparable</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:418" class="idref" href="#i:418"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#has_been_sent_msg_dep_comparable_prop"><span class="id" title="definition">has_been_sent_msg_dep_comparable_prop</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:418"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:420" class="idref" href="#s:420"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:420"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:421" class="idref" href="#i:421"><span class="id" title="binder">i</span></a> <a id="v:422" class="idref" href="#v:422"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_locally_equivocating"><span class="id" title="definition">msg_dep_is_locally_equivocating</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:421"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#s:420"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:421"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#v:422"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:420"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:422"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span> (<span class="id" title="var">m1</span> &amp; <span class="id" title="var">m2</span> &amp; [<span class="id" title="var">Hsender1</span> <span class="id" title="var">Hsender2</span> <span class="id" title="var">Hobs1</span> <span class="id" title="var">Hobs2</span> <span class="id" title="var">Hncomp</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) (<span class="id" title="var">s</span> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) <span class="id" title="var">m1</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) (<span class="id" title="var">s</span> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) <span class="id" title="var">m2</span>)) |]; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;1, 2: <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[.. | <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#composite_HasBeenObserved_lift"><span class="id" title="lemma">composite_HasBeenObserved_lift</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hncomp</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_comparable"><span class="id" title="lemma">tc_comparable</span></a>, <span class="id" title="var">Hsent_comparable</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_constrained_state_project"><span class="id" title="lemma">composite_constrained_state_project</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="full_node_sent_locally_is_globally_equivocating" class="idref" href="#full_node_sent_locally_is_globally_equivocating"><span class="id" title="lemma">full_node_sent_locally_is_globally_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="A:423" class="idref" href="#A:423"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.validator"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsafety:424" class="idref" href="#Hsafety:424"><span class="id" title="binder">Hsafety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#A:423"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsent_comparable:426" class="idref" href="#Hsent_comparable:426"><span class="id" title="binder">Hsent_comparable</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:425" class="idref" href="#i:425"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#has_been_sent_msg_dep_comparable_prop"><span class="id" title="definition">has_been_sent_msg_dep_comparable_prop</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:425"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="s:427" class="idref" href="#s:427"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:427"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:428" class="idref" href="#i:428"><span class="id" title="binder">i</span></a> <a id="v:429" class="idref" href="#v:429"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#full_node_is_sent_locally_equivocating"><span class="id" title="definition">full_node_is_sent_locally_equivocating</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:428"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.sender"><span class="id" title="variable">sender</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#s:427"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:428"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#v:429"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:427"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:429"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span> (<span class="id" title="var">m1</span> &amp; <span class="id" title="var">m2</span> &amp; [<span class="id" title="var">Hsender1</span> <span class="id" title="var">Hsender2</span> <span class="id" title="var">Hobs1</span> <span class="id" title="var">Hobs2</span> <span class="id" title="var">Hncomp</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) (<span class="id" title="var">s</span> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) <span class="id" title="var">m1</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) (<span class="id" title="var">s</span> (<span class="id" title="var">A</span> <span class="id" title="var">v</span>)) <span class="id" title="var">m2</span>)) |]; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;1, 2: <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cycle</span> 2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a> | <span class="id" title="var">done</span> |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hncomp</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsent_comparable</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_constrained_state_project"><span class="id" title="lemma">composite_constrained_state_project</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_composite_message_dependencies_equivocation"><span class="id" title="section">sec_composite_message_dependencies_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_sub_composite_message_dependencies" class="idref" href="#sec_sub_composite_message_dependencies"><span class="id" title="section">sec_sub_composite_message_dependencies</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:430" class="idref" href="#message:430"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`(<a id="IM:432" class="idref" href="#IM:432"><span class="id" title="binder">IM</span></a> : <a id="index:431" class="idref" href="#index:431"><span class="id" title="binder">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:430"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H6:442" class="idref" href="#H6:442"><span class="id" title="binder">FinSet</span></a> <a id="H6:442" class="idref" href="#H6:442"><span class="id" title="binder">message</span></a> <a id="Cm:433" class="idref" href="#Cm:433"><span class="id" title="binder"><span id="H6:442" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:443" class="idref" href="#message_dependencies:443"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:430"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:433"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H14:453" class="idref" href="#H14:453"><span class="id" title="binder">FinSet</span></a> <a id="H14:453" class="idref" href="#H14:453"><span class="id" title="binder">index</span></a> <a id="Ci:444" class="idref" href="#Ci:444"><span class="id" title="binder"><span id="H14:453" class="id">Ci</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="indices:454" class="idref" href="#indices:454"><span class="id" title="binder">indices</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#Ci:444"><span class="id" title="variable">Ci</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">forall</span></a> <a id="i:455" class="idref" href="#i:455"><span class="id" title="binder"><span id="H15:456" class="id">i</span></span></a><a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">,</span></a> <a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">(</span></a><a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">IM</span></a> <a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">i</span></a><a id="H15:456" class="idref" href="#H15:456"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">forall</span></a> <a id="i:457" class="idref" href="#i:457"><span class="id" title="binder"><span id="H16:458" class="id">i</span></span></a><a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">,</span></a> <a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">(</span></a><a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">IM</span></a> <a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">i</span></a><a id="H16:458" class="idref" href="#H16:458"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="Irreflexive0:459" class="idref" href="#Irreflexive0:459"><span class="id" title="binder">!</span></a><a id="Irreflexive0:459" class="idref" href="#Irreflexive0:459"><span class="id" title="binder">Irreflexive</span></a> <a id="Irreflexive0:459" class="idref" href="#Irreflexive0:459"><span class="id" title="binder">(</span></a><a id="Irreflexive0:459" class="idref" href="#Irreflexive0:459"><span class="id" title="binder">msg_dep_happens_before</span></a> <a id="Irreflexive0:459" class="idref" href="#Irreflexive0:459"><span class="id" title="binder">message_dependencies</span></a><a id="Irreflexive0:459" class="idref" href="#Irreflexive0:459"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">forall</span></a> <a id="i:460" class="idref" href="#i:460"><span class="id" title="binder"><span id="H17:461" class="id">i</span></span></a><a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">,</span></a> <a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">MessageDependencies</span></a> <a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">(</span></a><a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">IM</span></a> <a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">i</span></a><a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">)</span></a> <a id="H17:461" class="idref" href="#H17:461"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_reflects_sub_free_validity" class="idref" href="#msg_dep_reflects_sub_free_validity"><span class="id" title="lemma">msg_dep_reflects_sub_free_validity</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:462" class="idref" href="#no_initial_messages_in_IM:462"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:463" class="idref" href="#P:463"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hreflects:466" class="idref" href="#Hreflects:466"><span class="id" title="binder">Hreflects</span></a> : <span class="id" title="notation">forall</span> <a id="dm:464" class="idref" href="#dm:464"><span class="id" title="binder">dm</span></a> <a id="m:465" class="idref" href="#m:465"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:464"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:465"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:463"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:465"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:463"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:464"><span class="id" title="variable">dm</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:467" class="idref" href="#X:467"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies.indices"><span class="id" title="variable">indices</span></a>)))<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:468" class="idref" href="#dm:468"><span class="id" title="binder">dm</span></a> <a id="m:469" class="idref" href="#m:469"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:468"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:469"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:467"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:463"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:469"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#X:467"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:463"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:468"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_reflects_validity"><span class="id" title="lemma">msg_dep_reflects_validity</span></a>; [| | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [<span class="id" title="var">sub_i</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] <span class="id" title="var">Heqm</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Him</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">no_initial_messages_in_IM</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_sub_composite_message_dependencies"><span class="id" title="section">sec_sub_composite_message_dependencies</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_FullMessageDependencies" class="idref" href="#sec_FullMessageDependencies"><span class="id" title="section">sec_FullMessageDependencies</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:470" class="idref" href="#message:470"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H6:480" class="idref" href="#H6:480"><span class="id" title="binder">FinSet</span></a> <a id="H6:480" class="idref" href="#H6:480"><span class="id" title="binder">message</span></a> <a id="Cm:471" class="idref" href="#Cm:471"><span class="id" title="binder"><span id="H6:480" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="FullMessageDependencies" class="idref" href="#FullMessageDependencies"><span class="id" title="record">FullMessageDependencies</span></a><br/>
&nbsp;&nbsp;(<a id="message_dependencies:481" class="idref" href="#message_dependencies:481"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies.Cm"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;(<a id="full_message_dependencies:482" class="idref" href="#full_message_dependencies:482"><span class="id" title="binder">full_message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies.Cm"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="full_message_dependencies_happens_before" class="idref" href="#full_message_dependencies_happens_before"><span class="id" title="projection">full_message_dependencies_happens_before</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:484" class="idref" href="#dm:484"><span class="id" title="binder">dm</span></a> <a id="m:485" class="idref" href="#m:485"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#dm:484"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies:482"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:485"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:481"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:484"><span class="id" title="variable">dm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:485"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="full_message_dependencies_irreflexive" class="idref" href="#full_message_dependencies_irreflexive"><span class="id" title="projection">full_message_dependencies_irreflexive</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:487" class="idref" href="#m:487"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:487"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies:482"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:487"><span class="id" title="variable">m</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies"><span class="id" title="section">sec_FullMessageDependencies</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;given&nbsp;the&nbsp;message&nbsp;type,&nbsp;we&nbsp;can&nbsp;usually&nbsp;look&nbsp;up&nbsp;the&nbsp;functions&nbsp;for&nbsp;message&nbsp;dependencies&nbsp;*)</span><br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#FullMessageDependencies"><span class="id" title="class">FullMessageDependencies</span></a> ! - - - - - - - - - - - - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_FullMessageDependencies_happens_before" class="idref" href="#sec_FullMessageDependencies_happens_before"><span class="id" title="section">sec_FullMessageDependencies_happens_before</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H6:499" class="idref" href="#H6:499"><span class="id" title="binder">FinSet</span></a> <a id="message:489" class="idref" href="#message:489"><span class="id" title="binder"><span id="H6:499" class="id">message</span></span></a> <a id="Cm:490" class="idref" href="#Cm:490"><span class="id" title="binder"><span id="H6:499" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:500" class="idref" href="#message_dependencies:500"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:489"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:490"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;(<a id="full_message_dependencies:501" class="idref" href="#full_message_dependencies:501"><span class="id" title="binder">full_message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:489"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:490"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;(<a id="HFullMsgDep:502" class="idref" href="#HFullMsgDep:502"><span class="id" title="binder">HFullMsgDep</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#FullMessageDependencies"><span class="id" title="class">FullMessageDependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies:500"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies:501"><span class="id" title="variable">full_message_dependencies</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="msg_dep_happens_before_dec" class="idref" href="#msg_dep_happens_before_dec"><span class="id" title="instance">msg_dep_happens_before_dec</span></a> :<br/>
&nbsp;<span class="id" title="class">RelDecision</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">refine</span><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="m1:503" class="idref" href="#m1:503"><span class="id" title="binder"><span id="m1:505" class="id">m1</span></span></a> <a id="m2:504" class="idref" href="#m2:504"><span class="id" title="binder"><span id="m2:506" class="id">m2</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#m1:503"><span class="id" title="variable">m1</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m2:504"><span class="id" title="variable">m2</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Hdec</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">Hdec</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="msg_dep_happens_before_irrefl" class="idref" href="#msg_dep_happens_before_irrefl"><span class="id" title="instance">msg_dep_happens_before_irrefl</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Irreflexive"><span class="id" title="class">Irreflexive</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_irreflexive"><span class="id" title="method">full_message_dependencies_irreflexive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="msg_dep_happens_before_strict" class="idref" href="#msg_dep_happens_before_strict"><span class="id" title="instance">msg_dep_happens_before_strict</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#StrictOrder"><span class="id" title="class">StrictOrder</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>) := {}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_rel_full_message_dependecies_subset" class="idref" href="#msg_dep_rel_full_message_dependecies_subset"><span class="id" title="lemma">msg_dep_rel_full_message_dependecies_subset</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="x:507" class="idref" href="#x:507"><span class="id" title="binder">x</span></a> <a id="y:508" class="idref" href="#y:508"><span class="id" title="binder">y</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel"><span class="id" title="definition">msg_dep_rel</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#x:507"><span class="id" title="variable">x</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#y:508"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#x:507"><span class="id" title="variable">x</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#y:508"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="msg_dep_happens_before_wf" class="idref" href="#msg_dep_happens_before_wf"><span class="id" title="lemma">msg_dep_happens_before_wf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before"><span class="id" title="definition">msg_dep_happens_before</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_wf_projected"><span class="id" title="lemma">tc_wf_projected</span></a> <span class="id" title="keyword">with</span> <span class="id" title="notation">(&lt;)</span> (<span class="id" title="keyword">fun</span> <a id="m:509" class="idref" href="#m:509"><span class="id" title="binder"><span id="m:510" class="id">m</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:509"><span class="id" title="variable">m</span></a>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">Wf_nat.lt_wf</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#NoDup_subseteq_length"><span class="id" title="lemma">NoDup_subseteq_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_irreflexive"><span class="id" title="method">full_message_dependencies_irreflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">NoDup_elements</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_rel_full_message_dependecies_subset"><span class="id" title="lemma">msg_dep_rel_full_message_dependecies_subset</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="FullMessageDependencies_ind" class="idref" href="#FullMessageDependencies_ind"><span class="id" title="lemma">FullMessageDependencies_ind</span></a><br/>
&nbsp;&nbsp;(<a id="P:511" class="idref" href="#P:511"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;<a id="m:512" class="idref" href="#m:512"><span class="id" title="binder">m</span></a><br/>
&nbsp;&nbsp;(<a id="IHm:515" class="idref" href="#IHm:515"><span class="id" title="binder">IHm</span></a> : <span class="id" title="notation">forall</span> <a id="dm:513" class="idref" href="#dm:513"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:513"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:512"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="dm0:514" class="idref" href="#dm0:514"><span class="id" title="binder">dm0</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm0:514"><span class="id" title="variable">dm0</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:513"><span class="id" title="variable">dm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:511"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm0:514"><span class="id" title="variable">dm0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:511"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:513"><span class="id" title="variable">dm</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="dm:516" class="idref" href="#dm:516"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:516"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:512"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#P:511"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:516"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>  <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hm</span>) <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_ind"><span class="id" title="lemma">well_founded_ind</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_wf"><span class="id" title="lemma">msg_dep_happens_before_wf</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHm</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm0</span> <span class="id" title="var">Hdm0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHm</span>, <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">dm</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_FullMessageDependencies_happens_before"><span class="id" title="section">sec_FullMessageDependencies_happens_before</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab181"></a><h2 class="section">Basic validation condition for free composition</h2>


<div class="paragraph"> </div>

  In this section we show (Lemma <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#valid_free_validating_is_message_validating"><span class="id" title="lemma">valid_free_validating_is_message_validating</span></a></span>)
  that, under <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#FullMessageDependencies"><span class="id" title="record">FullMessageDependencies</span></a></span> assumptions, if the validity predicate
  ensures that message itself and all of its dependencies can be emitted using
  only its dependencies, then the input message is valid for the free composition.
  Thus, the component itself is a validator for the free composition.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_free_composition_validators" class="idref" href="#sec_free_composition_validators"><span class="id" title="section">sec_free_composition_validators</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:517" class="idref" href="#message:517"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:520" class="idref" href="#H:520"><span class="id" title="binder">finite.Finite</span></a> <a id="index:518" class="idref" href="#index:518"><span class="id" title="binder"><span id="H:520" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:521" class="idref" href="#IM:521"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#index:518"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:517"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">forall</span></a> <a id="i:522" class="idref" href="#i:522"><span class="id" title="binder"><span id="H0:523" class="id">i</span></span></a><a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">,</span></a> <a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">(</span></a><a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">IM</span></a> <a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">i</span></a><a id="H0:523" class="idref" href="#H0:523"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">forall</span></a> <a id="i:524" class="idref" href="#i:524"><span class="id" title="binder"><span id="H1:525" class="id">i</span></span></a><a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">,</span></a> <a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">(</span></a><a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">IM</span></a> <a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">i</span></a><a id="H1:525" class="idref" href="#H1:525"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;{<a id="validator:526" class="idref" href="#validator:526"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="A:527" class="idref" href="#A:527"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#validator:526"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#index:518"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:528" class="idref" href="#sender:528"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:517"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#validator:526"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;`(<a id="message_dependencies:530" class="idref" href="#message_dependencies:530"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:517"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a id="Cm:529" class="idref" href="#Cm:529"><span class="id" title="binder">Cm</span></a>)<br/>
&nbsp;&nbsp;`(<a id="full_message_dependencies:531" class="idref" href="#full_message_dependencies:531"><span class="id" title="binder">full_message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:517"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:529"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H10:541" class="idref" href="#H10:541"><span class="id" title="binder">FullMessageDependencies</span></a> <a id="H10:541" class="idref" href="#H10:541"><span class="id" title="binder">message</span></a> <a id="H10:541" class="idref" href="#H10:541"><span class="id" title="binder">Cm</span></a> <a id="H10:541" class="idref" href="#H10:541"><span class="id" title="binder">message_dependencies</span></a> <a id="H10:541" class="idref" href="#H10:541"><span class="id" title="binder">full_message_dependencies</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  The property of a message of having a sender and being emittable by the
  component corresponding to its sender preloaded with the dependencies of the
  message.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="Emittable_from_dependencies_prop" class="idref" href="#Emittable_from_dependencies_prop"><span class="id" title="definition, inductive"><span id="Emittable_from_dependencies_prop_ind" class="id"><span id="Emittable_from_dependencies_prop_sind" class="id">Emittable_from_dependencies_prop</span></span></span></a> (<a id="m:542" class="idref" href="#m:542"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="efdp" class="idref" href="#efdp"><span class="id" title="constructor">efdp</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="v:545" class="idref" href="#v:545"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.validator"><span class="id" title="variable">validator</span></a>) (<a id="Hsender:546" class="idref" href="#Hsender:546"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:542"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:545"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hemittable:548" class="idref" href="#Hemittable:548"><span class="id" title="binder">Hemittable</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:545"><span class="id" title="variable">v</span></a>)) (<span class="id" title="keyword">fun</span> <a id="dm:547" class="idref" href="#dm:547"><span class="id" title="binder">dm</span></a> =&gt; <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:547"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:542"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#m:542"><span class="id" title="variable">m</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#Emittable_from_dependencies_prop:543"><span class="id" title="inductive">Emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:542"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="emittable_from_dependencies_prop" class="idref" href="#emittable_from_dependencies_prop"><span class="id" title="definition">emittable_from_dependencies_prop</span></a> (<a id="m:549" class="idref" href="#m:549"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:549"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>)) (<span class="id" title="keyword">fun</span> <a id="dm:550" class="idref" href="#dm:550"><span class="id" title="binder">dm</span></a> =&gt; <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:550"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:549"><span class="id" title="variable">m</span></a>)) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:549"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="emittable_from_dependencies_prop_iff" class="idref" href="#emittable_from_dependencies_prop_iff"><span class="id" title="lemma">emittable_from_dependencies_prop_iff</span></a> <a id="m:551" class="idref" href="#m:551"><span class="id" title="binder">m</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.MessageDependencies.html#Emittable_from_dependencies_prop"><span class="id" title="inductive">Emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:551"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#emittable_from_dependencies_prop"><span class="id" title="definition">emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:551"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#emittable_from_dependencies_prop"><span class="id" title="definition">emittable_from_dependencies_prop</span></a>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsender</span>; [<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span> | <span class="id" title="tactic">inversion</span> 1].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The property of a message that both itself and all of its dependencies are
  emittable from their dependencies.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="all_dependencies_emittable_from_dependencies_prop" class="idref" href="#all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">all_dependencies_emittable_from_dependencies_prop</span></a> (<a id="m:552" class="idref" href="#m:552"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:553" class="idref" href="#dm:553"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:553"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:552"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:552"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Emittable_from_dependencies_prop"><span class="id" title="inductive">Emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:553"><span class="id" title="variable">dm</span></a>.<br/>

<br/>
</div>

<div class="doc">
  The property of requiring that the validity predicate subsumes the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">all_dependencies_emittable_from_dependencies_prop</span></a></span>erty.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="valid_all_dependencies_emittable_from_dependencies_prop" class="idref" href="#valid_all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">valid_all_dependencies_emittable_from_dependencies_prop</span></a> (<a id="i:554" class="idref" href="#i:554"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:555" class="idref" href="#l:555"><span class="id" title="binder">l</span></a> <a id="s:556" class="idref" href="#s:556"><span class="id" title="binder">s</span></a> <a id="m:557" class="idref" href="#m:557"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained"><span class="id" title="definition">input_constrained</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:554"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#l:555"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#s:556"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:557"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">all_dependencies_emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:557"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
  If a message can be emitted by a component preloaded with the message's direct
  dependencies, and if all the dependencies of the message are valid for the
  free composition, then the message itself is valid for the free composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="free_valid_from_valid_dependencies" class="idref" href="#free_valid_from_valid_dependencies"><span class="id" title="lemma">free_valid_from_valid_dependencies</span></a><br/>
&nbsp;&nbsp;<a id="m:558" class="idref" href="#m:558"><span class="id" title="binder">m</span></a> <a id="i:559" class="idref" href="#i:559"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hm:561" class="idref" href="#Hm:561"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:559"><span class="id" title="variable">i</span></a>) (<span class="id" title="keyword">fun</span> <a id="dm:560" class="idref" href="#dm:560"><span class="id" title="binder">dm</span></a> =&gt; <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:560"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:558"><span class="id" title="variable">m</span></a>)) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:558"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hdeps:563" class="idref" href="#Hdeps:563"><span class="id" title="binder">Hdeps</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:562" class="idref" href="#dm:562"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:562"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.full_message_dependencies"><span class="id" title="variable">full_message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:558"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#dm:562"><span class="id" title="variable">dm</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:558"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid"><span class="id" title="lemma">emitted_messages_are_valid</span></a>, <a class="idref" href="VLSM.Core.Composition.html#free_valid_preloaded_lifts_can_be_emitted"><span class="id" title="lemma">free_valid_preloaded_lifts_can_be_emitted</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hdeps</span>, <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>, <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_iff_one"><span class="id" title="lemma">msg_dep_happens_before_iff_one</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Any message with the <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">all_dependencies_emittable_from_dependencies_prop</span></a></span>erty
  is valid for the free composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="free_valid_from_all_dependencies_emitable_from_dependencies" class="idref" href="#free_valid_from_all_dependencies_emitable_from_dependencies"><span class="id" title="lemma">free_valid_from_all_dependencies_emitable_from_dependencies</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:564" class="idref" href="#m:564"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">all_dependencies_emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#m:564"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#m:564"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hemit</span>; <span class="id" title="var">spec</span> <span class="id" title="var">Hemit</span>; [<span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hemit</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">_</span> <span class="id" title="var">Hemit'</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#free_valid_from_valid_dependencies"><span class="id" title="lemma">free_valid_from_valid_dependencies</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">v</span> <span class="id" title="var">Hemit'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#FullMessageDependencies_ind"><span class="id" title="lemma">FullMessageDependencies_ind</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span> <span class="id" title="var">Hdeps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">dm</span>); <span class="id" title="var">spec</span> <span class="id" title="var">Hm</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> <span class="id" title="var">_</span> ?]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#free_valid_from_valid_dependencies"><span class="id" title="lemma">free_valid_from_valid_dependencies</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If a component in a composition satisfies the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#valid_all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">valid_all_dependencies_emittable_from_dependencies_prop</span></a></span>erty, then it also has
  the <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#component_message_validator_prop"><span class="id" title="definition">component_message_validator_prop</span></a></span>erty, that is, it is a validator for the
  free composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="valid_free_validating_is_message_validating" class="idref" href="#valid_free_validating_is_message_validating"><span class="id" title="lemma">valid_free_validating_is_message_validating</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="i:565" class="idref" href="#i:565"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#valid_all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">valid_all_dependencies_emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:565"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#component_message_validator_prop"><span class="id" title="definition">component_message_validator_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#i:565"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hvalidating</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_message"><span class="id" title="lemma">VLSM_incl_valid_message</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm_spec"><span class="id" title="lemma">free_composite_vlsm_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#free_valid_from_all_dependencies_emitable_from_dependencies"><span class="id" title="lemma">free_valid_from_all_dependencies_emitable_from_dependencies</span></a>, <span class="id" title="var">Hvalidating</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Under several additional (but regularly used) assumptions, including the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="record">MessageDependencies</span></a></span> assumptions, the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a></span>erty and the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a></span>erty, we can show that the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.ProjectionTraces.html#component_message_validator_prop"><span class="id" title="definition">component_message_validator_prop</span></a></span>erty is fully equivalent to the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.MessageDependencies.html#valid_all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">valid_all_dependencies_emittable_from_dependencies_prop</span></a></span>erty.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="valid_free_validating_equiv_message_validating" class="idref" href="#valid_free_validating_equiv_message_validating"><span class="id" title="lemma">valid_free_validating_equiv_message_validating</span></a><br/>
&nbsp;&nbsp;`{<a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">forall</span></a> <a id="i:566" class="idref" href="#i:566"><span class="id" title="binder"><span id="H11:567" class="id">i</span></span></a><a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">,</span></a> <a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">MessageDependencies</span></a> <a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">(</span></a><a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">IM</span></a> <a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">i</span></a><a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">)</span></a> <a id="H11:567" class="idref" href="#H11:567"><span class="id" title="binder">message_dependencies</span></a>}<br/>
&nbsp;&nbsp;(<a id="Hchannel:568" class="idref" href="#Hchannel:568"><span class="id" title="binder">Hchannel</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:569" class="idref" href="#no_initial_messages_in_IM:569"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="i:570" class="idref" href="#i:570"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#component_message_validator_prop"><span class="id" title="definition">component_message_validator_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#i:570"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#valid_all_dependencies_emittable_from_dependencies_prop"><span class="id" title="definition">valid_all_dependencies_emittable_from_dependencies_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#i:570"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#valid_free_validating_is_message_validating"><span class="id" title="lemma">valid_free_validating_is_message_validating</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalidator</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hv</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hvalidator</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdm</span> <span class="id" title="keyword">as</span> [| ? ? ? <span class="id" title="var">Hin</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_no_initial_valid_messages_emitted_by_sender"><span class="id" title="lemma">composite_no_initial_valid_messages_emitted_by_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalidator</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">v</span> &amp; <span class="id" title="var">Hsender</span> &amp; <span class="id" title="var">Hemit</span>); [| <span class="id" title="var">done</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_sufficient"><span class="id" title="method">message_dependencies_are_sufficient</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>, <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender"><span class="id" title="lemma">msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">v</span> &amp; <span class="id" title="var">Hsender</span> &amp; <span class="id" title="var">Hemit</span>); [| <span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">v</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#message_dependencies_are_sufficient"><span class="id" title="method">message_dependencies_are_sufficient</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_message"><span class="id" title="lemma">VLSM_incl_valid_message</span></a>; [| | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm_spec"><span class="id" title="lemma">free_composite_vlsm_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_free_composition_validators"><span class="id" title="section">sec_free_composition_validators</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_CompositeHasBeenObserved_dec" class="idref" href="#sec_CompositeHasBeenObserved_dec"><span class="id" title="section">sec_CompositeHasBeenObserved_dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H6:581" class="idref" href="#H6:581"><span class="id" title="binder">FinSet</span></a> <a id="message:571" class="idref" href="#message:571"><span class="id" title="binder"><span id="H6:581" class="id">message</span></span></a> <a id="Cm:572" class="idref" href="#Cm:572"><span class="id" title="binder"><span id="H6:581" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="H7:584" class="idref" href="#H7:584"><span class="id" title="binder">finite.Finite</span></a> <a id="index:582" class="idref" href="#index:582"><span class="id" title="binder"><span id="H7:584" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:585" class="idref" href="#message_dependencies:585"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:571"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:572"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;(<a id="IM:586" class="idref" href="#IM:586"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#index:582"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:571"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">forall</span></a> <a id="i:587" class="idref" href="#i:587"><span class="id" title="binder"><span id="H8:588" class="id">i</span></span></a><a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">,</span></a> <a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">ComputableSentMessages</span></a> <a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">(</span></a><a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">IM</span></a> <a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">i</span></a><a id="H8:588" class="idref" href="#H8:588"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">forall</span></a> <a id="i:589" class="idref" href="#i:589"><span class="id" title="binder"><span id="H9:590" class="id">i</span></span></a><a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">,</span></a> <a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">ComputableReceivedMessages</span></a> <a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">(</span></a><a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">IM</span></a> <a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">i</span></a><a id="H9:590" class="idref" href="#H9:590"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="CompositeHasBeenObserved_dec" class="idref" href="#CompositeHasBeenObserved_dec"><span class="id" title="instance">CompositeHasBeenObserved_dec</span></a><br/>
&nbsp;&nbsp;`{<a id="H18:601" class="idref" href="#H18:601"><span class="id" title="binder">FullMessageDependencies</span></a> <a id="H18:601" class="idref" href="#H18:601"><span class="id" title="binder">message</span></a> <a id="H18:601" class="idref" href="#H18:601"><span class="id" title="binder">Cm</span></a> <a id="H18:601" class="idref" href="#H18:601"><span class="id" title="binder">message_dependencies</span></a> <a id="full_message_dependencies:600" class="idref" href="#full_message_dependencies:600"><span class="id" title="binder"><span id="H18:601" class="id">full_message_dependencies</span></span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">RelDecision</span> (<a class="idref" href="VLSM.Core.MessageDependencies.html#CompositeHasBeenObserved"><span class="id" title="inductive">CompositeHasBeenObserved</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_CompositeHasBeenObserved_dec.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_CompositeHasBeenObserved_dec.message_dependencies"><span class="id" title="variable">message_dependencies</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_CompositeHasBeenObserved_dec.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="m':602" class="idref" href="#m':602"><span class="id" title="binder"><span id="m':603" class="id">m'</span></span></a> =&gt; <span class="id" title="var">m</span> <span class="id" title="notation">∈</span> <span class="id" title="definition">elements</span> (<span class="id" title="var">full_message_dependencies</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#m':602"><span class="id" title="variable">m'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_observed_messages_set"><span class="id" title="definition">composite_observed_messages_set</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_CompositeHasBeenObserved_dec.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">s</span>))).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m'</span> &amp; <span class="id" title="var">Hobsm'</span> &amp; <span class="id" title="var">Hmm'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">m'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_observed_messages_set"><span class="id" title="lemma">elem_of_composite_observed_messages_set</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmm'</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">inversion</span> 1; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">m'</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#elem_of_composite_observed_messages_set"><span class="id" title="lemma">elem_of_composite_observed_messages_set</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#full_message_dependencies_happens_before"><span class="id" title="method">full_message_dependencies_happens_before</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_CompositeHasBeenObserved_dec"><span class="id" title="section">sec_CompositeHasBeenObserved_dec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_msg_dep_is_globally_equivocating_props" class="idref" href="#sec_msg_dep_is_globally_equivocating_props"><span class="id" title="section">sec_msg_dep_is_globally_equivocating_props</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:604" class="idref" href="#message:604"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:606" class="idref" href="#EqDecision0:606"><span class="id" title="binder">EqDecision</span></a> <a id="index:605" class="idref" href="#index:605"><span class="id" title="binder"><span id="EqDecision0:606" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:607" class="idref" href="#IM:607"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#index:605"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#message:604"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">forall</span></a> <a id="i:608" class="idref" href="#i:608"><span class="id" title="binder"><span id="H:609" class="id">i</span></span></a><a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">,</span></a> <a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">(</span></a><a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">IM</span></a> <a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">i</span></a><a id="H:609" class="idref" href="#H:609"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">forall</span></a> <a id="i:610" class="idref" href="#i:610"><span class="id" title="binder"><span id="H0:611" class="id">i</span></span></a><a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">,</span></a> <a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">(</span></a><a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">IM</span></a> <a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">i</span></a><a id="H0:611" class="idref" href="#H0:611"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:621" class="idref" href="#H8:621"><span class="id" title="binder">FinSet</span></a> <a id="H8:621" class="idref" href="#H8:621"><span class="id" title="binder">message</span></a> <a id="Cm:612" class="idref" href="#Cm:612"><span class="id" title="binder"><span id="H8:621" class="id">Cm</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="message_dependencies:622" class="idref" href="#message_dependencies:622"><span class="id" title="binder">message_dependencies</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:604"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#Cm:612"><span class="id" title="variable">Cm</span></a>)<br/>
&nbsp;&nbsp;`(<a id="sender:624" class="idref" href="#sender:624"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#message:604"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a id="validator:623" class="idref" href="#validator:623"><span class="id" title="binder">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="A:625" class="idref" href="#A:625"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#validator:623"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#index:605"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hauth:626" class="idref" href="#Hauth:626"><span class="id" title="binder">Hauth</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#IM:607"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#A:625"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sender:624"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender_safety:627" class="idref" href="#Hsender_safety:627"><span class="id" title="binder">Hsender_safety</span></a> := <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_sender_safety"><span class="id" title="lemma">channel_authentication_sender_safety</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#Hauth:626"><span class="id" title="variable">Hauth</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:628" class="idref" href="#Free:628"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#IM:607"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  Input valid transitions preserve (global) evidence of equivocation on
  components not touched by the transitions.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="input_valid_transition_preserves_msg_dep_is_globally_equivocating" class="idref" href="#input_valid_transition_preserves_msg_dep_is_globally_equivocating"><span class="id" title="lemma">input_valid_transition_preserves_msg_dep_is_globally_equivocating</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:629" class="idref" href="#s:629"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) (<a id="item:630" class="idref" href="#item:630"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition_item"><span class="id" title="definition">input_constrained_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:629"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:630"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="j:631" class="idref" href="#j:631"><span class="id" title="binder">j</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:630"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#j:631"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:629"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#j:631"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="v:632" class="idref" href="#v:632"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#j:631"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:629"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:632"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.sender"><span class="id" title="variable">sender</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:630"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#v:632"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">item</span> <span class="id" title="var">Ht</span> <span class="id" title="var">j</span> <span class="id" title="var">Hsj</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span> [<span class="id" title="var">m</span> []].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#transition_preserves_CompositeHasBeenObserved"><span class="id" title="lemma">transition_preserves_CompositeHasBeenObserved</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">contradict</span> <span class="id" title="var">mdgee_not_sent0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#exists_right_finite_trace_from"><span class="id" title="lemma">exists_right_finite_trace_from</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">mdgee_not_sent0</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hv</span>, <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">mdgee_not_sent0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We also define the case in which a transition doesn't forget equivocation. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="transition_preserves_global_equivocation" class="idref" href="#transition_preserves_global_equivocation"><span class="id" title="definition">transition_preserves_global_equivocation</span></a><br/>
&nbsp;&nbsp;(<a id="s:633" class="idref" href="#s:633"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) (<a id="item:634" class="idref" href="#item:634"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="v:635" class="idref" href="#v:635"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.validator"><span class="id" title="variable">validator</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:633"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#v:635"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_is_globally_equivocating"><span class="id" title="definition">msg_dep_is_globally_equivocating</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.message_dependencies"><span class="id" title="variable">message_dependencies</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.sender"><span class="id" title="variable">sender</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:634"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#v:635"><span class="id" title="variable">v</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="TraceMonotoneGlobalEquivocation" class="idref" href="#TraceMonotoneGlobalEquivocation"><span class="id" title="definition, inductive"><span id="TraceMonotoneGlobalEquivocation_ind" class="id"><span id="TraceMonotoneGlobalEquivocation_sind" class="id">TraceMonotoneGlobalEquivocation</span></span></span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="tpge_initial" class="idref" href="#tpge_initial"><span class="id" title="constructor">tpge_initial</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:638" class="idref" href="#s:638"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#TraceMonotoneGlobalEquivocation:636"><span class="id" title="inductive">TraceMonotoneGlobalEquivocation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:638"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
| <a id="tpge_step" class="idref" href="#tpge_step"><span class="id" title="constructor">tpge_step</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:639" class="idref" href="#s:639"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) (<a id="item:640" class="idref" href="#item:640"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="tr:641" class="idref" href="#tr:641"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#transition_preserves_global_equivocation"><span class="id" title="definition">transition_preserves_global_equivocation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:639"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:640"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#TraceMonotoneGlobalEquivocation:636"><span class="id" title="inductive">TraceMonotoneGlobalEquivocation</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#item:640"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#tr:641"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#TraceMonotoneGlobalEquivocation:636"><span class="id" title="inductive">TraceMonotoneGlobalEquivocation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:639"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.MessageDependencies.html#item:640"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#tr:641"><span class="id" title="variable">tr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="trace_monotone_global_equivocation" class="idref" href="#trace_monotone_global_equivocation"><span class="id" title="definition">trace_monotone_global_equivocation</span></a><br/>
&nbsp;&nbsp;(<a id="s:642" class="idref" href="#s:642"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) (<a id="tr:643" class="idref" href="#tr:643"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="pre:644" class="idref" href="#pre:644"><span class="id" title="binder">pre</span></a> <a id="suf:645" class="idref" href="#suf:645"><span class="id" title="binder">suf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>)) (<a id="item:646" class="idref" href="#item:646"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#tr:643"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#pre:644"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.MessageDependencies.html#item:646"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#suf:645"><span class="id" title="variable">suf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#transition_preserves_global_equivocation"><span class="id" title="definition">transition_preserves_global_equivocation</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:642"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#pre:644"><span class="id" title="variable">pre</span></a>) <a class="idref" href="VLSM.Core.MessageDependencies.html#item:646"><span class="id" title="variable">item</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="trace_monotone_global_equivocation_def_equiv" class="idref" href="#trace_monotone_global_equivocation_def_equiv"><span class="id" title="lemma">trace_monotone_global_equivocation_def_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:647" class="idref" href="#s:647"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>) (<a id="tr:648" class="idref" href="#tr:648"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props.IM"><span class="id" title="variable">IM</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#trace_monotone_global_equivocation"><span class="id" title="definition">trace_monotone_global_equivocation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:647"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#tr:648"><span class="id" title="variable">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#TraceMonotoneGlobalEquivocation"><span class="id" title="inductive">TraceMonotoneGlobalEquivocation</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#s:647"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.MessageDependencies.html#tr:648"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">tr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span>; <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">IHn</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_ind"><span class="id" title="lemma">well_founded_ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">lt_wf</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [| <span class="id" title="var">item</span> <span class="id" title="var">tr</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> -&gt; <span class="id" title="var">Hall</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hall</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <span class="id" title="var">tr</span>) |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span>; <span class="id" title="var">cycle</span> 1; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">pre</span> <span class="id" title="var">suf</span> <span class="id" title="var">item'</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hall</span> (<span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">pre</span>) <span class="id" title="var">suf</span> <span class="id" title="var">item'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_cons"><span class="id" title="lemma">finite_trace_last_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span> <span class="id" title="var">pre</span> <span class="id" title="var">suf</span> <span class="id" title="var">item1</span> <span class="id" title="var">Heq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">pre</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pre</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">_item</span> <span class="id" title="var">pre</span>]; <span class="id" title="var">simplify_list_eq</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_cons"><span class="id" title="lemma">finite_trace_last_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHTraceMonotoneGlobalEquivocation</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#sec_msg_dep_is_globally_equivocating_props"><span class="id" title="section">sec_msg_dep_is_globally_equivocating_props</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
