<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">StdppExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#"><span class="id" title="library">PreloadedVLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a> <a class="idref" href="VLSM.Core.Validator.html#"><span class="id" title="library">Validator</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.MessageDependencies.html#"><span class="id" title="library">MessageDependencies</span></a> <a class="idref" href="VLSM.Core.Validators.FreeCompositionValidator.html#"><span class="id" title="library">FreeCompositionValidator</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Examples</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#"><span class="id" title="library">BaseELMO</span></a> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#"><span class="id" title="library">UMO</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab301"></a><h1 class="section">ELMO: Protocol Definitions and Properties for MO</h1>


<div class="paragraph"> </div>

  This module contains definitions and properties of MO components and
  the MO protocol.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_MO" class="idref" href="#sec_MO"><span class="id" title="section">sec_MO</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="Address:1" class="idref" href="#Address:1"><span class="id" title="binder">Address</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:2" class="idref" href="#EqDecision0:2"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:2" class="idref" href="#EqDecision0:2"><span class="id" title="binder">Address</span></a>}<br/>
&nbsp;&nbsp;(<a id="State:3" class="idref" href="#State:3"><span class="id" title="binder">State</span></a> := @<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#State"><span class="id" title="record">State</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Address:1"><span class="id" title="variable">Address</span></a>)<br/>
&nbsp;&nbsp;(<a id="Observation:4" class="idref" href="#Observation:4"><span class="id" title="binder">Observation</span></a> := @<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Observation"><span class="id" title="record">Observation</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Address:1"><span class="id" title="variable">Address</span></a>)<br/>
&nbsp;&nbsp;(<a id="Message:5" class="idref" href="#Message:5"><span class="id" title="binder">Message</span></a> := @<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message"><span class="id" title="record">Message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Address:1"><span class="id" title="variable">Address</span></a>).<br/>

<br/>
</div>

<div class="doc">
  A message is valid for MO if one of the following is the case:

<div class="paragraph"> </div>

<ul class="doclist">
<li> it has no observations and its address belongs to the set of allowed
    addresses (as determined by the predicate <code>P</code>)

</li>
<li> its last observation was another valid message which was sent

</li>
<li> its last observation was another valid message which was received
    and the messages observed previously are also valid

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="MO_msg_valid" class="idref" href="#MO_msg_valid"><span class="id" title="definition, inductive"><span id="MO_msg_valid_ind" class="id"><span id="MO_msg_valid_sind" class="id">MO_msg_valid</span></span></span></a> (<a id="P:6" class="idref" href="#P:6"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="MO_mv_nil" class="idref" href="#MO_mv_nil"><span class="id" title="constructor">MO_mv_nil</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:9" class="idref" href="#m:9"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:9"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:9"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid:7"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:9"><span class="id" title="variable">m</span></a><br/>
| <a id="MO_mv_send" class="idref" href="#MO_mv_send"><span class="id" title="constructor">MO_mv_send</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:10" class="idref" href="#m:10"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid:7"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid:7"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:10"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:10"><span class="id" title="variable">m</span></a>)<br/>
| <a id="MO_mv_recv" class="idref" href="#MO_mv_recv"><span class="id" title="constructor">MO_mv_recv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:11" class="idref" href="#m:11"><span class="id" title="binder">m</span></a> <a id="mr:12" class="idref" href="#mr:12"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid:7"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:11"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid:7"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:12"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid:7"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:6"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:11"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:12"><span class="id" title="variable">mr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_P_adr" class="idref" href="#MO_msg_valid_P_adr"><span class="id" title="lemma">MO_msg_valid_P_adr</span></a> (<a id="P:13" class="idref" href="#P:13"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:14" class="idref" href="#m:14"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:13"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:14"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:13"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:14"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_dep" class="idref" href="#MO_msg_valid_dep"><span class="id" title="lemma">MO_msg_valid_dep</span></a> (<a id="P:15" class="idref" href="#P:15"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:16" class="idref" href="#m:16"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:15"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="dm:17" class="idref" href="#dm:17"><span class="id" title="binder">dm</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#dm:17"><span class="id" title="variable">dm</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:16"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:15"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#dm:17"><span class="id" title="variable">dm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">o</span> &amp; -&gt; &amp; <span class="id" title="var">Ho</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">o</span> <span class="id" title="var">Ho</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Hv</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>, <span class="id" title="var">state</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ho</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_addObservation"><span class="id" title="lemma">elem_of_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ho</span> <span class="id" title="keyword">as</span> [-&gt; |]; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHv</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_addObservation"><span class="id" title="lemma">elem_of_addObservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ho</span> <span class="id" title="keyword">as</span> [-&gt; |]; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHv1</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_MO.sec_alternative_definition_of_validity" class="idref" href="#sec_MO.sec_alternative_definition_of_validity"><span class="id" title="section">sec_alternative_definition_of_validity</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab302"></a><h2 class="section">Alternative definition of validity</h2>


<div class="paragraph"> </div>

  The above constructors of <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a></span> may not be the most readable,
  so we will provide an alternative version of this inductive
  definition (called <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span>) and prove them equivalent.

<div class="paragraph"> </div>

  If <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a></span> holds for <code>m</code>, then every possible suffix of
  observations from <code>m</code> is the same as the observations from a message <code>m'</code>
  which was the next message that was sent after the suffix. Also, the addresses
  of <code>m</code> and <code>m'</code> have to agree.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="MO_msg_valid_alt_sends" class="idref" href="#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> (<a id="m:18" class="idref" href="#m:18"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="k:19" class="idref" href="#k:19"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="suffix:20" class="idref" href="#suffix:20"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="m':21" class="idref" href="#m':21"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListExtras.html#lastn"><span class="id" title="definition">lastn</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k:19"><span class="id" title="variable">k</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:18"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':21"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#suffix:20"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':21"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#suffix:20"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':21"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:18"><span class="id" title="variable">m</span></a>).<br/>

<br/>
</div>

<div class="doc">
  If <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a></span> holds for <code>valid</code> and <code>m</code>, this means
  that for every suffix of observations from <code>m</code>, the message <code>m'</code>, which
  was the next message received after the suffix, is valid.

<div class="paragraph"> </div>

  Here, validity is determined by an arbitrary predicate. Ultimately, we want
  to replace this arbitrary predicate with <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span>, the alternative
  definition of message validity for MO.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="MO_msg_valid_alt_recvs'" class="idref" href="#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a> (<a id="valid:22" class="idref" href="#valid:22"><span class="id" title="binder">valid</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:23" class="idref" href="#m:23"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="k:24" class="idref" href="#k:24"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="suffix:25" class="idref" href="#suffix:25"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="m':26" class="idref" href="#m':26"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListExtras.html#lastn"><span class="id" title="definition">lastn</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k:24"><span class="id" title="variable">k</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:23"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':26"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#suffix:25"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#valid:22"><span class="id" title="variable">valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':26"><span class="id" title="variable">m'</span></a>.<br/>

<br/>
</div>

<div class="doc">
  A message is valid for MO (according to the alternative definition) if one
  of the following holds:

<div class="paragraph"> </div>

<ul class="doclist">
<li> its address belongs to the set of allowed addresses (as determined by <code>P</code>)

</li>
<li> it satisfies <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a></span>

</li>
<li> it satisfies <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a></span>, with <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span> applied to
    <code>P</code> used as the validity predicate

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="MO_msg_valid_alt" class="idref" href="#MO_msg_valid_alt"><span class="id" title="definition, record"><span id="MO_msg_valid_alt_rect" class="id"><span id="MO_msg_valid_alt_ind" class="id"><span id="MO_msg_valid_alt_rec" class="id"><span id="MO_msg_valid_alt_sind" class="id">MO_msg_valid_alt</span></span></span></span></span></a> (<a id="P:27" class="idref" href="#P:27"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:28" class="idref" href="#m:28"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="P_adr_state" class="idref" href="#P_adr_state"><span class="id" title="projection">P_adr_state</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:27"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:28"><span class="id" title="variable">m</span></a>));<br/>
&nbsp;&nbsp;<a id="MO_msg_valid_alt_sends'" class="idref" href="#MO_msg_valid_alt_sends'"><span class="id" title="projection">MO_msg_valid_alt_sends'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:28"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a id="MO_msg_valid_alt_recvs''" class="idref" href="#MO_msg_valid_alt_recvs''"><span class="id" title="projection">MO_msg_valid_alt_recvs''</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt:29"><span class="id" title="inductive">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:27"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:28"><span class="id" title="variable">m</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
  Now we just need to define the final version of <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a></span>,
  in which the validity predicate is set to <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="MO_msg_valid_alt_recvs" class="idref" href="#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> (<a id="P:33" class="idref" href="#P:33"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:34" class="idref" href="#m:34"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:33"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:34"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
  For some proofs to go through, we will need "bounded" versions of the
  <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a></span> parts of the alternative definition.

<div class="paragraph"> </div>

  By bounded, we mean that we will only look for suffixes at most as long
  as the whole list of observations of the given message (the suffix can't
  be any longer than that of course; this matters for purely technical
  reasons).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MO_msg_valid_alt_sends_bounded" class="idref" href="#MO_msg_valid_alt_sends_bounded"><span class="id" title="definition">MO_msg_valid_alt_sends_bounded</span></a> (<a id="m:35" class="idref" href="#m:35"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="k:36" class="idref" href="#k:36"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="suffix:37" class="idref" href="#suffix:37"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="m':38" class="idref" href="#m':38"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#k:36"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:35"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListExtras.html#lastn"><span class="id" title="definition">lastn</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k:36"><span class="id" title="variable">k</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:35"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':38"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#suffix:37"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':38"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#suffix:37"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':38"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:35"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MO_msg_valid_alt_recvs_bounded" class="idref" href="#MO_msg_valid_alt_recvs_bounded"><span class="id" title="definition">MO_msg_valid_alt_recvs_bounded</span></a> (<a id="P:39" class="idref" href="#P:39"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:40" class="idref" href="#m:40"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="k:41" class="idref" href="#k:41"><span class="id" title="binder">k</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="suffix:42" class="idref" href="#suffix:42"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) (<a id="m':43" class="idref" href="#m':43"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#k:41"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:40"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.ListExtras.html#lastn"><span class="id" title="definition">lastn</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k:41"><span class="id" title="variable">k</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:40"><span class="id" title="variable">m</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':43"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#suffix:42"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:39"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':43"><span class="id" title="variable">m'</span></a>.<br/>

<br/>
</div>

<div class="doc">
The bounded versions are equivalent to the original ones. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_sends_shorten" class="idref" href="#MO_msg_valid_alt_sends_shorten"><span class="id" title="lemma">MO_msg_valid_alt_sends_shorten</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:44" class="idref" href="#m:44"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:44"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_bounded"><span class="id" title="definition">MO_msg_valid_alt_sends_bounded</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:44"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_bounded"><span class="id" title="definition">MO_msg_valid_alt_sends_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_bounded"><span class="id" title="definition">MO_msg_valid_alt_sends_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hs</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_ge"><span class="id" title="lemma">lastn_ge</span></a> <span class="id" title="tactic">in</span> *; [| <span class="id" title="var">lia</span> | <span class="id" title="var">lia</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_recvs_shorten" class="idref" href="#MO_msg_valid_alt_recvs_shorten"><span class="id" title="lemma">MO_msg_valid_alt_recvs_shorten</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:45" class="idref" href="#P:45"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:46" class="idref" href="#m:46"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:45"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:46"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_bounded"><span class="id" title="definition">MO_msg_valid_alt_recvs_bounded</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:45"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:46"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_bounded"><span class="id" title="definition">MO_msg_valid_alt_recvs_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_bounded"><span class="id" title="definition">MO_msg_valid_alt_recvs_bounded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hr</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hr</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))) <span class="id" title="var">suffix</span>); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_ge"><span class="id" title="lemma">lastn_ge</span></a> <span class="id" title="tactic">in</span> *; [| <span class="id" title="var">lia</span> | <span class="id" title="var">lia</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Now we need a collection of lemmas that tell us what happens when we extend
  a message with a new observation of a sent message. We need to do this
  separately for both the "sends" and the "recvs" parts of the alternative
  definition.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_sends_Send" class="idref" href="#MO_msg_valid_alt_sends_Send"><span class="id" title="lemma">MO_msg_valid_alt_sends_Send</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:47" class="idref" href="#m:47"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:47"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hvalid</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_recvs_Send" class="idref" href="#MO_msg_valid_alt_recvs_Send"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Send</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:48" class="idref" href="#P:48"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:49" class="idref" href="#m:49"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:48"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:49"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:48"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:49"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:49"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hvalid</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  When we put the above lemmas together, we get a lemma for <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span>
  which corresponds to one of the constructors of <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_Send" class="idref" href="#MO_msg_valid_alt_Send"><span class="id" title="lemma">MO_msg_valid_alt_Send</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:50" class="idref" href="#P:50"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:51" class="idref" href="#m:51"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:50"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:51"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:50"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:51"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:51"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hr</span>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_Send"><span class="id" title="lemma">MO_msg_valid_alt_sends_Send</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_Send"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Send</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We will also need the converses of all these lemmas. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_sends_Send_conv" class="idref" href="#MO_msg_valid_alt_sends_Send_conv"><span class="id" title="lemma">MO_msg_valid_alt_sends_Send_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:52" class="idref" href="#m:52"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:52"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:52"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:52"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_shorten"><span class="id" title="lemma">MO_msg_valid_alt_sends_shorten</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">with</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; [<span class="id" title="var">lia</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_recvs_Send_conv" class="idref" href="#MO_msg_valid_alt_recvs_Send_conv"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Send_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:53" class="idref" href="#P:53"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:54" class="idref" href="#m:54"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:53"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:54"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:54"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:53"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:54"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_shorten"><span class="id" title="lemma">MO_msg_valid_alt_recvs_shorten</span></a> <span class="id" title="var">P</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hv</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; [<span class="id" title="var">lia</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_Send_conv" class="idref" href="#MO_msg_valid_alt_Send_conv"><span class="id" title="lemma">MO_msg_valid_alt_Send_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:55" class="idref" href="#P:55"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:56" class="idref" href="#m:56"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:55"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:56"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:56"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:55"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:56"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> [<span class="id" title="var">Hvs</span> <span class="id" title="var">Hvr</span>]; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_Send_conv"><span class="id" title="lemma">MO_msg_valid_alt_sends_Send_conv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_Send_conv"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Send_conv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  We need another collection of lemmas, but this time for the case when a new
  observation was a received message.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_sends_Receive" class="idref" href="#MO_msg_valid_alt_sends_Receive"><span class="id" title="lemma">MO_msg_valid_alt_sends_Receive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:57" class="idref" href="#m:57"><span class="id" title="binder">m</span></a> <a id="mr:58" class="idref" href="#mr:58"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:57"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:58"><span class="id" title="variable">mr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">mr</span> <span class="id" title="var">Hm</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">with</span> <span class="id" title="var">k</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_recvs_Receive" class="idref" href="#MO_msg_valid_alt_recvs_Receive"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Receive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:59" class="idref" href="#P:59"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:60" class="idref" href="#m:60"><span class="id" title="binder">m</span></a> <a id="mr:61" class="idref" href="#mr:61"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:59"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:60"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:59"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:61"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:59"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:60"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:61"><span class="id" title="variable">mr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> <span class="id" title="var">mr</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hmr</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_Receive" class="idref" href="#MO_msg_valid_alt_Receive"><span class="id" title="lemma">MO_msg_valid_alt_Receive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:62" class="idref" href="#P:62"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:63" class="idref" href="#m:63"><span class="id" title="binder">m</span></a> <a id="mr:64" class="idref" href="#mr:64"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:62"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:63"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:62"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:64"><span class="id" title="variable">mr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:62"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:63"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:64"><span class="id" title="variable">mr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> <span class="id" title="var">mr</span> [<span class="id" title="var">Hs</span> <span class="id" title="var">Hr</span>] <span class="id" title="var">Hmr</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_Receive"><span class="id" title="lemma">MO_msg_valid_alt_sends_Receive</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_Receive"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Receive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We need the converses of these lemmas too. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_sends_Receive_conv" class="idref" href="#MO_msg_valid_alt_sends_Receive_conv"><span class="id" title="lemma">MO_msg_valid_alt_sends_Receive_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a> <a id="mr:66" class="idref" href="#mr:66"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:66"><span class="id" title="variable">mr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:65"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">mr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_shorten"><span class="id" title="lemma">MO_msg_valid_alt_sends_shorten</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">with</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a>; <span class="id" title="var">case_decide</span>; [<span class="id" title="var">lia</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_recvs_Receive_conv" class="idref" href="#MO_msg_valid_alt_recvs_Receive_conv"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Receive_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:67" class="idref" href="#P:67"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a> <a id="mr:69" class="idref" href="#mr:69"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:67"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:69"><span class="id" title="variable">mr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:67"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:67"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:69"><span class="id" title="variable">mr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> <span class="id" title="var">mr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_shorten"><span class="id" title="lemma">MO_msg_valid_alt_recvs_shorten</span></a> <span class="id" title="var">P</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs"><span class="id" title="definition">MO_msg_valid_alt_recvs</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs'"><span class="id" title="definition">MO_msg_valid_alt_recvs'</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlen</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hv</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hv</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_ge"><span class="id" title="lemma">lastn_ge</span></a>; <span class="id" title="var">cbn</span>; [| <span class="id" title="var">lia</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_Receive_conv" class="idref" href="#MO_msg_valid_alt_Receive_conv"><span class="id" title="lemma">MO_msg_valid_alt_Receive_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:70" class="idref" href="#P:70"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:71" class="idref" href="#m:71"><span class="id" title="binder">m</span></a> <a id="mr:72" class="idref" href="#mr:72"><span class="id" title="binder">mr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:70"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:71"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:72"><span class="id" title="variable">mr</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:70"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:71"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:70"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#mr:72"><span class="id" title="variable">mr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m</span> <span class="id" title="var">mr</span> [<span class="id" title="var">HP</span> <span class="id" title="var">Hms</span> <span class="id" title="var">Hmr</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends_Receive_conv"><span class="id" title="lemma">MO_msg_valid_alt_sends_Receive_conv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hms</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_recvs_Receive_conv"><span class="id" title="lemma">MO_msg_valid_alt_recvs_Receive_conv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmr</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Last but not least, we need an inversion lemma which tells us that,
  if from the state of a message <code>m1</code> we sent the message <code>m2</code>, then
  <code>m1</code> must be equal to <code>m2</code>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_alt_Send_inv" class="idref" href="#MO_msg_valid_alt_Send_inv"><span class="id" title="lemma">MO_msg_valid_alt_Send_inv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:73" class="idref" href="#P:73"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m1:74" class="idref" href="#m1:74"><span class="id" title="binder">m1</span></a> <a id="m2:75" class="idref" href="#m2:75"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:73"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:74"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:75"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:74"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:75"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hvs</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hvs</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m1</span>))) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m1</span>)) <span class="id" title="var">m2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_cons"><span class="id" title="lemma">lastn_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvs</span>; <span class="id" title="var">case_decide</span>; [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m1</span> <span class="id" title="keyword">as</span> [[]], <span class="id" title="var">m2</span> <span class="id" title="keyword">as</span> [[]]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  We now have, by previous lemmas, that <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span>
  are equivalent. The proof of the equivalence lemma is structured as follows:

<div class="paragraph"> </div>

<ul class="doclist">
<li> the <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a></span> to <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span> direction is by induction on
    <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a></span> for <code>P</code> and <code>m</code>

</li>
<li> the <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a></span> to <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a></span> direction is by well-founded
    induction on the size of the message <code>m</code>

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid__MO_msg_valid_alt" class="idref" href="#MO_msg_valid__MO_msg_valid_alt"><span class="id" title="lemma">MO_msg_valid__MO_msg_valid_alt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:76" class="idref" href="#P:76"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="m:77" class="idref" href="#m:77"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:76"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:77"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:76"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:77"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">revert</span> <span class="id" title="var">m</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">Hobs</span> | <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">IH</span> | <span class="id" title="var">m</span> <span class="id" title="var">mr</span> <span class="id" title="var">Hm</span> <span class="id" title="var">IHm</span> <span class="id" title="var">Hmr</span> <span class="id" title="var">IHmr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> | |]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> <span class="id" title="var">suffix</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hlast</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span>, <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_nil"><span class="id" title="lemma">lastn_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_Send"><span class="id" title="lemma">MO_msg_valid_alt_Send</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_Receive"><span class="id" title="lemma">MO_msg_valid_alt_Receive</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hwf</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Wf_nat.html#well_founded_lt_compat"><span class="id" title="lemma">well_founded_lt_compat</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="m:81" class="idref" href="#m:81"><span class="id" title="binder"><span id="m:85" class="id">m</span></span></a> =&gt; @<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:81"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="m1:79" class="idref" href="#m1:79"><span class="id" title="binder"><span id="m1:83" class="id">m1</span></span></a> <a id="m2:80" class="idref" href="#m2:80"><span class="id" title="binder"><span id="m2:84" class="id">m2</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:79"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:80"><span class="id" title="variable">m2</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a id="H:78" class="idref" href="#H:78"><span class="id" title="binder"><span id="H:82" class="id">H</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#H:78"><span class="id" title="variable">H</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="m1:86" class="idref" href="#m1:86"><span class="id" title="binder"><span id="m1:89" class="id">m1</span></span></a> <a id="m2:87" class="idref" href="#m2:87"><span class="id" title="binder"><span id="m2:90" class="id">m2</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:86"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:87"><span class="id" title="variable">m2</span></a>) <span class="id" title="var">Hwf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="m:88" class="idref" href="#m:88"><span class="id" title="binder"><span id="m:91" class="id">m</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt"><span class="id" title="record">MO_msg_valid_alt</span></a> <span class="id" title="var">P</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:88"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <span class="id" title="var">P</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:88"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[[| [[] <span class="id" title="var">m'</span>] <span class="id" title="var">obs'</span>] <span class="id" title="var">adr'</span>]] <span class="id" title="var">IH</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">obs'</span> <span class="id" title="var">adr'</span>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">m'</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_Receive_conv"><span class="id" title="lemma">MO_msg_valid_alt_Receive_conv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 3; (<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; [<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span> |]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">obs'</span> <span class="id" title="var">adr'</span>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m'</span>) <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <span class="id" title="var">obs'</span> <span class="id" title="var">adr'</span>)) <span class="id" title="keyword">with</span> <span class="id" title="var">m'</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_Send_inv"><span class="id" title="lemma">MO_msg_valid_alt_Send_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_Send_conv"><span class="id" title="lemma">MO_msg_valid_alt_Send_conv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 2; <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; [<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeMessage"><span class="id" title="definition">sizeMessage</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_alternative_definition_of_validity"><span class="id" title="section">sec_alternative_definition_of_validity</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MO_component_valid" class="idref" href="#MO_component_valid"><span class="id" title="definition, inductive"><span id="MO_component_valid_ind" class="id"><span id="MO_component_valid_sind" class="id">MO_component_valid</span></span></span></a> (<a id="P:92" class="idref" href="#P:92"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="MOCV_Receive" class="idref" href="#MOCV_Receive"><span class="id" title="constructor">MOCV_Receive</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:95" class="idref" href="#s:95"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="m:96" class="idref" href="#m:96"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:92"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:96"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid:93"><span class="id" title="inductive">MO_component_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:92"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:95"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:96"><span class="id" title="variable">m</span></a>)<br/>
| <a id="MOCV_Send" class="idref" href="#MOCV_Send"><span class="id" title="constructor">MOCV_Send</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:97" class="idref" href="#s:97"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid:93"><span class="id" title="inductive">MO_component_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:92"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:97"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">invert_MO_component_valid</span> :=<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
| <span class="id" title="var">H</span> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid"><span class="id" title="inductive">MO_component_valid</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>  |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
| <span class="id" title="var">H</span> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid"><span class="id" title="inductive">MO_component_valid</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MO_component_machine" class="idref" href="#MO_component_machine"><span class="id" title="definition">MO_component_machine</span></a> (<a id="P:98" class="idref" href="#P:98"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="i:99" class="idref" href="#i:99"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="record">VLSMMachine</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#ELMO_component_type"><span class="id" title="definition">ELMO_component_type</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> := <a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_component_initial_state_prop"><span class="id" title="definition">UMO_component_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:99"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="notation">False</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="projection">s0</span></a> := <a class="idref" href="VLSM.Examples.ELMO.UMO.html#Inhabited_UMO_component_initial_state_type"><span class="id" title="instance">Inhabited_UMO_component_initial_state_type</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:99"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> := <span class="id" title="keyword">fun</span> <a id="l:100" class="idref" href="#l:100"><span class="id" title="binder">l</span></a> '<a id="pat:103" class="idref" href="#pat:103"><span class="id" title="binder">(</span></a><a id="st:102" class="idref" href="#st:102"><span class="id" title="binder"><span id="pat:103" class="id">st</span></span></a><a id="pat:103" class="idref" href="#pat:103"><span class="id" title="binder">,</span></a> <a id="om:101" class="idref" href="#om:101"><span class="id" title="binder"><span id="pat:103" class="id">om</span></span></a><a id="pat:103" class="idref" href="#pat:103"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_component_transition"><span class="id" title="definition">UMO_component_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l:100"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#st:102"><span class="id" title="variable">st</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#om:101"><span class="id" title="variable">om</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a> := <span class="id" title="keyword">fun</span> <a id="l:104" class="idref" href="#l:104"><span class="id" title="binder">l</span></a> '<a id="pat:107" class="idref" href="#pat:107"><span class="id" title="binder">(</span></a><a id="st:106" class="idref" href="#st:106"><span class="id" title="binder"><span id="pat:107" class="id">st</span></span></a><a id="pat:107" class="idref" href="#pat:107"><span class="id" title="binder">,</span></a> <a id="om:105" class="idref" href="#om:105"><span class="id" title="binder"><span id="pat:107" class="id">om</span></span></a><a id="pat:107" class="idref" href="#pat:107"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid"><span class="id" title="inductive">MO_component_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:98"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l:104"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#st:106"><span class="id" title="variable">st</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#om:105"><span class="id" title="variable">om</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MO_component" class="idref" href="#MO_component"><span class="id" title="definition">MO_component</span></a> (<a id="P:108" class="idref" href="#P:108"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="i:109" class="idref" href="#i:109"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vlsm_type"><span class="id" title="projection">vlsm_type</span></a> := <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#ELMO_component_type"><span class="id" title="definition">ELMO_component_type</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vlsm_machine"><span class="id" title="projection">vlsm_machine</span></a> := <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_machine"><span class="id" title="definition">MO_component_machine</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:108"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:109"><span class="id" title="variable">i</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_MO.sec_MO_component_lemmas" class="idref" href="#sec_MO.sec_MO_component_lemmas"><span class="id" title="section">sec_MO_component_lemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab303"></a><h2 class="section">Component lemmas</h2>


<div class="paragraph"> </div>

  We will use the notation <span class="inlinecode"><span class="id" title="var">Mi</span></span> for a <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component"><span class="id" title="definition">MO_component</span></a></span> of address <span class="inlinecode"><span class="id" title="var">i</span></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="i:110" class="idref" href="#i:110"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a>}<br/>
&nbsp;&nbsp;{<a id="P:111" class="idref" href="#P:111"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;(<a id="Mi:112" class="idref" href="#Mi:112"><span class="id" title="binder">Mi</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component"><span class="id" title="definition">MO_component</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:111"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:110"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="VLSM_incl_UMO_MOComponent" class="idref" href="#VLSM_incl_UMO_MOComponent"><span class="id" title="lemma">VLSM_incl_UMO_MOComponent</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> (<a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_component"><span class="id" title="definition">UMO_component</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="HasBeenSentCapability_MOComponent" class="idref" href="#HasBeenSentCapability_MOComponent"><span class="id" title="instance">HasBeenSentCapability_MOComponent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <a id="s:113" class="idref" href="#s:113"><span class="id" title="binder"><span id="s:115" class="id">s</span></span></a> <a id="m:114" class="idref" href="#m:114"><span class="id" title="binder"><span id="m:116" class="id">m</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:114"><span class="id" title="variable">m</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sentMessages"><span class="id" title="definition">sentMessages</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:113"><span class="id" title="variable">s</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] []; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> [(<span class="id" title="var">Hvsp</span> &amp; <span class="id" title="var">Hovmp</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>] <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">im</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">invert_MO_component_valid</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Message</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="HasBeenReceivedCapability_MOComponent" class="idref" href="#HasBeenReceivedCapability_MOComponent"><span class="id" title="instance">HasBeenReceivedCapability_MOComponent</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 1 <span class="id" title="keyword">with</span> (<span class="id" title="keyword">fun</span> <a id="s:117" class="idref" href="#s:117"><span class="id" title="binder"><span id="s:119" class="id">s</span></span></a> <a id="m:118" class="idref" href="#m:118"><span class="id" title="binder"><span id="m:120" class="id">m</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:118"><span class="id" title="variable">m</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#receivedMessages"><span class="id" title="definition">receivedMessages</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:117"><span class="id" title="variable">s</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] []; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">im</span> <span class="id" title="var">s'</span> <span class="id" title="var">om</span> [(<span class="id" title="var">Hvsp</span> &amp; <span class="id" title="var">Hovmp</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>] <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>, <span class="id" title="var">im</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">invert_MO_component_valid</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Message</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">firstorder</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="HasBeenDirectlyObservedCapability_MOComponent" class="idref" href="#HasBeenDirectlyObservedCapability_MOComponent"><span class="id" title="instance">HasBeenDirectlyObservedCapability_MOComponent</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability"><span class="id" title="class">HasBeenDirectlyObservedCapability</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenDirectlyObservedCapability_from_sent_received"><span class="id" title="instance">HasBeenDirectlyObservedCapability_from_sent_received</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>.<br/>

<br/>
</div>

<div class="doc">
The initial state of <span class="inlinecode"><span class="id" title="var">Mi</span></span> is unique. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="vs0_uniqueness" class="idref" href="#vs0_uniqueness"><span class="id" title="lemma">vs0_uniqueness</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:121" class="idref" href="#is:121"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_component_initial_state_prop"><span class="id" title="definition">UMO_component_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#is:121"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#is:121"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="notation">`</span>`(<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab304"></a><h3 class="section">Properties of transitions and traces</h3>

<div class="paragraph"> </div>

 In a valid state <code>s</code>, we can send a message containing this state. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="input_constrained_transition_Send" class="idref" href="#input_constrained_transition_Send"><span class="id" title="lemma">input_constrained_transition_Send</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:122" class="idref" href="#s:122"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:122"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s:122"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s:122"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:122"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:122"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hvsp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
In a valid state <code>s</code>, we can receive any valid message. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="input_constrained_transition_Receive" class="idref" href="#input_constrained_transition_Receive"><span class="id" title="lemma">input_constrained_transition_Receive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:123" class="idref" href="#s:123"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="m:124" class="idref" href="#m:124"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:123"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:124"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s:123"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:124"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s:123"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:124"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hvsp</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>); <span class="id" title="tactic">constructor</span>; <span class="id" title="var">cbn</span>; [| <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a message <code>m</code> is valid, its <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a></span> is reachable. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="constrained_state_prop_MO_msg_valid" class="idref" href="#constrained_state_prop_MO_msg_valid"><span class="id" title="lemma">constrained_state_prop_MO_msg_valid</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:125" class="idref" href="#m:125"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:125"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:125"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:125"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> <span class="id" title="var">Hobs</span> | <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">IH</span> | <span class="id" title="var">m</span> <span class="id" title="var">mr</span> <span class="id" title="var">Hm</span> <span class="id" title="var">IHm</span> <span class="id" title="var">Hmr</span> <span class="id" title="var">IHmr</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hadr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_Send"><span class="id" title="lemma">input_constrained_transition_Send</span></a>, <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>) <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mr</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_Receive"><span class="id" title="lemma">input_constrained_transition_Receive</span></a>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Valid transitions and valid traces lead to bigger states. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_component_valid_transition_size" class="idref" href="#MO_component_valid_transition_size"><span class="id" title="lemma">MO_component_valid_transition_size</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:126" class="idref" href="#s1:126"><span class="id" title="binder">s1</span></a> <a id="s2:127" class="idref" href="#s2:127"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="iom:128" class="idref" href="#iom:128"><span class="id" title="binder">iom</span></a> <a id="oom:129" class="idref" href="#oom:129"><span class="id" title="binder">oom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl:130" class="idref" href="#lbl:130"><span class="id" title="binder">lbl</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid"><span class="id" title="inductive">MO_component_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl:130"><span class="id" title="variable">lbl</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:126"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom:128"><span class="id" title="variable">iom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_component_transition"><span class="id" title="definition">UMO_component_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl:130"><span class="id" title="variable">lbl</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:126"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom:128"><span class="id" title="variable">iom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:127"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom:129"><span class="id" title="variable">oom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:126"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:127"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [] <span class="id" title="var">s2</span> [<span class="id" title="var">im</span> |] <span class="id" title="var">oom</span> []; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="input_constrained_transition_size" class="idref" href="#input_constrained_transition_size"><span class="id" title="lemma">input_constrained_transition_size</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:131" class="idref" href="#s1:131"><span class="id" title="binder">s1</span></a> <a id="s2:132" class="idref" href="#s2:132"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="iom:133" class="idref" href="#iom:133"><span class="id" title="binder">iom</span></a> <a id="oom:134" class="idref" href="#oom:134"><span class="id" title="binder">oom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl:135" class="idref" href="#lbl:135"><span class="id" title="binder">lbl</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl:135"><span class="id" title="variable">lbl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:131"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom:133"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:132"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom:134"><span class="id" title="variable">oom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:131"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:132"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">lbl</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; ?) <span class="id" title="var">Ht</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component_valid_transition_size"><span class="id" title="lemma">MO_component_valid_transition_size</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_from_to_size" class="idref" href="#finite_constrained_trace_from_to_size"><span class="id" title="lemma">finite_constrained_trace_from_to_size</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:136" class="idref" href="#s1:136"><span class="id" title="binder">s1</span></a> <a id="s2:137" class="idref" href="#s2:137"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="tr:138" class="idref" href="#tr:138"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:136"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:137"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:138"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:136"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:137"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:138"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:136"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:137"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_size"><span class="id" title="lemma">input_constrained_transition_size</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHfinite_valid_trace_from_to</span>; [<span class="id" title="var">itauto</span> <span class="id" title="tactic">congruence</span> | <span class="id" title="var">itauto</span> <span class="id" title="var">lia</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The final state of a valid transition determines the label, initial state,
  input message and output message.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="input_constrained_transition_deterministic_conv" class="idref" href="#input_constrained_transition_deterministic_conv"><span class="id" title="lemma">input_constrained_transition_deterministic_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:139" class="idref" href="#s1:139"><span class="id" title="binder">s1</span></a> <a id="s2:140" class="idref" href="#s2:140"><span class="id" title="binder">s2</span></a> <a id="f:141" class="idref" href="#f:141"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="iom1:142" class="idref" href="#iom1:142"><span class="id" title="binder">iom1</span></a> <a id="iom2:143" class="idref" href="#iom2:143"><span class="id" title="binder">iom2</span></a> <a id="oom1:144" class="idref" href="#oom1:144"><span class="id" title="binder">oom1</span></a> <a id="oom2:145" class="idref" href="#oom2:145"><span class="id" title="binder">oom2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl1:146" class="idref" href="#lbl1:146"><span class="id" title="binder">lbl1</span></a> <a id="lbl2:147" class="idref" href="#lbl2:147"><span class="id" title="binder">lbl2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl1:146"><span class="id" title="variable">lbl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:139"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom1:142"><span class="id" title="variable">iom1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#f:141"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom1:144"><span class="id" title="variable">oom1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl2:147"><span class="id" title="variable">lbl2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:140"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom2:143"><span class="id" title="variable">iom2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#f:141"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom2:145"><span class="id" title="variable">oom2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl1:146"><span class="id" title="variable">lbl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl2:147"><span class="id" title="variable">lbl2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:139"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:140"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom1:142"><span class="id" title="variable">iom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom2:143"><span class="id" title="variable">iom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom1:144"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom2:145"><span class="id" title="variable">oom2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">f</span> <span class="id" title="var">iom1</span> <span class="id" title="var">iom2</span> <span class="id" title="var">oom1</span> <span class="id" title="var">oom2</span> <span class="id" title="var">lbl1</span> <span class="id" title="var">lbl2</span> <span class="id" title="var">Hivt1</span> <span class="id" title="var">Hivt2</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hivt1</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid1</span>) <span class="id" title="var">Ht1</span>]; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hivt2</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid2</span>) <span class="id" title="var">Ht2</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lbl1</span>, <span class="id" title="var">lbl2</span>, <span class="id" title="var">iom1</span>, <span class="id" title="var">iom2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht1</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht2</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid2</span>; <span class="id" title="var">invert_MO_component_valid</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>, <span class="id" title="var">s2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Trace segments between any two states are unique. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_from_to_unique" class="idref" href="#finite_constrained_trace_from_to_unique"><span class="id" title="lemma">finite_constrained_trace_from_to_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:148" class="idref" href="#s1:148"><span class="id" title="binder">s1</span></a> <a id="s2:149" class="idref" href="#s2:149"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="tr1:150" class="idref" href="#tr1:150"><span class="id" title="binder">tr1</span></a> <a id="tr2:151" class="idref" href="#tr2:151"><span class="id" title="binder">tr2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:148"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:149"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr1:150"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:148"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:149"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr2:151"><span class="id" title="variable">tr2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#tr1:150"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr2:151"><span class="id" title="variable">tr2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">tr1</span> <span class="id" title="var">tr2</span> <span class="id" title="var">Hfvt1</span> <span class="id" title="var">Hfvt2</span>; <span class="id" title="var">revert</span> <span class="id" title="var">tr2</span> <span class="id" title="var">Hfvt2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hfvt1</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_from_to_size"><span class="id" title="lemma">finite_constrained_trace_from_to_size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfvt2</span>; <span class="id" title="var">itauto</span> (<span class="id" title="tactic">congruence</span> + <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfvt2</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>; [| <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHfvt2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_from_to_size"><span class="id" title="lemma">finite_constrained_trace_from_to_size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfvt1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_size"><span class="id" title="lemma">input_constrained_transition_size</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">decompose</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#and"><span class="id" title="inductive">and</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#or"><span class="id" title="inductive">or</span></a>] <span class="id" title="var">Hfvt1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hfvt1</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">l0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">iom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">iom0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">oom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">oom0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_deterministic_conv"><span class="id" title="lemma">input_constrained_transition_deterministic_conv</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decompose</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#and"><span class="id" title="inductive">and</span></a>] <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHfvt1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Traces between any two states are unique. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_unique" class="idref" href="#finite_constrained_trace_init_to_unique"><span class="id" title="lemma">finite_constrained_trace_init_to_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:152" class="idref" href="#s1:152"><span class="id" title="binder">s1</span></a> <a id="s2:153" class="idref" href="#s2:153"><span class="id" title="binder">s2</span></a> <a id="s:154" class="idref" href="#s:154"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="tr1:155" class="idref" href="#tr1:155"><span class="id" title="binder">tr1</span></a> <a id="tr2:156" class="idref" href="#tr2:156"><span class="id" title="binder">tr2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:152"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr1:155"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:153"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:154"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr2:156"><span class="id" title="variable">tr2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#tr1:155"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr2:156"><span class="id" title="variable">tr2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] [] <span class="id" title="var">s</span> <span class="id" title="var">tr1</span> <span class="id" title="var">tr2</span> [<span class="id" title="var">Ht1</span> []] [<span class="id" title="var">Ht2</span> []]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_from_to_unique"><span class="id" title="lemma">finite_constrained_trace_from_to_unique</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
All above properties also hold for <span class="inlinecode"><span class="id" title="var">Mi</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="input_valid_transition_Send" class="idref" href="#input_valid_transition_Send"><span class="id" title="lemma">input_valid_transition_Send</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:157" class="idref" href="#s:157"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:157"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s:157"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s:157"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:157"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:157"><span class="id" title="variable">s</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hvsp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>); <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="input_valid_transition_size" class="idref" href="#input_valid_transition_size"><span class="id" title="lemma">input_valid_transition_size</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:158" class="idref" href="#s1:158"><span class="id" title="binder">s1</span></a> <a id="s2:159" class="idref" href="#s2:159"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="iom:160" class="idref" href="#iom:160"><span class="id" title="binder">iom</span></a> <a id="oom:161" class="idref" href="#oom:161"><span class="id" title="binder">oom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl:162" class="idref" href="#lbl:162"><span class="id" title="binder">lbl</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl:162"><span class="id" title="variable">lbl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:158"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom:160"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:159"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom:161"><span class="id" title="variable">oom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:158"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:159"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">lbl</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_size"><span class="id" title="lemma">input_constrained_transition_size</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_from_to_size" class="idref" href="#finite_valid_trace_from_to_size"><span class="id" title="lemma">finite_valid_trace_from_to_size</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:163" class="idref" href="#s1:163"><span class="id" title="binder">s1</span></a> <a id="s2:164" class="idref" href="#s2:164"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="tr:165" class="idref" href="#tr:165"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:163"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:164"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:165"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:163"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:164"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:165"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:163"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:164"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hfvt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_from_to_size"><span class="id" title="lemma">finite_constrained_trace_from_to_size</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="input_valid_transition_deterministic_conv" class="idref" href="#input_valid_transition_deterministic_conv"><span class="id" title="lemma">input_valid_transition_deterministic_conv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:166" class="idref" href="#s1:166"><span class="id" title="binder">s1</span></a> <a id="s2:167" class="idref" href="#s2:167"><span class="id" title="binder">s2</span></a> <a id="f:168" class="idref" href="#f:168"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="iom1:169" class="idref" href="#iom1:169"><span class="id" title="binder">iom1</span></a> <a id="iom2:170" class="idref" href="#iom2:170"><span class="id" title="binder">iom2</span></a> <a id="oom1:171" class="idref" href="#oom1:171"><span class="id" title="binder">oom1</span></a> <a id="oom2:172" class="idref" href="#oom2:172"><span class="id" title="binder">oom2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl1:173" class="idref" href="#lbl1:173"><span class="id" title="binder">lbl1</span></a> <a id="lbl2:174" class="idref" href="#lbl2:174"><span class="id" title="binder">lbl2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl1:173"><span class="id" title="variable">lbl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:166"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom1:169"><span class="id" title="variable">iom1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#f:168"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom1:171"><span class="id" title="variable">oom1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl2:174"><span class="id" title="variable">lbl2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:167"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom2:170"><span class="id" title="variable">iom2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#f:168"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom2:172"><span class="id" title="variable">oom2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl1:173"><span class="id" title="variable">lbl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl2:174"><span class="id" title="variable">lbl2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:166"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:167"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom1:169"><span class="id" title="variable">iom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#iom2:170"><span class="id" title="variable">iom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom1:171"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#oom2:172"><span class="id" title="variable">oom2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">f</span> <span class="id" title="var">iom1</span> <span class="id" title="var">iom2</span> <span class="id" title="var">oom1</span> <span class="id" title="var">oom2</span> <span class="id" title="var">lbl1</span> <span class="id" title="var">lbl2</span> <span class="id" title="var">Hivt1</span> <span class="id" title="var">Hivt2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#input_constrained_transition_deterministic_conv"><span class="id" title="lemma">input_constrained_transition_deterministic_conv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>); [| <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_from_to_unique" class="idref" href="#finite_valid_trace_from_to_unique"><span class="id" title="lemma">finite_valid_trace_from_to_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:175" class="idref" href="#s1:175"><span class="id" title="binder">s1</span></a> <a id="s2:176" class="idref" href="#s2:176"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="l1:177" class="idref" href="#l1:177"><span class="id" title="binder">l1</span></a> <a id="l2:178" class="idref" href="#l2:178"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:175"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:176"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l1:177"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:175"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:176"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l2:178"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#l1:177"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l2:178"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">Hfvt1</span> <span class="id" title="var">Hfvt2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_from_to_unique"><span class="id" title="lemma">finite_constrained_trace_from_to_unique</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a>; [| <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_init_to_unique" class="idref" href="#finite_valid_trace_init_to_unique"><span class="id" title="lemma">finite_valid_trace_init_to_unique</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:179" class="idref" href="#s:179"><span class="id" title="binder">s</span></a> <a id="f:180" class="idref" href="#f:180"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="l1:181" class="idref" href="#l1:181"><span class="id" title="binder">l1</span></a> <a id="l2:182" class="idref" href="#l2:182"><span class="id" title="binder">l2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:179"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l1:181"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:179"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#f:180"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l2:182"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#l1:181"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l2:182"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">f</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">Hfvit1</span> <span class="id" title="var">Hfvit2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_init_to_unique"><span class="id" title="lemma">finite_constrained_trace_init_to_unique</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>; [| <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab305"></a><h3 class="section">Extracting a trace from a state</h3>

<div class="paragraph"> </div>

 If a valid trace leads to state s, the trace extracted from s also leads to s. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_state2trace" class="idref" href="#finite_constrained_trace_init_to_state2trace"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="is:183" class="idref" href="#is:183"><span class="id" title="binder">is</span></a> <a id="s:184" class="idref" href="#s:184"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="tr:185" class="idref" href="#tr:185"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#is:183"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:185"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#is:183"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:184"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state2trace"><span class="id" title="definition">state2trace</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:184"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Hfv</span> <span class="id" title="var">Hinit</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">revert</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hfv</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_to_rev_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinit</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">si</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHfv</span> <span class="id" title="var">Hinit</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Ht</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">obs</span> <span class="id" title="var">adr</span>], <span class="id" title="var">l</span>, <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span> |]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cycle</span> 1; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHfv</span> |]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHfv</span> |]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The trace extracted from the final state of another trace is equal to that trace. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_state2trace_inv" class="idref" href="#finite_constrained_trace_init_to_state2trace_inv"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace_inv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="is:186" class="idref" href="#is:186"><span class="id" title="binder">is</span></a> <a id="s:187" class="idref" href="#s:187"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="tr:188" class="idref" href="#tr:188"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#is:186"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:187"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:188"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state2trace"><span class="id" title="definition">state2trace</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:187"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:188"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hfvti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfvti'</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state2trace"><span class="id" title="definition">state2trace</span></a> <span class="id" title="var">s</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_init_to_state2trace"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_init_to_unique"><span class="id" title="lemma">finite_constrained_trace_init_to_unique</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The trace extracted from a constrained state <code>s</code> leads to <code>s</code>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_state2trace'" class="idref" href="#finite_constrained_trace_init_to_state2trace'"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:189" class="idref" href="#s:189"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:189"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> (<span class="id" title="notation">`</span>`(<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>)) <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:189"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state2trace"><span class="id" title="definition">state2trace</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:189"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_init_to_state2trace_inv"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heqtr</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="notation">`</span>`(<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>)) <span class="id" title="keyword">with</span> <span class="id" title="keyword">is</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#vs0_uniqueness"><span class="id" title="lemma">vs0_uniqueness</span></a>, <span class="id" title="var">Htr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="constrained_state_contains_unique_constrained_trace" class="idref" href="#constrained_state_contains_unique_constrained_trace"><span class="id" title="lemma">constrained_state_contains_unique_constrained_trace</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:190" class="idref" href="#s:190"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:190"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:191" class="idref" href="#tr:191"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> (<span class="id" title="notation">`</span>`(<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>)) <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:190"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:191"><span class="id" title="variable">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="tr':192" class="idref" href="#tr':192"><span class="id" title="binder">tr'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a> (<span class="id" title="notation">`</span>`(<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.Mi"><span class="id" title="variable">Mi</span></a>)) <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:190"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr':192"><span class="id" title="variable">tr'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr':192"><span class="id" title="variable">tr'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#tr:191"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hvsp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state2trace"><span class="id" title="definition">state2trace</span></a> <span class="id" title="var">s</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_init_to_state2trace'"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">tr'</span> <span class="id" title="var">Hfvt</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#finite_constrained_trace_init_to_state2trace_inv"><span class="id" title="lemma">finite_constrained_trace_init_to_state2trace_inv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab306"></a><h3 class="section">State and message suffix relations</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_suffix_totally_orders_valid_sent_messages" class="idref" href="#state_suffix_totally_orders_valid_sent_messages"><span class="id" title="lemma">state_suffix_totally_orders_valid_sent_messages</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:193" class="idref" href="#m:193"><span class="id" title="binder">m</span></a> <a id="m1:194" class="idref" href="#m1:194"><span class="id" title="binder">m1</span></a> <a id="m2:195" class="idref" href="#m2:195"><span class="id" title="binder">m2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="obs1:196" class="idref" href="#obs1:196"><span class="id" title="binder">obs1</span></a> <a id="obs2:197" class="idref" href="#obs2:197"><span class="id" title="binder">obs2</span></a> <a id="obs3:198" class="idref" href="#obs3:198"><span class="id" title="binder">obs3</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#obs1:196"><span class="id" title="variable">obs1</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:194"><span class="id" title="variable">m1</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#obs2:197"><span class="id" title="variable">obs2</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:195"><span class="id" title="variable">m2</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#obs3:198"><span class="id" title="variable">obs3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:193"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:194"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:195"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:195"><span class="id" title="variable">m2</span></a>) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:193"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">obs1</span> <span class="id" title="var">obs2</span> <span class="id" title="var">obs3</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <span class="id" title="var">obs1</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m1</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <span class="id" title="var">obs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <span class="id" title="tactic">at</span> 2 <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hvalid</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <span class="id" title="var">obs1</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#5495c4324dd5da5db1c22be5fb7fb71e"><span class="id" title="notation">&lt;*&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m1</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <span class="id" title="var">obs2</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_app_le"><span class="id" title="lemma">lastn_app_le</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_ge"><span class="id" title="lemma">lastn_ge</span></a>; [| <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <span class="id" title="var">obs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <span class="id" title="tactic">at</span> 2 <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hvalid</span> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkState"><span class="id" title="constructor">MkState</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas.i"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#b46e5c52854f5c37b28ead77e1647baa"><span class="id" title="notation">&lt;**&gt;</span></a> <span class="id" title="var">obs1</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Lib.ListExtras.html#app_cons"><span class="id" title="lemma">app_cons</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m2</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;- (<a class="idref" href="VLSM.Lib.ListExtras.html#app_cons"><span class="id" title="lemma">app_cons</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m1</span>)), 2!<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_app_le"><span class="id" title="lemma">lastn_app_le</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#lastn_ge"><span class="id" title="lemma">lastn_ge</span></a>; [| <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H11</span> <span class="id" title="var">H12</span>], <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H21</span> <span class="id" title="var">H22</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span>, <span class="id" title="var">H21</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">suffix_app_r</span>, <span class="id" title="lemma">suffix_cons_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H21</span>, <span class="id" title="var">Heq</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">suffix_app_r</span>, <span class="id" title="lemma">suffix_cons_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> []. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation'"><span class="id" title="definition">addObservation'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Lib.ListExtras.html#app_cons"><span class="id" title="lemma">app_cons</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m1</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;- (<a class="idref" href="VLSM.Lib.ListExtras.html#app_cons"><span class="id" title="lemma">app_cons</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m2</span>)), !<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MO_msg_suffix" class="idref" href="#MO_msg_suffix"><span class="id" title="definition">MO_msg_suffix</span></a> (<a id="m:199" class="idref" href="#m:199"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="k1:200" class="idref" href="#k1:200"><span class="id" title="binder">k1</span></a> <a id="k2:201" class="idref" href="#k2:201"><span class="id" title="binder">k2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k1:200"><span class="id" title="variable">k1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k2:201"><span class="id" title="variable">k2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="ob1:202" class="idref" href="#ob1:202"><span class="id" title="binder">ob1</span></a> <a id="ob2:203" class="idref" href="#ob2:203"><span class="id" title="binder">ob2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:199"><span class="id" title="variable">m</span></a>) <span class="id" title="notation">!!</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k1:200"><span class="id" title="variable">k1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob1:202"><span class="id" title="variable">ob1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob1:202"><span class="id" title="variable">ob1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:199"><span class="id" title="variable">m</span></a>) <span class="id" title="notation">!!</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#k2:201"><span class="id" title="variable">k2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob2:203"><span class="id" title="variable">ob2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob2:203"><span class="id" title="variable">ob2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob2:203"><span class="id" title="variable">ob2</span></a>)) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob1:202"><span class="id" title="variable">ob1</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_suffix_totally_orders_valid_sent_messages'" class="idref" href="#state_suffix_totally_orders_valid_sent_messages'"><span class="id" title="lemma">state_suffix_totally_orders_valid_sent_messages'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="m:204" class="idref" href="#m:204"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:204"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_suffix"><span class="id" title="definition">MO_msg_suffix</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:204"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_alt_sends"><span class="id" title="definition">MO_msg_valid_alt_sends</span></a>, <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_suffix"><span class="id" title="definition">MO_msg_suffix</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">H</span> <span class="id" title="var">k1</span> <span class="id" title="var">k2</span> <span class="id" title="var">Hlt</span> <span class="id" title="var">ob1</span> <span class="id" title="var">ob2</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">Hlbl1</span> <span class="id" title="var">Heq2</span> <span class="id" title="var">Hlbl2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">K</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k1</span>) (<a class="idref" href="VLSM.Lib.ListExtras.html#lastn"><span class="id" title="definition">lastn</span></a> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k1</span>) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob1</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs1</span> <span class="id" title="var">Hadr1</span>]<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">ob1</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#lastn_length_cons"><span class="id" title="lemma">lastn_length_cons</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k2</span>) (<a class="idref" href="VLSM.Lib.ListExtras.html#lastn"><span class="id" title="definition">lastn</span></a> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k2</span>) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>))) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <span class="id" title="var">ob2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hobs2</span> <span class="id" title="var">Hadr2</span>]<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">ob2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#lastn_length_cons"><span class="id" title="lemma">lastn_length_cons</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs1</span>, <span class="id" title="var">Hobs2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#suffix_lastn"><span class="id" title="lemma">suffix_lastn</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hsuf</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">suffix_length</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="VLSM.Lib.ListExtras.html#length_lastn"><span class="id" title="lemma">length_lastn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_lt_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span>, <span class="id" title="var">Heq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">Observation</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.min_spec"><span class="id" title="lemma">Nat.min_spec</span></a> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k1</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))) <span class="id" title="keyword">as</span> [[<span class="id" title="var">H11</span> <span class="id" title="var">H12</span>] | [<span class="id" title="var">H11</span> <span class="id" title="var">H12</span>]],<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.min_spec"><span class="id" title="lemma">Nat.min_spec</span></a> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">k2</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)))) <span class="id" title="keyword">as</span> [[<span class="id" title="var">H21</span> <span class="id" title="var">H22</span>] | [<span class="id" title="var">H21</span> <span class="id" title="var">H22</span>]]<br/>
    ; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">H12</span>, ?<span class="id" title="var">H22</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MO_component_lemmas"><span class="id" title="section">sec_MO_component_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_MO.sec_MOProtocol" class="idref" href="#sec_MO.sec_MOProtocol"><span class="id" title="section">sec_MOProtocol</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="index:205" class="idref" href="#index:205"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;`{<a id="H:207" class="idref" href="#H:207"><span class="id" title="binder">finite.Finite</span></a> <a id="H:207" class="idref" href="#H:207"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="idx:208" class="idref" href="#idx:208"><span class="id" title="binder">idx</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#index:205"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a>)<br/>
&nbsp;&nbsp;`{<a id="Inj0:209" class="idref" href="#Inj0:209"><span class="id" title="binder">!</span></a><a id="Inj0:209" class="idref" href="#Inj0:209"><span class="id" title="binder">Inj</span></a> <a id="Inj0:209" class="idref" href="#Inj0:209"><span class="id" title="binder">(=)</span></a> <a id="Inj0:209" class="idref" href="#Inj0:209"><span class="id" title="binder">(=)</span></a> <a id="Inj0:209" class="idref" href="#Inj0:209"><span class="id" title="binder">idx</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:210" class="idref" href="#P:210"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="P':213" class="idref" href="#P':213"><span class="id" title="binder">P'</span></a> := <span class="id" title="keyword">fun</span> <a id="adr:211" class="idref" href="#adr:211"><span class="id" title="binder">adr</span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#P:210"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#adr:211"><span class="id" title="variable">adr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:212" class="idref" href="#i:212"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#index:205"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#idx:208"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#adr:211"><span class="id" title="variable">adr</span></a>)<br/>
&nbsp;&nbsp;(<a id="M:215" class="idref" href="#M:215"><span class="id" title="binder">M</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#index:205"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> := <span class="id" title="keyword">fun</span> <a id="i:214" class="idref" href="#i:214"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_component"><span class="id" title="definition">MO_component</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#P':213"><span class="id" title="variable">P'</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#idx:208"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:214"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
<a id="lab307"></a><h2 class="section">Protocol</h2>


<div class="paragraph"> </div>

  The MO protocol is a free composition of finitely many MO components (each
  with the same predicate <code>P</code>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MO" class="idref" href="#MO"><span class="id" title="definition">MO</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab308"></a><h3 class="section">Validators</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_reachable_view" class="idref" href="#MO_reachable_view"><span class="id" title="lemma">MO_reachable_view</span></a> (<a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) <a id="i:217" class="idref" href="#i:217"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:217"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:216"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.P'"><span class="id" title="variable">P'</span></a>))  <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:217"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#iff_trans"><span class="id" title="lemma">iff_trans</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_based_valid_reachable"><span class="id" title="lemma">UMO_based_valid_reachable</span></a>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; [| <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms_Prop.html#and_iff_morphism"><span class="id" title="instance">Morphisms_Prop.and_iff_morphism</span></a>; <span class="id" title="var">cbn</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_reachable_impl"><span class="id" title="lemma">UMO_reachable_impl</span></a>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">constructor</span>..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_reachable_adr" class="idref" href="#MO_reachable_adr"><span class="id" title="lemma">MO_reachable_adr</span></a> (<a id="s:218" class="idref" href="#s:218"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) <a id="i:219" class="idref" href="#i:219"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:219"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:218"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:218"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:219"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hadr</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_reachable_view"><span class="id" title="lemma">MO_reachable_view</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hadr</span> <span class="id" title="keyword">as</span> [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_channel_authentication_prop" class="idref" href="#MO_channel_authentication_prop"><span class="id" title="lemma">MO_channel_authentication_prop</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_sender_index"><span class="id" title="definition">Message_sender_index</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.idx"><span class="id" title="variable">idx</span></a>) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.idx"><span class="id" title="variable">idx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">m</span> ((<span class="id" title="var">s</span> &amp; []) &amp; [] &amp; <span class="id" title="var">s'</span> &amp; [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a>, <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_sender"><span class="id" title="definition">Message_sender</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_reachable_adr"><span class="id" title="lemma">MO_reachable_adr</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hadr</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_sender_index_inv"><span class="id" title="lemma">Message_sender_index_inv</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hadr</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr2idx_idx"><span class="id" title="lemma">adr2idx_idx</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cannot_resend_message_stepwise_MO_component" class="idref" href="#cannot_resend_message_stepwise_MO_component"><span class="id" title="lemma">cannot_resend_message_stepwise_MO_component</span></a> <a id="i:220" class="idref" href="#i:220"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:220"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? * [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_sentMessages"><span class="id" title="lemma">elem_of_sentMessages</span></a>, <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs_sizeState"><span class="id" title="lemma">obs_sizeState</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#receivedMessages_addObservation"><span class="id" title="lemma">receivedMessages_addObservation</span></a>, <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intro</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>, <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs_sizeState"><span class="id" title="lemma">obs_sizeState</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MessageDependencies_MO_component" class="idref" href="#MessageDependencies_MO_component"><span class="id" title="instance">MessageDependencies_MO_component</span></a> <a id="i:221" class="idref" href="#i:221"><span class="id" title="binder">i</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.MessageDependencies.html#MessageDependencies"><span class="id" title="class">MessageDependencies</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:221"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">s'</span> ((<span class="id" title="var">s</span>, <span class="id" title="var">iom</span>) &amp; <span class="id" title="var">l</span> &amp; [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>]) <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">o</span> &amp; -&gt; &amp; <span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="var">Message</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [[] ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_receivedMessages_addObservation"><span class="id" title="lemma">elem_of_receivedMessages_addObservation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_sentMessages_addObservation"><span class="id" title="lemma">elem_of_sentMessages_addObservation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_sentMessages"><span class="id" title="lemma">elem_of_sentMessages</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit_has_trace"><span class="id" title="lemma">can_emit_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Houtput</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#can_emit_from_valid_trace"><span class="id" title="lemma">can_emit_from_valid_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">i</span>) (<span class="id" title="keyword">fun</span> <a id="msg:222" class="idref" href="#msg:222"><span class="id" title="binder"><span id="msg:223" class="id">msg</span></span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> =&gt; <a class="idref" href="VLSM.Examples.ELMO.MO.html#msg:222"><span class="id" title="variable">msg</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a> <span class="id" title="var">m</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#lift_preloaded_trace_to_seeded"><span class="id" title="lemma">lift_preloaded_trace_to_seeded</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#cannot_resend_message_stepwise_MO_component"><span class="id" title="lemma">cannot_resend_message_stepwise_MO_component</span></a> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> [<span class="id" title="var">Hrcv</span> <span class="id" title="var">Hnsnd</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <span class="id" title="var">dm</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_receivedMessages"><span class="id" title="lemma">elem_of_receivedMessages</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hitem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>, <span class="id" title="var">input</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hnsnd</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrcv'</span> : <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a>) <span class="id" title="var">dm</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">dm_item</span> &amp; <span class="id" title="var">Hdm_item</span> &amp; <span class="id" title="var">Hdm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdm_item</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hdm_item</span> | -&gt;]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdm</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Core.Equivocation.html#has_been_received_examine_one_trace"><span class="id" title="lemma">has_been_received_examine_one_trace</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrcv'</span>; <span class="id" title="var">cycle</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_msg_valid_free" class="idref" href="#MO_msg_valid_free"><span class="id" title="lemma">MO_msg_valid_free</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:224" class="idref" href="#m:224"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid"><span class="id" title="inductive">MO_msg_valid</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.P'"><span class="id" title="variable">P'</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:224"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Validators.FreeCompositionValidator.html#free_valid_message"><span class="id" title="record">free_valid_message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:224"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hind</span>) <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_ind"><span class="id" title="lemma">well_founded_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.MessageDependencies.html#msg_dep_happens_before_wf"><span class="id" title="lemma">msg_dep_happens_before_wf</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_dependencies"><span class="id" title="definition">Message_dependencies</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message_full_dependencies"><span class="id" title="definition">Message_full_dependencies</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#constrained_state_prop_MO_msg_valid"><span class="id" title="lemma">constrained_state_prop_MO_msg_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqa</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hstate_m</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_P_adr"><span class="id" title="lemma">MO_msg_valid_P_adr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_</span>  &amp; <span class="id" title="var">i</span> &amp; <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqa</span>, &lt;- <span class="id" title="var">Hi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstate_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a>, (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">m</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [[]].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">dm</span> <span class="id" title="var">Hdm</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hind</span>; [<span class="id" title="tactic">constructor</span> | <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_dep"><span class="id" title="lemma">MO_msg_valid_dep</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MO_component_validating" class="idref" href="#MO_component_validating"><span class="id" title="lemma">MO_component_validating</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:225" class="idref" href="#i:225"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ProjectionTraces.html#component_projection_validator_prop"><span class="id" title="definition">component_projection_validator_prop</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:225"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Validators.FreeCompositionValidator.html#free_valid_message_yields_projection_validator"><span class="id" title="lemma">free_valid_message_yields_projection_validator</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_channel_authentication_prop"><span class="id" title="lemma">MO_channel_authentication_prop</span></a> | <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">li</span> <span class="id" title="var">si</span> <span class="id" title="var">m</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [? ? <span class="id" title="var">Hm</span> |]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">i</span> <span class="id" title="var">si</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO_msg_valid_free"><span class="id" title="lemma">MO_msg_valid_free</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab309"></a><h3 class="section">Equivocation</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rec_obs_input_constrained_transition" class="idref" href="#rec_obs_input_constrained_transition"><span class="id" title="lemma">rec_obs_input_constrained_transition</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:226" class="idref" href="#i:226"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.index"><span class="id" title="variable">index</span></a>) (<a id="s1:227" class="idref" href="#s1:227"><span class="id" title="binder">s1</span></a> <a id="s2:228" class="idref" href="#s2:228"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="m1:229" class="idref" href="#m1:229"><span class="id" title="binder">m1</span></a> <a id="m2:230" class="idref" href="#m2:230"><span class="id" title="binder">m2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="lbl:231" class="idref" href="#lbl:231"><span class="id" title="binder">lbl</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Label"><span class="id" title="inductive">Label</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:226"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#lbl:231"><span class="id" title="variable">lbl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:227"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m1:229"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:228"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m2:230"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="ob:232" class="idref" href="#ob:232"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:227"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:232"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:228"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:232"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">lbl</span> <span class="id" title="var">Hivt</span> <span class="id" title="var">ob</span> <span class="id" title="var">Hro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hivt</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid</span>) <span class="id" title="var">Ht</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvalid</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="incomparable_state" class="idref" href="#incomparable_state"><span class="id" title="record">incomparable_state</span></a> (<a id="s1:233" class="idref" href="#s1:233"><span class="id" title="binder">s1</span></a> <a id="s2:234" class="idref" href="#s2:234"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="incs_not_state_suffix12" class="idref" href="#incs_not_state_suffix12"><span class="id" title="projection">incs_not_state_suffix12</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:233"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:234"><span class="id" title="variable">s2</span></a>;<br/>
&nbsp;&nbsp;<a id="incs_not_state_suffix21" class="idref" href="#incs_not_state_suffix21"><span class="id" title="projection">incs_not_state_suffix21</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:234"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:233"><span class="id" title="variable">s1</span></a>;<br/>
&nbsp;&nbsp;<a id="incs_not_equal" class="idref" href="#incs_not_equal"><span class="id" title="projection">incs_not_equal</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#s1:233"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s2:234"><span class="id" title="variable">s2</span></a>;<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rec_obs_send_inv" class="idref" href="#rec_obs_send_inv"><span class="id" title="lemma">rec_obs_send_inv</span></a><br/>
&nbsp;&nbsp;(<a id="Q:239" class="idref" href="#Q:239"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) <a id="s:240" class="idref" href="#s:240"><span class="id" title="binder">s</span></a> <a id="ob:241" class="idref" href="#ob:241"><span class="id" title="binder">ob</span></a><br/>
&nbsp;&nbsp;(<a id="Hnew:242" class="idref" href="#Hnew:242"><span class="id" title="binder">Hnew</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:239"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Hprev:243" class="idref" href="#Hprev:243"><span class="id" title="binder">Hprev</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:241"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:239"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:241"><span class="id" title="variable">ob</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a>)) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:241"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:239"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:241"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; (<span class="id" title="tactic">replace</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="projection">s0</span></a> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">auto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rec_obs_recv_inv" class="idref" href="#rec_obs_recv_inv"><span class="id" title="lemma">rec_obs_recv_inv</span></a><br/>
&nbsp;&nbsp;(<a id="Q:244" class="idref" href="#Q:244"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) <a id="s:245" class="idref" href="#s:245"><span class="id" title="binder">s</span></a> <a id="m:246" class="idref" href="#m:246"><span class="id" title="binder">m</span></a> <a id="ob:247" class="idref" href="#ob:247"><span class="id" title="binder">ob</span></a><br/>
&nbsp;&nbsp;(<a id="Hnew:248" class="idref" href="#Hnew:248"><span class="id" title="binder">Hnew</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:244"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hprev:249" class="idref" href="#Hprev:249"><span class="id" title="binder">Hprev</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:247"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:244"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:247"><span class="id" title="variable">ob</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hrecv:250" class="idref" href="#Hrecv:250"><span class="id" title="binder">Hrecv</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:247"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:244"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:247"><span class="id" title="variable">ob</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:247"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:244"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:245"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:246"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:247"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; (<span class="id" title="tactic">replace</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span> <a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="projection">s0</span></a> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">auto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rec_obs_addObservation_iff" class="idref" href="#rec_obs_addObservation_iff"><span class="id" title="lemma">rec_obs_addObservation_iff</span></a> (<a id="s:251" class="idref" href="#s:251"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="ob':252" class="idref" href="#ob':252"><span class="id" title="binder">ob'</span></a> <a id="ob:253" class="idref" href="#ob:253"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#s:251"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:253"><span class="id" title="variable">ob</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob':252"><span class="id" title="variable">ob'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:251"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob':252"><span class="id" title="variable">ob'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob':252"><span class="id" title="variable">ob'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:253"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:253"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:253"><span class="id" title="variable">ob</span></a>)) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob':252"><span class="id" title="variable">ob'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">replace</span> <span class="id" title="var">s</span> <span class="id" title="keyword">with</span> <span class="id" title="var">s0</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprev</span> | [-&gt; | <span class="id" title="var">Hob</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_prev"><span class="id" title="constructor">rec_prev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_new"><span class="id" title="constructor">rec_new</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">ob</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">l</span> <span class="id" title="var">m</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hob</span> <span class="id" title="keyword">as</span> [-&gt; <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_recv"><span class="id" title="constructor">rec_recv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unfold_rec_obs" class="idref" href="#unfold_rec_obs"><span class="id" title="lemma">unfold_rec_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:254" class="idref" href="#s:254"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="ob:255" class="idref" href="#ob:255"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:255"><span class="id" title="variable">ob</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:255"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="m:256" class="idref" href="#m:256"><span class="id" title="binder">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Receive"><span class="id" title="constructor">Receive</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:256"><span class="id" title="variable">m</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:256"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:255"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>. <span class="id" title="tactic">clear</span>. <span class="comment">(*&nbsp;avoid&nbsp;unneccessary&nbsp;dependence&nbsp;on&nbsp;section&nbsp;variables&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">ob</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_addObservation"><span class="id" title="lemma">elem_of_addObservation</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_addObservation"><span class="id" title="lemma">elem_of_addObservation</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation_ind"><span class="id" title="lemma">addObservation_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span> <span class="id" title="keyword">using</span> <span class="id" title="var">elem_of_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_addObservation"><span class="id" title="lemma">elem_of_addObservation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#rec_obs_addObservation_iff"><span class="id" title="lemma">rec_obs_addObservation_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-cannot-define-projection".<br/>
<span class="id" title="keyword">Record</span> <a id="local_equivocators" class="idref" href="#local_equivocators"><span class="id" title="record">local_equivocators</span></a> (<a id="s:257" class="idref" href="#s:257"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="i:258" class="idref" href="#i:258"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Address"><span class="id" title="variable">Address</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="lceqv_ob1" class="idref" href="#lceqv_ob1"><span class="id" title="projection">lceqv_ob1</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>;<br/>
&nbsp;&nbsp;<a id="lceqv_ob2" class="idref" href="#lceqv_ob2"><span class="id" title="projection">lceqv_ob2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>;<br/>
&nbsp;&nbsp;<a id="lceqv_adr1" class="idref" href="#lceqv_adr1"><span class="id" title="projection">lceqv_adr1</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lceqv_ob1:260"><span class="id" title="method">lceqv_ob1</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:258"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a id="lceqv_adr2" class="idref" href="#lceqv_adr2"><span class="id" title="projection">lceqv_adr2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lceqv_ob2:261"><span class="id" title="method">lceqv_ob2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:258"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a id="lceqv_rec_obs1" class="idref" href="#lceqv_rec_obs1"><span class="id" title="projection">lceqv_rec_obs1</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:257"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lceqv_ob1:260"><span class="id" title="method">lceqv_ob1</span></a>;<br/>
&nbsp;&nbsp;<a id="lceqv_rec_obs2" class="idref" href="#lceqv_rec_obs2"><span class="id" title="projection">lceqv_rec_obs2</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:257"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lceqv_ob2:261"><span class="id" title="method">lceqv_ob2</span></a>;<br/>
&nbsp;&nbsp;<a id="lceqv_incomparable" class="idref" href="#lceqv_incomparable"><span class="id" title="projection">lceqv_incomparable</span></a> : <a class="idref" href="VLSM.Examples.ELMO.UMO.html#incomparable"><span class="id" title="definition">incomparable</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lceqv_ob1:260"><span class="id" title="method">lceqv_ob1</span></a>) (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#lceqv_ob2:261"><span class="id" title="method">lceqv_ob2</span></a>);<br/>
}.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "cannot-define-projection".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_rec_observation" class="idref" href="#composite_rec_observation"><span class="id" title="definition">composite_rec_observation</span></a><br/>
&nbsp;&nbsp;(<a id="s:267" class="idref" href="#s:267"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">VLSM.state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO"><span class="id" title="definition">MO</span></a>) (<a id="ob:268" class="idref" href="#ob:268"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:269" class="idref" href="#i:269"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#s:267"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:269"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:268"><span class="id" title="variable">ob</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_after_sending" class="idref" href="#state_after_sending"><span class="id" title="definition">state_after_sending</span></a> (<a id="m:270" class="idref" href="#m:270"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:270"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#2fd6890f6153fe5c8e835013f973d409"><span class="id" title="notation">&lt;+&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Send"><span class="id" title="constructor">Send</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m:270"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-cannot-define-projection".<br/>
<span class="id" title="keyword">Record</span> <a id="global_equivocators" class="idref" href="#global_equivocators"><span class="id" title="record">global_equivocators</span></a><br/>
&nbsp;&nbsp;(<a id="sigma:271" class="idref" href="#sigma:271"><span class="id" title="binder">sigma</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">VLSM.state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#MO"><span class="id" title="definition">MO</span></a>) (<a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="globeqv_ob" class="idref" href="#globeqv_ob"><span class="id" title="projection">globeqv_ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>;<br/>
&nbsp;&nbsp;<a id="globeqv_adr" class="idref" href="#globeqv_adr"><span class="id" title="projection">globeqv_adr</span></a> : <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#adr"><span class="id" title="projection">adr</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#globeqv_ob:274"><span class="id" title="method">globeqv_ob</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:272"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a id="globeqv_cro" class="idref" href="#globeqv_cro"><span class="id" title="projection">globeqv_cro</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#composite_rec_observation"><span class="id" title="definition">composite_rec_observation</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sigma:271"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#globeqv_ob:274"><span class="id" title="method">globeqv_ob</span></a>;<br/>
&nbsp;&nbsp;<a id="s" class="idref" href="#s"><span class="id" title="projection">s</span></a> := <a class="idref" href="VLSM.Examples.ELMO.MO.html#state_after_sending"><span class="id" title="definition">state_after_sending</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#globeqv_ob:274"><span class="id" title="method">globeqv_ob</span></a>);<br/>
&nbsp;&nbsp;<a id="globeqv_nss" class="idref" href="#globeqv_nss"><span class="id" title="projection">globeqv_nss</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.ELMO.UMO.html#state_suffix"><span class="id" title="record">state_suffix</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:277"><span class="id" title="method">s</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sigma:271"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:272"><span class="id" title="variable">i</span></a>);<br/>
&nbsp;&nbsp;<a id="globeqv_neq" class="idref" href="#globeqv_neq"><span class="id" title="projection">globeqv_neq</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:277"><span class="id" title="method">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sigma:271"><span class="id" title="variable">sigma</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:272"><span class="id" title="variable">i</span></a>;<br/>
}.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "cannot-define-projection".<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="obs_rec_obs" class="idref" href="#obs_rec_obs"><span class="id" title="lemma">obs_rec_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:280" class="idref" href="#s:280"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) <a id="ob:281" class="idref" href="#ob:281"><span class="id" title="binder">ob</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:281"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:280"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:280"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:281"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">ob</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation_ind"><span class="id" title="lemma">addObservation_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [&lt;- | <span class="id" title="var">Hob</span>]%<span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_new"><span class="id" title="constructor">rec_new</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_prev"><span class="id" title="constructor">rec_prev</span></a>, <span class="id" title="var">IHs</span>, <span class="id" title="var">Hob</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="messages_rec_obs" class="idref" href="#messages_rec_obs"><span class="id" title="lemma">messages_rec_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:282" class="idref" href="#i:282"><span class="id" title="binder">i</span></a> (<a id="s:283" class="idref" href="#s:283"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">VLSM.state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:282"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> (<a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol.M"><span class="id" title="variable">M</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#i:282"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:283"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m':284" class="idref" href="#m':284"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a>) (<a id="ob:285" class="idref" href="#ob:285"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#m':284"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:283"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':284"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:285"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:283"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:285"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ol</span> <span class="id" title="var">a</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ol</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m'</span> <span class="id" title="var">ob</span> <span class="id" title="var">Hm'</span> <span class="id" title="var">Hob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hvalid</span>) <span class="id" title="var">Ht</span>], <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span> | <span class="id" title="var">s</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [= &lt;- &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">m'</span> <span class="id" title="notation">âˆˆ</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm'</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hm'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_recv"><span class="id" title="constructor">rec_recv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_prev"><span class="id" title="constructor">rec_prev</span></a>, <span class="id" title="var">IHHs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">m'</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm'</span> <span class="id" title="keyword">as</span> [-&gt; | <span class="id" title="var">Hm'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_prev"><span class="id" title="constructor">rec_prev</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_prev"><span class="id" title="constructor">rec_prev</span></a>, <span class="id" title="var">IHHs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unfold_robs_fwd" class="idref" href="#unfold_robs_fwd"><span class="id" title="lemma">unfold_robs_fwd</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:286" class="idref" href="#s:286"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) <a id="ob:287" class="idref" href="#ob:287"><span class="id" title="binder">ob</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:286"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:287"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:287"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:286"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':288" class="idref" href="#m':288"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':288"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:286"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':288"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:287"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">ob</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">s</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation_ind"><span class="id" title="lemma">addObservation_ind</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hob</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hob</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hob</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">replace</span> <a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="projection">s0</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">s</span> <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#eq_State"><span class="id" title="lemma">eq_State</span></a>; <span class="id" title="var">done</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHs</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hob</span> | (<span class="id" title="var">m'</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hob</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">m'</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">constructor</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unfold_robs_rev" class="idref" href="#unfold_robs_rev"><span class="id" title="lemma">unfold_robs_rev</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">[</span><a id="Q:289" class="idref" href="#Q:289"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>] [<a id="s:290" class="idref" href="#s:290"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">],</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:289"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:290"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="ob:291" class="idref" href="#ob:291"><span class="id" title="binder">ob</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:291"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:290"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':292" class="idref" href="#m':292"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':292"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:290"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':292"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:291"><span class="id" title="variable">ob</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:290"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:291"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span> <span class="id" title="var">ob</span> [<span class="id" title="var">Hob</span> | [<span class="id" title="var">m'</span> [<span class="id" title="var">Hob</span> ?]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>@<span class="id" title="lemma">not_elem_of_nil</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_addObservation"><span class="id" title="lemma">elem_of_addObservation</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> @<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#elem_of_messages_addObservation"><span class="id" title="lemma">elem_of_messages_addObservation</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hob</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hob</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="unfold_robs" class="idref" href="#unfold_robs"><span class="id" title="lemma">unfold_robs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="Q:293" class="idref" href="#Q:293"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="s:294" class="idref" href="#s:294"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.UMO.html#UMO_reachable"><span class="id" title="inductive">UMO_reachable</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#Q:293"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:294"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="ob:295" class="idref" href="#ob:295"><span class="id" title="binder">ob</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:294"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:295"><span class="id" title="variable">ob</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:295"><span class="id" title="variable">ob</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#obs"><span class="id" title="projection">obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:294"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m':296" class="idref" href="#m':296"><span class="id" title="binder">m'</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Message"><span class="id" title="variable">Message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':296"><span class="id" title="variable">m'</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#messages"><span class="id" title="definition">messages</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:294"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#m':296"><span class="id" title="variable">m'</span></a>) <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:295"><span class="id" title="variable">ob</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#unfold_robs_fwd"><span class="id" title="lemma">unfold_robs_fwd</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#unfold_robs_rev"><span class="id" title="lemma">unfold_robs_rev</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rec_obs_size_desc" class="idref" href="#rec_obs_size_desc"><span class="id" title="lemma">rec_obs_size_desc</span></a> (<a id="s:297" class="idref" href="#s:297"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) (<a id="ob:298" class="idref" href="#ob:298"><span class="id" title="binder">ob</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.Observation"><span class="id" title="variable">Observation</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:297"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:298"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#message"><span class="id" title="projection">message</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#ob:298"><span class="id" title="variable">ob</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeState"><span class="id" title="definition">sizeState</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:297"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#addObservation_size"><span class="id" title="lemma">addObservation_size</span></a>, <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#sizeObservation_unfold"><span class="id" title="lemma">sizeObservation_unfold</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rec_obs_acyclic" class="idref" href="#rec_obs_acyclic"><span class="id" title="lemma">rec_obs_acyclic</span></a> (<a id="s:299" class="idref" href="#s:299"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.State"><span class="id" title="variable">State</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:300" class="idref" href="#l:300"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#rec_obs"><span class="id" title="inductive">rec_obs</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:299"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkObservation"><span class="id" title="constructor">MkObservation</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#l:300"><span class="id" title="variable">l</span></a> (<a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#MkMessage"><span class="id" title="constructor">MkMessage</span></a> <a class="idref" href="VLSM.Examples.ELMO.MO.html#s:299"><span class="id" title="variable">s</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">Hrobs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#rec_obs_size_desc"><span class="id" title="lemma">rec_obs_size_desc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.lt_irrefl"><span class="id" title="lemma">Nat.lt_irrefl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrobs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO.sec_MOProtocol"><span class="id" title="section">sec_MOProtocol</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#sec_MO"><span class="id" title="section">sec_MO</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#rec_obs_send_inv"><span class="id" title="lemma">rec_obs_send_inv</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="VLSM.Examples.ELMO.MO.html#rec_obs_recv_inv"><span class="id" title="lemma">rec_obs_recv_inv</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
