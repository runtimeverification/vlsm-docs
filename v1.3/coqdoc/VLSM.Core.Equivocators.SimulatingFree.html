<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#"><span class="id" title="library">SubProjectionTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#"><span class="id" title="library">Equivocation.NoEquivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#"><span class="id" title="library">Equivocators.Equivocators</span></a> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#"><span class="id" title="library">Equivocators.MessageProperties</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#"><span class="id" title="library">Equivocators.EquivocatorsComposition</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#"><span class="id" title="library">Equivocators.EquivocatorsCompositionProjections</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#"><span class="id" title="library">Equivocators.FullReplayTraces</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab228"></a><h1 class="section">Core: Equivocators Simulating Regular Components</h1>


<div class="paragraph"> </div>

  In this module, we prove a general simulation result parameterized by
  constraints with good properties, then we instantiate the general result for
  the free composition of regular components.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_generalized_constraints" class="idref" href="#sec_generalized_constraints"><span class="id" title="section">sec_generalized_constraints</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab229"></a><h2 class="section">Generic simulation</h2>


<div class="paragraph"> </div>

  In this section we prove a general simulation result, namely that a composition
  of equivocators constrained by a <code>constraintE</code> can simulate a composition of
  the corresponding regular components constrained by a <code>constraintX</code> if they are
  related through the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#zero_descriptor_constraint_lifting_prop"><span class="id" title="definition">zero_descriptor_constraint_lifting_prop</span></a></span>erty and the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">finite.Finite</span></a> <a id="index:2" class="idref" href="#index:2"><span class="id" title="binder"><span id="H:4" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:5" class="idref" href="#IM:5"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">forall</span></a> <a id="i:6" class="idref" href="#i:6"><span class="id" title="binder"><span id="H0:7" class="id">i</span></span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">:</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">index</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">,</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">(</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">IM</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">i</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="seed:8" class="idref" href="#seed:8"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="constraintX:9" class="idref" href="#constraintX:9"><span class="id" title="binder">constraintX</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="CX:10" class="idref" href="#CX:10"><span class="id" title="binder">CX</span></a> := <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#constraintX:9"><span class="id" title="variable">constraintX</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#seed:8"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="constraintE:11" class="idref" href="#constraintE:11"><span class="id" title="binder">constraintE</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="CE:12" class="idref" href="#CE:12"><span class="id" title="binder">CE</span></a> := <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#constraintE:11"><span class="id" title="variable">constraintE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#seed:8"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="FreeE:13" class="idref" href="#FreeE:13"><span class="id" title="binder">FreeE</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:5"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="last_in_trace_except_from" class="idref" href="#last_in_trace_except_from"><span class="id" title="definition">last_in_trace_except_from</span></a><br/>
&nbsp;&nbsp;{<a id="T:14" class="idref" href="#T:14"><span class="id" title="binder">T</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSMType"><span class="id" title="record">VLSMType</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.message"><span class="id" title="variable">message</span></a>} <a id="exception:15" class="idref" href="#exception:15"><span class="id" title="binder">exception</span></a> (<a id="tr:16" class="idref" href="#tr:16"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#T:14"><span class="id" title="variable">T</span></a>)) <a id="iom:17" class="idref" href="#iom:17"><span class="id" title="binder">iom</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#iom:17"><span class="id" title="variable">iom</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">im</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:16"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">im</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#exception:15"><span class="id" title="variable">exception</span></a> <span class="id" title="var">im</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
  A property requiring that <code>constraintE</code> holds for any transition using
  an original copy of an equivocator if the message is initial or <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span>
  for the given state.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="zero_descriptor_constraint_lifting_prop" class="idref" href="#zero_descriptor_constraint_lifting_prop"><span class="id" title="definition">zero_descriptor_constraint_lifting_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="es:19" class="idref" href="#es:19"><span class="id" title="binder">es</span></a> (<a id="Hes:20" class="idref" href="#Hes:20"><span class="id" title="binder">Hes</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#es:19"><span class="id" title="variable">es</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="om:21" class="idref" href="#om:21"><span class="id" title="binder">om</span></a> (<a id="Hom:22" class="idref" href="#Hom:22"><span class="id" title="binder">Hom</span></a> : <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#sent_except_from"><span class="id" title="definition">sent_except_from</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) (@<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#es:19"><span class="id" title="variable">es</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#om:21"><span class="id" title="variable">om</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqv:23" class="idref" href="#eqv:23"><span class="id" title="binder">eqv</span></a> <a id="li:24" class="idref" href="#li:24"><span class="id" title="binder">li</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.constraintE"><span class="id" title="variable">constraintE</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv:23"><span class="id" title="variable">eqv</span></a> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#ContinueWith"><span class="id" title="constructor">ContinueWith</span></a> 0 <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#li:24"><span class="id" title="variable">li</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#es:19"><span class="id" title="variable">es</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#om:21"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  The <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a></span>erty plays an important role in designing a
  general, abstract, proof for trace simulation (Lemma
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a></span>), as it specifies
  that given a message <code>m</code> received in a regular composite state <code>s</code>
  for which the constraint <code>constraintX</code> is satisfied, then any trace of the
  equivocators-composition (constrained by <code>constraintE</code>&gt;) producing <code>m</code>
  can be "replayed" on top of an equivocators-composition state corresponding
  to <code>s</code>, with no transitions being performed on the original copies.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="replayable_message_prop" class="idref" href="#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="si:25" class="idref" href="#si:25"><span class="id" title="binder">si</span></a> <a id="s:26" class="idref" href="#s:26"><span class="id" title="binder">s</span></a> <a id="tr:27" class="idref" href="#tr:27"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HtrX:28" class="idref" href="#HtrX:28"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CX"><span class="id" title="variable">CX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#si:25"><span class="id" title="variable">si</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:26"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:27"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqv_state_s:29" class="idref" href="#eqv_state_s:29"><span class="id" title="binder">eqv_state_s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hstate_valid:30" class="idref" href="#Hstate_valid:30"><span class="id" title="binder">Hstate_valid</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_state_s:29"><span class="id" title="variable">eqv_state_s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hstate_final_project:31" class="idref" href="#Hstate_final_project:31"><span class="id" title="binder">Hstate_final_project</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_state_s:29"><span class="id" title="variable">eqv_state_s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:26"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqv_msg_is:32" class="idref" href="#eqv_msg_is:32"><span class="id" title="binder">eqv_msg_is</span></a> <a id="eqv_msg_s:33" class="idref" href="#eqv_msg_s:33"><span class="id" title="binder">eqv_msg_s</span></a> <a id="eqv_msg_tr:34" class="idref" href="#eqv_msg_tr:34"><span class="id" title="binder">eqv_msg_tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hmsg_trace:35" class="idref" href="#Hmsg_trace:35"><span class="id" title="binder">Hmsg_trace</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_msg_is:32"><span class="id" title="variable">eqv_msg_is</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_msg_s:33"><span class="id" title="variable">eqv_msg_s</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_msg_tr:34"><span class="id" title="variable">eqv_msg_tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="iom:36" class="idref" href="#iom:36"><span class="id" title="binder">iom</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hfinal_msg:37" class="idref" href="#Hfinal_msg:37"><span class="id" title="binder">Hfinal_msg</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#last_in_trace_except_from"><span class="id" title="definition">last_in_trace_except_from</span></a> (@<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_msg_tr:34"><span class="id" title="variable">eqv_msg_tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#iom:36"><span class="id" title="variable">iom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HcX:39" class="idref" href="#HcX:39"><span class="id" title="binder">HcX</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.constraintX"><span class="id" title="variable">constraintX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#l:38"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:26"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#iom:36"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="eqv_msg_tr:40" class="idref" href="#eqv_msg_tr:40"><span class="id" title="binder">eqv_msg_tr</span></a> <a id="lst_msg_tr:41" class="idref" href="#lst_msg_tr:41"><span class="id" title="binder">lst_msg_tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_state_s:29"><span class="id" title="variable">eqv_state_s</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#lst_msg_tr:41"><span class="id" title="variable">lst_msg_tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_msg_tr:40"><span class="id" title="variable">eqv_msg_tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#eqv_msg_tr:40"><span class="id" title="variable">eqv_msg_tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#lst_msg_tr:41"><span class="id" title="variable">lst_msg_tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:26"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#sent_except_from"><span class="id" title="definition">sent_except_from</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) (@<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#lst_msg_tr:41"><span class="id" title="variable">lst_msg_tr</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#iom:36"><span class="id" title="variable">iom</span></a>.<br/>

<br/>
</div>

<div class="doc">
  The main result of this section, showing that every trace of the
  composition of regular components can be obtained as a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a></span> projection
  of a valid trace for the composition of equivocators.

<div class="paragraph"> </div>

  The proof proceeds by replaying the transitions of the trace on the original
  copy of the machines, replaying traces corresponding to the messages between
  those transition through equivocation to guarantee the no-message-equivocation
  constraint.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="generalized_equivocators_finite_valid_trace_init_to_rev" class="idref" href="#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;(<a id="Hsubsumption:42" class="idref" href="#Hsubsumption:42"><span class="id" title="binder">Hsubsumption</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#zero_descriptor_constraint_lifting_prop"><span class="id" title="definition">zero_descriptor_constraint_lifting_prop</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hreplayable:43" class="idref" href="#Hreplayable:43"><span class="id" title="binder">Hreplayable</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#replayable_message_prop"><span class="id" title="definition">replayable_message_prop</span></a>)<br/>
&nbsp;&nbsp;<a id="isX:44" class="idref" href="#isX:44"><span class="id" title="binder">isX</span></a> <a id="sX:45" class="idref" href="#sX:45"><span class="id" title="binder">sX</span></a> <a id="trX:46" class="idref" href="#trX:46"><span class="id" title="binder">trX</span></a><br/>
&nbsp;&nbsp;(<a id="HtrX:47" class="idref" href="#HtrX:47"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CX"><span class="id" title="variable">CX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#isX:44"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sX:45"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:46"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:48" class="idref" href="#is:48"><span class="id" title="binder">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:48"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#isX:44"><span class="id" title="variable">isX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:49"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sX:45"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:50" class="idref" href="#tr:50"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:50"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:46"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:48"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:49"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:50"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:46"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:50"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HinclE</span> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.FreeE"><span class="id" title="variable">FreeE</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">constrained_preloaded_vlsm_incl_preloaded_with_all_messages</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HtrX</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_strong_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_strong_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#lift_initial_to_equivocators_state"><span class="id" title="lemma">lift_initial_to_equivocators_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">His</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#lift_to_equivocators_state"><span class="id" title="definition">lift_to_equivocators_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="keyword">is</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hproject</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHtrX1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eqv_state_is</span> [<span class="id" title="var">Hstate_start_project</span> [<span class="id" title="var">eqv_state_s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hstate_final_project</span> [<span class="id" title="var">eqv_state_tr</span> [<span class="id" title="var">Hstate_project</span> [<span class="id" title="var">Hstate_trace</span> <span class="id" title="var">_</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHHtrX2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">eqv_msg_is</span> [<span class="id" title="var">Hmsg_start_project</span> [<span class="id" title="var">eqv_msg_s</span> [<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">eqv_msg_tr</span> [<span class="id" title="var">Hmsg_project</span> [<span class="id" title="var">Hmsg_trace</span> <span class="id" title="var">Hfinal_msg</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">eqv_state_is</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstate_trace</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hstate_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> [<span class="id" title="var">Hiom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hreplayable</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX1</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstate_valid</span> <span class="id" title="var">Hstate_final_project</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hmsg_trace</span> <span class="id" title="var">iom</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hreplay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hreplay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> -<span class="id" title="var">Heqiom</span> <span class="id" title="var">Hfinal_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span> |]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#empty_initial_message_or_final_output"><span class="id" title="definition">empty_initial_message_or_final_output</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqiom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">iom_tr</span> <span class="id" title="var">iom_tr'</span> <span class="id" title="var">item</span> <span class="id" title="var">Heqiom_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hfinal_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output_is_last"><span class="id" title="lemma">finite_trace_last_output_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hreplay</span> <span class="id" title="var">_</span> <span class="id" title="var">Hc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">emsg_tr</span> [<span class="id" title="var">es</span> [<span class="id" title="var">Hmsg_trace_full_replay</span> [<span class="id" title="var">Hemsg_tr_pr</span> [<span class="id" title="var">Hes_pr</span> <span class="id" title="var">Hbs_iom</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hstate_trace</span>) <span class="id" title="var">Hmsg_trace_full_replay</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <span class="id" title="var">Happ</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eqv</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="i:51" class="idref" href="#i:51"><span class="id" title="binder"><span id="i:52" class="id">i</span></span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#i:51"><span class="id" title="variable">i</span></a>)) <span class="id" title="var">eqv</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#ContinueWith"><span class="id" title="constructor">ContinueWith</span></a> 0 <span class="id" title="var">li</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">el</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.CE"><span class="id" title="variable">CE</span></a> <span class="id" title="var">el</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">es</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">es'</span>, <span class="id" title="var">om'</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hesom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Happ_extend</span>  <span class="id" title="var">el</span> <span class="id" title="var">iom</span> <span class="id" title="var">es'</span> <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heqes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hes_pr_i</span> : <span class="id" title="notation">forall</span> <a id="i:53" class="idref" href="#i:53"><span class="id" title="binder"><span id="i:54" class="id">i</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">es</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#i:53"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#i:53"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hes_pr</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">es'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Het</span> := <span class="id" title="var">Hesom'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hes_pr_i</span> <span class="id" title="var">eqv</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hes_pr_eqv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hesom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hteqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sf</span> <span class="id" title="var">_om</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hesom'</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">es'</span> <span class="id" title="var">om'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hesom'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">Happ_extend</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">cut</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Happ_extend</span> <span class="id" title="var">Hivt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- ?<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hproject</span> : <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">eqv</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hes_pr_i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |] |]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a> <span class="id" title="var">HinclE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project_app"><span class="id" title="lemma">equivocators_total_trace_project_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a> <span class="id" title="var">HinclE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project_app"><span class="id" title="lemma">equivocators_total_trace_project_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hemsg_tr_pr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstate_project</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">el</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_transition_item_project"><span class="id" title="definition">equivocators_transition_item_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a>, <span class="id" title="lemma">decide_True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hstate_trace</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>! <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output_is_last"><span class="id" title="lemma">finite_trace_last_output_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Happ_extend</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | .. | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span> |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbs_iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hbs_iom</span> | <span class="id" title="var">Hseeded</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#preloaded_composite_sent_valid"><span class="id" title="lemma">preloaded_composite_sent_valid</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Happ</span> <span class="id" title="var">_</span> <span class="id" title="var">Hbs_iom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> <span class="id" title="var">el</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a>, <span class="id" title="var">Hes_pr_eqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsubsumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_generalized_constraints"><span class="id" title="section">sec_generalized_constraints</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab230"></a><h2 class="section">VLSM Equivocators Simulating Free Composite</h2>


<div class="paragraph"> </div>

  In this section we show that the composition of equivocators with no-message
  equivocation can simulate the free composition of regular components.

<div class="paragraph"> </div>

  To allow reusing this result in the proof for simulating fixed equivocation,
  we first prove an intermediate result, where both the composite VLSMs are
  preloaded with the same set of messages.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_seeded_all_equivocating" class="idref" href="#sec_seeded_all_equivocating"><span class="id" title="section">sec_seeded_all_equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:55" class="idref" href="#message:55"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:58" class="idref" href="#H:58"><span class="id" title="binder">finite.Finite</span></a> <a id="index:56" class="idref" href="#index:56"><span class="id" title="binder"><span id="H:58" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:59" class="idref" href="#IM:59"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#index:56"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:55"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">forall</span></a> <a id="i:60" class="idref" href="#i:60"><span class="id" title="binder"><span id="H0:61" class="id">i</span></span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">:</span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">index</span></a><a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">,</span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">(</span></a><a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">IM</span></a> <a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">i</span></a><a id="H0:61" class="idref" href="#H0:61"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="FreeE:62" class="idref" href="#FreeE:62"><span class="id" title="binder">FreeE</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:59"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="seed:63" class="idref" href="#seed:63"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:55"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="SeededXE:64" class="idref" href="#SeededXE:64"><span class="id" title="binder">SeededXE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:55"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_preloaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_preloaded</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:59"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#seed:63"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:65" class="idref" href="#Free:65"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:59"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="SeededFree:66" class="idref" href="#SeededFree:66"><span class="id" title="binder">SeededFree</span></a> := <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#Free:65"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#seed:63"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  Since <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#replayed_trace_from"><span class="id" title="definition">replayed_trace_from</span></a></span> was defined for a subset of the equivocators, we
  here define a specialized version of it when the set of all equivocators is used.

<div class="paragraph"> </div>

  We then restate some of the lemmas concerning <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#replayed_trace_from"><span class="id" title="definition">replayed_trace_from</span></a></span> for the new
  definition.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="all_equivocating_replayed_trace_from" class="idref" href="#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a><br/>
&nbsp;&nbsp;(<a id="full_replay_state:67" class="idref" href="#full_replay_state:67"><span class="id" title="binder">full_replay_state</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="is:68" class="idref" href="#is:68"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:69" class="idref" href="#tr:69"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Hproj:70" class="idref" href="#Hproj:70"><span class="id" title="binder">Hproj</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all_embedding"><span class="id" title="lemma">sub_composition_all_embedding</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_constraint"><span class="id" title="definition">equivocators_no_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#replayed_trace_from"><span class="id" title="definition">replayed_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#full_replay_state:67"><span class="id" title="variable">full_replay_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:68"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding_finite_trace_project"><span class="id" title="definition">VLSM_embedding_finite_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#Hproj:70"><span class="id" title="variable">Hproj</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:69"><span class="id" title="variable">tr</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="replayed_trace_from_valid_equivocating" class="idref" href="#replayed_trace_from_valid_equivocating"><span class="id" title="lemma">replayed_trace_from_valid_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="full_replay_state:71" class="idref" href="#full_replay_state:71"><span class="id" title="binder">full_replay_state</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hfull_replay_state:72" class="idref" href="#Hfull_replay_state:72"><span class="id" title="binder">Hfull_replay_state</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#full_replay_state:71"><span class="id" title="variable">full_replay_state</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:73" class="idref" href="#is:73"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:74" class="idref" href="#tr:74"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Htr:75" class="idref" href="#Htr:75"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:73"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:74"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#full_replay_state:71"><span class="id" title="variable">full_replay_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#full_replay_state:71"><span class="id" title="variable">full_replay_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:73"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:74"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#sub_replayed_trace_from_valid_equivocating"><span class="id" title="lemma">sub_replayed_trace_from_valid_equivocating</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">Hfull_replay_state</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">Hproj</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#preloaded_sub_composition_all_embedding"><span class="id" title="lemma">preloaded_sub_composition_all_embedding</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#no_equivocations_additional_constraint_with_preloaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_preloaded</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding_finite_valid_trace"><span class="id" title="lemma">VLSM_embedding_finite_valid_trace</span></a> <span class="id" title="var">Hproj</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_incl_preloaded_with"><span class="id" title="lemma">basic_VLSM_incl_preloaded_with</span></a>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> (<span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span> &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> | <span class="id" title="var">Hc</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hsent</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Specializing the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a></span>
  result using the <span class="inlinecode"><a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a></span> for the composition of regular components
  and the no-message-equivocation constraint for the composition of equivocators.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="seeded_equivocators_finite_valid_trace_init_to_rev" class="idref" href="#seeded_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">seeded_equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:76" class="idref" href="#no_initial_messages_in_IM:76"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;<a id="isX:77" class="idref" href="#isX:77"><span class="id" title="binder">isX</span></a> <a id="sX:78" class="idref" href="#sX:78"><span class="id" title="binder">sX</span></a> <a id="trX:79" class="idref" href="#trX:79"><span class="id" title="binder">trX</span></a><br/>
&nbsp;&nbsp;(<a id="HtrX:80" class="idref" href="#HtrX:80"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.SeededFree"><span class="id" title="variable">SeededFree</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#isX:77"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sX:78"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:79"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:81" class="idref" href="#is:81"><span class="id" title="binder">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:81"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#isX:77"><span class="id" title="variable">isX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:82" class="idref" href="#s:82"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:82"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sX:78"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:83" class="idref" href="#tr:83"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:83"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:79"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:81"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:82"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:83"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:79"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:83"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#generalized_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">generalized_equivocators_finite_valid_trace_init_to_rev</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">constraintX</span> := <a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#preloaded_free_composite_vlsm_spec"><span class="id" title="lemma">preloaded_free_composite_vlsm_spec</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hsent</span> | <span class="id" title="var">Hinitial</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinitial</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> [[<span class="id" title="var">mi</span> <span class="id" title="var">Hmi</span>] <span class="id" title="var">Him</span>]] | <span class="id" title="var">Hseeded</span>]; [<span class="id" title="var">exfalso</span> | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">elim</span> (<span class="id" title="var">no_initial_messages_in_IM</span> <span class="id" title="var">i</span> <span class="id" title="var">mi</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">isX</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">im</span> |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">eqv_state_s</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#seeded_no_equivocation_incl_preloaded"><span class="id" title="lemma">NoEquivocation.seeded_no_equivocation_incl_preloaded</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>) <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.seed"><span class="id" title="variable">seed</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">HinclE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg_trace</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#replayed_trace_from_valid_equivocating"><span class="id" title="lemma">replayed_trace_from_valid_equivocating</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">Hstate_valid</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hmsg_trace</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hmsg_trace_full_replay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">emsg_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg_trace_full_replay</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#all_equivocating_replayed_trace_from"><span class="id" title="definition">all_equivocating_replayed_trace_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#equivocators_total_state_project_replayed_trace_from"><span class="id" title="lemma">equivocators_total_state_project_replayed_trace_from</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">eqv_state_s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FullReplayTraces.html#equivocators_total_trace_project_replayed_trace_from"><span class="id" title="lemma">equivocators_total_trace_project_replayed_trace_from</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">eqv_state_s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfinal_msg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hfinal_msg</span> | <span class="id" title="var">Hinitial</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_first_pstate"><span class="id" title="method">valid_trace_first_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg_trace_full_replay</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfst</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">is_s</span> [<span class="id" title="var">tr_s</span> [<span class="id" title="var">Htr_s</span> <span class="id" title="var">His_s</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.SeededXE"><span class="id" title="variable">SeededXE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr_s</span> <span class="id" title="var">Hmsg_trace_full_replay</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a> <span class="id" title="var">HinclE</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (@<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_examine_one_trace"><span class="id" title="lemma">has_been_sent_examine_one_trace</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Happ</span> <span class="id" title="var">His_s</span>) <span class="id" title="var">im</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrew</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrew</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hrew</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">eqv_msg_tr</span> <span class="id" title="var">eqv_msg_tr'</span> <span class="id" title="var">itemX</span> <span class="id" title="var">Heqv_msg_tr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfinal_msg</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output_is_last"><span class="id" title="lemma">finite_trace_last_output_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfinal_msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding_finite_trace_project"><span class="id" title="definition">VLSM_embedding_finite_trace_project</span></a>, <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_embedding_finite_trace_project"><span class="id" title="definition">pre_VLSM_embedding_finite_trace_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_seeded_all_equivocating"><span class="id" title="section">sec_seeded_all_equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_all_equivocating" class="idref" href="#sec_all_equivocating"><span class="id" title="section">sec_all_equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:84" class="idref" href="#message:84"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:85" class="idref" href="#index:85"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:87" class="idref" href="#H:87"><span class="id" title="binder">finite.Finite</span></a> <a id="H:87" class="idref" href="#H:87"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:88" class="idref" href="#IM:88"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#index:85"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:84"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">forall</span></a> <a id="i:89" class="idref" href="#i:89"><span class="id" title="binder"><span id="H0:90" class="id">i</span></span></a> <a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">:</span></a> <a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">index</span></a><a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">,</span></a> <a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">(</span></a><a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">IM</span></a> <a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">i</span></a><a id="H0:90" class="idref" href="#H0:90"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Free:91" class="idref" href="#Free:91"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:88"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="XE:92" class="idref" href="#XE:92"><span class="id" title="binder">XE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#message:84"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_vlsm"><span class="id" title="definition">equivocators_no_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#IM:88"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  Further specializing <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#seeded_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">seeded_equivocators_finite_valid_trace_init_to_rev</span></a></span>
  to remove the preloading operation.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_finite_valid_trace_init_to_rev" class="idref" href="#equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:93" class="idref" href="#no_initial_messages_in_IM:93"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;<a id="isX:94" class="idref" href="#isX:94"><span class="id" title="binder">isX</span></a> <a id="sX:95" class="idref" href="#sX:95"><span class="id" title="binder">sX</span></a> <a id="trX:96" class="idref" href="#trX:96"><span class="id" title="binder">trX</span></a><br/>
&nbsp;&nbsp;(<a id="HtrX:97" class="idref" href="#HtrX:97"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#isX:94"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sX:95"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:96"><span class="id" title="variable">trX</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="is:98" class="idref" href="#is:98"><span class="id" title="binder">is</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:98"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#isX:94"><span class="id" title="variable">isX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="s:99" class="idref" href="#s:99"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:99"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sX:95"><span class="id" title="variable">sX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="tr:100" class="idref" href="#tr:100"><span class="id" title="binder">tr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:100"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:96"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#is:98"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#s:99"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:100"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#trX:96"><span class="id" title="variable">trX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_output"><span class="id" title="definition">finite_trace_last_output</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#tr:100"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_is_preloaded_with_False"><span class="id" title="lemma">vlsm_is_preloaded_with_False</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.Free"><span class="id" title="variable">Free</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_eq_finite_valid_trace_init_to</span></a> <span class="id" title="var">Heq</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#seeded_equivocators_finite_valid_trace_init_to_rev"><span class="id" title="lemma">seeded_equivocators_finite_valid_trace_init_to_rev</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <a id="m:101" class="idref" href="#m:101"><span class="id" title="binder"><span id="m:102" class="id">m</span></span></a> =&gt; <span class="id" title="notation">False</span>) <span class="id" title="var">no_initial_messages_in_IM</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">His</span> [<span class="id" title="var">s</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr_pr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Houtput</span>]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_preloaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_preloaded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#no_equivocations_additional_constraint_with_preloaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_preloaded</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">constraint</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_is_preloaded_with_False"><span class="id" title="lemma">vlsm_is_preloaded_with_False</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">constraint</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_eq_finite_valid_trace_init_to</span></a> <span class="id" title="var">Heq</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#preloaded_constraint_subsumption_stronger"><span class="id" title="lemma">preloaded_constraint_subsumption_stronger</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption_strongest"><span class="id" title="lemma">strong_constraint_subsumption_strongest</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> |]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.SimulatingFree.html#sec_all_equivocating"><span class="id" title="section">sec_all_equivocating</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
