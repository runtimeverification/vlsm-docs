<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">fin_maps</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab40"></a><h1 class="section">Utility: Finite Set Utility Definitions and Results</h1>

<div class="paragraph"> </div>

 For some reason, this instance is not exported by stdpp. 
</div>
<div class="code">
#[<span class="id" title="var">export</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="instance">elem_of_dec_slow</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_fin_set" class="idref" href="#sec_fin_set"><span class="id" title="section">sec_fin_set</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H6:11" class="idref" href="#H6:11"><span class="id" title="binder">FinSet</span></a> <a id="A:1" class="idref" href="#A:1"><span class="id" title="binder"><span id="H6:11" class="id">A</span></span></a> <a id="C:2" class="idref" href="#C:2"><span class="id" title="binder"><span id="H6:11" class="id">C</span></span></a>}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_fin_set.sec_general" class="idref" href="#sec_fin_set.sec_general"><span class="id" title="section">sec_general</span></a>.<br/>

<br/>
</div>

<div class="doc">
  If <code>X</code> is a subset of <code>Y</code>, then the elements of <code>X</code> are a sublist
  of the elements of <code>Y</code>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="elements_subseteq" class="idref" href="#elements_subseteq"><span class="id" title="lemma">elements_subseteq</span></a> (<a id="X:12" class="idref" href="#X:12"><span class="id" title="binder">X</span></a> <a id="Y:13" class="idref" href="#Y:13"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:12"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:13"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:12"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:13"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_size_ge_size1" class="idref" href="#union_size_ge_size1"><span class="id" title="lemma">union_size_ge_size1</span></a><br/>
&nbsp;&nbsp;(<a id="X:14" class="idref" href="#X:14"><span class="id" title="binder">X</span></a> <a id="Y:15" class="idref" href="#Y:15"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:14"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:15"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:14"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_size</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_union</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_size_ge_size2" class="idref" href="#union_size_ge_size2"><span class="id" title="lemma">union_size_ge_size2</span></a><br/>
&nbsp;&nbsp;(<a id="X:16" class="idref" href="#X:16"><span class="id" title="binder">X</span></a> <a id="Y:17" class="idref" href="#Y:17"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:16"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:17"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:17"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_size</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_union</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_size_ge_average" class="idref" href="#union_size_ge_average"><span class="id" title="lemma">union_size_ge_average</span></a><br/>
&nbsp;&nbsp;(<a id="X:18" class="idref" href="#X:18"><span class="id" title="binder">X</span></a> <a id="Y:19" class="idref" href="#Y:19"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:18"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:19"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:18"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:19"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#union_size_ge_size1"><span class="id" title="lemma">union_size_ge_size1</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#union_size_ge_size2"><span class="id" title="lemma">union_size_ge_size2</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_size_le_self" class="idref" href="#difference_size_le_self"><span class="id" title="lemma">difference_size_le_self</span></a><br/>
&nbsp;&nbsp;(<a id="X:20" class="idref" href="#X:20"><span class="id" title="binder">X</span></a> <a id="Y:21" class="idref" href="#Y:21"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:20"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∖</span>  <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:21"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:20"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_size</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_subseteq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_difference</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="union_size_le_sum" class="idref" href="#union_size_le_sum"><span class="id" title="lemma">union_size_le_sum</span></a><br/>
&nbsp;&nbsp;(<a id="X:22" class="idref" href="#X:22"><span class="id" title="binder">X</span></a> <a id="Y:23" class="idref" href="#Y:23"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:22"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∪</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:23"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:22"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:23"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">size_union_alt</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Halt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Halt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#difference_size_le_self"><span class="id" title="lemma">difference_size_le_self</span></a> <span class="id" title="var">Y</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="intersection_size1" class="idref" href="#intersection_size1"><span class="id" title="lemma">intersection_size1</span></a><br/>
&nbsp;&nbsp;(<a id="X:24" class="idref" href="#X:24"><span class="id" title="binder">X</span></a> <a id="Y:25" class="idref" href="#Y:25"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:24"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∩</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:25"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:24"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">subseteq_size</span> (<span class="id" title="var">X</span> <span class="id" title="notation">∩</span> <span class="id" title="var">Y</span>) <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="intersection_size2" class="idref" href="#intersection_size2"><span class="id" title="lemma">intersection_size2</span></a><br/>
&nbsp;&nbsp;(<a id="X:26" class="idref" href="#X:26"><span class="id" title="binder">X</span></a> <a id="Y:27" class="idref" href="#Y:27"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:26"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∩</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:27"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:27"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">subseteq_size</span> (<span class="id" title="var">X</span> <span class="id" title="notation">∩</span> <span class="id" title="var">Y</span>) <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_size_subset" class="idref" href="#difference_size_subset"><span class="id" title="lemma">difference_size_subset</span></a><br/>
&nbsp;&nbsp;(<a id="X:28" class="idref" href="#X:28"><span class="id" title="binder">X</span></a> <a id="Y:29" class="idref" href="#Y:29"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:30" class="idref" href="#Hsub:30"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:29"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:28"><span class="id" title="variable">X</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:28"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∖</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:29"><span class="id" title="variable">Y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:28"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:29"><span class="id" title="variable">Y</span></a>))%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htemp</span> : <span class="id" title="var">Y</span> <span class="id" title="notation">∪</span> <span class="id" title="notation">(</span><span class="id" title="var">X</span> <span class="id" title="notation">∖</span> <span class="id" title="var">Y</span><span class="id" title="notation">)</span> <span class="id" title="notation">≡</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">set_equiv_equivalence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <span class="id" title="var">Y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_union</span>; <span class="id" title="tactic">left</span>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_union</span>; <span class="id" title="tactic">right</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htemp2</span> : <span class="id" title="definition">size</span> <span class="id" title="var">Y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="definition">size</span> (<span class="id" title="var">X</span> <span class="id" title="notation">∖</span> <span class="id" title="var">Y</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">size_union</span> <span class="id" title="var">Y</span> (<span class="id" title="var">X</span> <span class="id" title="notation">∖</span> <span class="id" title="var">Y</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_disjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Ha2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_difference</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htemp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hun</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_with_intersection" class="idref" href="#difference_with_intersection"><span class="id" title="lemma">difference_with_intersection</span></a><br/>
&nbsp;&nbsp;(<a id="X:31" class="idref" href="#X:31"><span class="id" title="binder">X</span></a> <a id="Y:32" class="idref" href="#Y:32"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:31"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∖</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:32"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:31"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.FinSetExtras.html#X:31"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∩</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:32"><span class="id" title="variable">Y</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_size" class="idref" href="#difference_size"><span class="id" title="lemma">difference_size</span></a><br/>
&nbsp;&nbsp;(<a id="X:33" class="idref" href="#X:33"><span class="id" title="binder">X</span></a> <a id="Y:34" class="idref" href="#Y:34"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:33"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∖</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:34"><span class="id" title="variable">Y</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:33"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:33"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∩</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:34"><span class="id" title="variable">Y</span></a>)))%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#difference_with_intersection"><span class="id" title="lemma">difference_with_intersection</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#difference_size_subset"><span class="id" title="lemma">difference_size_subset</span></a> <span class="id" title="var">X</span> (<span class="id" title="var">X</span> <span class="id" title="notation">∩</span> <span class="id" title="var">Y</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hdif</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="difference_size_ge_disjoint_case" class="idref" href="#difference_size_ge_disjoint_case"><span class="id" title="lemma">difference_size_ge_disjoint_case</span></a><br/>
&nbsp;&nbsp;(<a id="X:35" class="idref" href="#X:35"><span class="id" title="binder">X</span></a> <a id="Y:36" class="idref" href="#Y:36"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:35"><span class="id" title="variable">X</span></a> <span class="id" title="notation">∖</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:36"><span class="id" title="variable">Y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:35"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:36"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#difference_size"><span class="id" title="lemma">difference_size</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#intersection_size2"><span class="id" title="lemma">intersection_size2</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="list_to_set_size" class="idref" href="#list_to_set_size"><span class="id" title="lemma">list_to_set_size</span></a><br/>
&nbsp;&nbsp;(<a id="l:37" class="idref" href="#l:37"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<span class="id" title="definition">list_to_set</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#l:37"><span class="id" title="variable">l</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#l:37"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_empty</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#union_size_le_sum"><span class="id" title="lemma">union_size_le_sum</span></a> (<span class="id" title="notation">{[</span> <span class="id" title="var">a</span> <span class="id" title="notation">]}</span>) (<span class="id" title="definition">list_to_set</span> <span class="id" title="var">l</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hun_size</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hun_size</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fin_set_subseteq_dec" class="idref" href="#fin_set_subseteq_dec"><span class="id" title="instance">fin_set_subseteq_dec</span></a> : <span class="id" title="class">RelDecision</span> <span class="id" title="notation">(⊆@{</span><a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">})</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">P</span> := <span class="id" title="definition">set_Forall</span> (<span class="id" title="keyword">fun</span> <a id="a:38" class="idref" href="#a:38"><span class="id" title="binder"><span id="a:39" class="id">a</span></span></a> =&gt; <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:38"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <span class="id" title="var">Y</span>) <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fin_set_empty_eq_dec" class="idref" href="#fin_set_empty_eq_dec"><span class="id" title="instance">fin_set_empty_eq_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="X:40" class="idref" href="#X:40"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">),</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:40"><span class="id" title="variable">X</span></a> <span class="id" title="notation">≡</span> <span class="id" title="notation">∅</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">elements_empty_iff</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">elements_empty_iff</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fin_set_singleton_eq_dec" class="idref" href="#fin_set_singleton_eq_dec"><span class="id" title="instance">fin_set_singleton_eq_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="X:41" class="idref" href="#X:41"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>) (<a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Lib.FinSetExtras.html#X:41"><span class="id" title="variable">X</span></a> <span class="id" title="notation">≡</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Lib.FinSetExtras.html#x:42"><span class="id" title="variable">x</span></a><span class="id" title="notation">]}</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span>|<span class="id" title="var">Heq</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_singleton</span>, &lt;- <span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Permutation_singleton_r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, <span class="id" title="lemma">elements_singleton</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="finset_equiv_dec" class="idref" href="#finset_equiv_dec"><span class="id" title="instance">finset_equiv_dec</span></a> `{<a id="H14:51" class="idref" href="#H14:51"><span class="id" title="binder">FinSet</span></a> <a id="H14:51" class="idref" href="#H14:51"><span class="id" title="binder">A</span></a> <a id="H14:51" class="idref" href="#H14:51"><span class="id" title="binder">C</span></a>} : <span class="id" title="class">RelDecision</span> <span class="id" title="notation">(≡@{</span><a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a><span class="id" title="notation">})</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">elements</span> <span class="id" title="var">X</span> <span class="id" title="notation">≡ₚ</span> <span class="id" title="definition">elements</span> <span class="id" title="var">Y</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">n</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="method">elem_of_elements</span>, !<span class="id" title="lemma">elem_of_list_lookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span> &amp; <span class="id" title="var">Hi</span>); [| <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Permutation_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hlen</span> &amp; <span class="id" title="var">f</span> &amp; <span class="id" title="var">Hinjf</span> &amp; <span class="id" title="var">Hp</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_general"><span class="id" title="section">sec_general</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_fin_set.sec_filter" class="idref" href="#sec_fin_set.sec_filter"><span class="id" title="section">sec_filter</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="P:52" class="idref" href="#P:52"><span class="id" title="binder">P</span></a> <a id="P2:53" class="idref" href="#P2:53"><span class="id" title="binder">P2</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;`{<a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">!</span></a><a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">forall</span></a> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder"><span id="H7:55" class="id">x</span></span></a><a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">,</span></a> <a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">Decision</span></a> <a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">(</span></a><a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">P</span></a> <a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">x</span></a><a id="H7:55" class="idref" href="#H7:55"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">!</span></a><a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">forall</span></a> <a id="x:56" class="idref" href="#x:56"><span class="id" title="binder"><span id="H8:57" class="id">x</span></span></a><a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">,</span></a> <a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">Decision</span></a> <a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">(</span></a><a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">P2</span></a> <a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">x</span></a><a id="H8:57" class="idref" href="#H8:57"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="X:58" class="idref" href="#X:58"><span class="id" title="binder">X</span></a> <a id="Y:59" class="idref" href="#Y:59"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.C"><span class="id" title="variable">C</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_subset" class="idref" href="#filter_subset"><span class="id" title="lemma">filter_subset</span></a><br/>
&nbsp;&nbsp;(<a id="Hsub:60" class="idref" href="#Hsub:60"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.Y"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.Y"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">HaX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_filter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HaX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_filter</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="filter_subprop" class="idref" href="#filter_subprop"><span class="id" title="lemma">filter_subprop</span></a><br/>
&nbsp;&nbsp;(<a id="Hsub:62" class="idref" href="#Hsub:62"><span class="id" title="binder">Hsub</span></a> : <span class="id" title="notation">forall</span> <a id="a:61" class="idref" href="#a:61"><span class="id" title="binder">a</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:61"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.P2"><span class="id" title="variable">P2</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:61"><span class="id" title="variable">a</span></a><span class="id" title="notation">)</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.P2"><span class="id" title="variable">P2</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter.X"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">HaP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_filter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HaP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_filter</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set.sec_filter"><span class="id" title="section">sec_filter</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_fin_set"><span class="id" title="section">sec_fin_set</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_map" class="idref" href="#sec_map"><span class="id" title="section">sec_map</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H6:73" class="idref" href="#H6:73"><span class="id" title="binder">FinSet</span></a> <a id="A:63" class="idref" href="#A:63"><span class="id" title="binder"><span id="H6:73" class="id">A</span></span></a> <a id="C:64" class="idref" href="#C:64"><span class="id" title="binder"><span id="H6:73" class="id">C</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="H14:84" class="idref" href="#H14:84"><span class="id" title="binder">FinSet</span></a> <a id="B:74" class="idref" href="#B:74"><span class="id" title="binder"><span id="H14:84" class="id">B</span></span></a> <a id="D:75" class="idref" href="#D:75"><span class="id" title="binder"><span id="H14:84" class="id">D</span></span></a>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_subset" class="idref" href="#set_map_subset"><span class="id" title="lemma">set_map_subset</span></a><br/>
&nbsp;&nbsp;(<a id="f:85" class="idref" href="#f:85"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:86" class="idref" href="#X:86"><span class="id" title="binder">X</span></a> <a id="Y:87" class="idref" href="#Y:87"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:88" class="idref" href="#Hsub:88"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:86"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:87"><span class="id" title="variable">Y</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">set_map</span> (<span class="id" title="var">D</span> := <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.D"><span class="id" title="variable">D</span></a>) <a class="idref" href="VLSM.Lib.FinSetExtras.html#f:85"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:86"><span class="id" title="variable">X</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="definition">set_map</span> (<span class="id" title="var">D</span> := <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.D"><span class="id" title="variable">D</span></a>) <a class="idref" href="VLSM.Lib.FinSetExtras.html#f:85"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#Y:87"><span class="id" title="variable">Y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_size_upper_bound" class="idref" href="#set_map_size_upper_bound"><span class="id" title="lemma">set_map_size_upper_bound</span></a><br/>
&nbsp;&nbsp;(<a id="f:89" class="idref" href="#f:89"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:90" class="idref" href="#X:90"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<span class="id" title="definition">set_map</span> (<span class="id" title="var">D</span> := <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.D"><span class="id" title="variable">D</span></a>) <a class="idref" href="VLSM.Lib.FinSetExtras.html#f:89"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:90"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:90"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">set_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">f</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="definition">elements</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">fX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x</span> := <span class="id" title="definition">size</span> (<span class="id" title="definition">list_to_set</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">fX</span>); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#list_to_set_size"><span class="id" title="lemma">list_to_set_size</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">fX</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">X</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">size</span>, <span class="id" title="instance">set_size</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">fX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">fmap_length</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_set_map_inj" class="idref" href="#elem_of_set_map_inj"><span class="id" title="lemma">elem_of_set_map_inj</span></a> (<a id="f:91" class="idref" href="#f:91"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.B"><span class="id" title="variable">B</span></a>) `{<a id="Inj0:92" class="idref" href="#Inj0:92"><span class="id" title="binder">!</span></a><a id="Inj0:92" class="idref" href="#Inj0:92"><span class="id" title="binder">Inj</span></a> <a id="Inj0:92" class="idref" href="#Inj0:92"><span class="id" title="binder">(=)</span></a> <a id="Inj0:92" class="idref" href="#Inj0:92"><span class="id" title="binder">(=)</span></a> <a id="Inj0:92" class="idref" href="#Inj0:92"><span class="id" title="binder">f</span></a>} (<a id="a:93" class="idref" href="#a:93"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.A"><span class="id" title="variable">A</span></a>) (<a id="X:94" class="idref" href="#X:94"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSetExtras.html#f:91"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:93"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈@{</span><a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.D"><span class="id" title="variable">D</span></a><span class="id" title="notation">}</span> <span class="id" title="definition">fin_sets.set_map</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#f:91"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:94"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:93"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:94"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_map</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">_v</span> &amp; <span class="id" title="var">HeqAv</span> &amp; <span class="id" title="var">H_v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="definition">inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HeqAv</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="set_map_id" class="idref" href="#set_map_id"><span class="id" title="lemma">set_map_id</span></a> (<a id="X:95" class="idref" href="#X:95"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map.C"><span class="id" title="variable">C</span></a>) : <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:95"><span class="id" title="variable">X</span></a> <span class="id" title="notation">≡</span> <span class="id" title="definition">set_map</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#X:95"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#sec_map"><span class="id" title="section">sec_map</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mmap_insert" class="idref" href="#mmap_insert"><span class="id" title="definition">mmap_insert</span></a><br/>
&nbsp;&nbsp;{<a id="I:96" class="idref" href="#I:96"><span class="id" title="binder">I</span></a> <a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a> <a id="SA:98" class="idref" href="#SA:98"><span class="id" title="binder">SA</span></a> : <span class="id" title="keyword">Type</span>} {<a id="MI:99" class="idref" href="#MI:99"><span class="id" title="binder">MI</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H6:108" class="idref" href="#H6:108"><span class="id" title="binder">FinMap</span></a> <a id="H6:108" class="idref" href="#H6:108"><span class="id" title="binder">I</span></a> <a id="H6:108" class="idref" href="#H6:108"><span class="id" title="binder">MI</span></a>} `{<a id="H14:117" class="idref" href="#H14:117"><span class="id" title="binder">FinSet</span></a> <a id="H14:117" class="idref" href="#H14:117"><span class="id" title="binder">A</span></a> <a id="H14:117" class="idref" href="#H14:117"><span class="id" title="binder">SA</span></a>} (<a id="i:118" class="idref" href="#i:118"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#I:96"><span class="id" title="variable">I</span></a>) (<a id="a:119" class="idref" href="#a:119"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#A:97"><span class="id" title="variable">A</span></a>) (<a id="m:120" class="idref" href="#m:120"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#MI:99"><span class="id" title="variable">MI</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#SA:98"><span class="id" title="variable">SA</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">&lt;[</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#i:118"><span class="id" title="variable">i</span></a> <span class="id" title="notation">:=</span> <span class="id" title="notation">{[</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:119"><span class="id" title="variable">a</span></a> <span class="id" title="notation">]}</span> <span class="id" title="notation">∪</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#m:120"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!!!</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#i:118"><span class="id" title="variable">i</span></a> <span class="id" title="notation">]&gt;</span> <span class="id" title="notation">m</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_mmap_insert" class="idref" href="#elem_of_mmap_insert"><span class="id" title="lemma">elem_of_mmap_insert</span></a><br/>
&nbsp;&nbsp;{<a id="I:121" class="idref" href="#I:121"><span class="id" title="binder">I</span></a> <a id="A:122" class="idref" href="#A:122"><span class="id" title="binder">A</span></a> <a id="SA:123" class="idref" href="#SA:123"><span class="id" title="binder">SA</span></a> : <span class="id" title="keyword">Type</span>} {<a id="MI:124" class="idref" href="#MI:124"><span class="id" title="binder">MI</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H6:133" class="idref" href="#H6:133"><span class="id" title="binder">FinMap</span></a> <a id="H6:133" class="idref" href="#H6:133"><span class="id" title="binder">I</span></a> <a id="H6:133" class="idref" href="#H6:133"><span class="id" title="binder">MI</span></a>} `{<a id="H14:142" class="idref" href="#H14:142"><span class="id" title="binder">FinSet</span></a> <a id="H14:142" class="idref" href="#H14:142"><span class="id" title="binder">A</span></a> <a id="H14:142" class="idref" href="#H14:142"><span class="id" title="binder">SA</span></a>} (<a id="m:143" class="idref" href="#m:143"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#MI:124"><span class="id" title="variable">MI</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#SA:123"><span class="id" title="variable">SA</span></a>) (<a id="i:144" class="idref" href="#i:144"><span class="id" title="binder">i</span></a> <a id="j:145" class="idref" href="#j:145"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#I:121"><span class="id" title="variable">I</span></a>) (<a id="a:146" class="idref" href="#a:146"><span class="id" title="binder">a</span></a> <a id="b:147" class="idref" href="#b:147"><span class="id" title="binder">b</span></a> : <a class="idref" href="VLSM.Lib.FinSetExtras.html#A:122"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSetExtras.html#b:147"><span class="id" title="variable">b</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#mmap_insert"><span class="id" title="definition">mmap_insert</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#i:144"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#a:146"><span class="id" title="variable">a</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#m:143"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!!!</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#j:145"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.FinSetExtras.html#a:146"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#b:147"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#i:144"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#j:145"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.FinSetExtras.html#b:147"><span class="id" title="variable">b</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#m:143"><span class="id" title="variable">m</span></a> <span class="id" title="notation">!!!</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#j:145"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSetExtras.html#mmap_insert"><span class="id" title="definition">mmap_insert</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hij</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_total_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b</span>)); <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">lookup_total_insert_ne</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
