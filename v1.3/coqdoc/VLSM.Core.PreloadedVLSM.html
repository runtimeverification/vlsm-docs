<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab94"></a><h1 class="section">Core: Preloaded VLSMs</h1>


<div class="paragraph"> </div>

  Given a VLSM <code>X</code>, we can <i>preload</i> it with some messages, i.e. construct
  an identical VLSM, except that these messages are now considered initial. In
  particular, we can preload <code>X</code> with all messages, i.e. make a copy of <code>X</code>
  in which all messages are initial. The high degree of freedom allowed by the
  preloaded version lets it experience everything experienced by <code>X</code> but also
  other kinds of behavior, including <i>Byzantine</i> behavior, which makes it a useful
  concept in Byzantine fault tolerance analysis.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="preloaded_vlsm_machine" class="idref" href="#preloaded_vlsm_machine"><span class="id" title="definition">preloaded_vlsm_machine</span></a><br/>
&nbsp;&nbsp;`(<a id="X:2" class="idref" href="#X:2"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a>) (<a id="initial:3" class="idref" href="#initial:3"><span class="id" title="binder">initial</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="record">VLSMMachine</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:2"><span class="id" title="variable">X</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:2"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> := <span class="id" title="keyword">fun</span> <a id="m:4" class="idref" href="#m:4"><span class="id" title="binder">m</span></a> =&gt; @<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:2"><span class="id" title="variable">X</span></a>  <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:4"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#initial:3"><span class="id" title="variable">initial</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:4"><span class="id" title="variable">m</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="projection">s0</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#s0"><span class="id" title="projection">s0</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:2"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:2"><span class="id" title="variable">X</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:2"><span class="id" title="variable">X</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="preloaded_vlsm" class="idref" href="#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> `(<a id="X:6" class="idref" href="#X:6"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:5" class="idref" href="#message:5"><span class="id" title="binder">message</span></a>) (<a id="initial:7" class="idref" href="#initial:7"><span class="id" title="binder">initial</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:5"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:5"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_machine"><span class="id" title="definition">preloaded_vlsm_machine</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:6"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#initial:7"><span class="id" title="variable">initial</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="preloaded_with_all_messages_vlsm" class="idref" href="#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> `(<a id="X:9" class="idref" href="#X:9"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:8" class="idref" href="#message:8"><span class="id" title="binder">message</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:8"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:9"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab95"></a><h2 class="section">Constrained traces, states and messages</h2>


<div class="paragraph"> </div>

  We will use the word "constrained" to denote concepts which correspond to
  validity in the VLSM preloaded with all messages.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_constrained_defs" class="idref" href="#sec_constrained_defs"><span class="id" title="section">sec_constrained_defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:11" class="idref" href="#X:11"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:10" class="idref" href="#message:10"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="input_constrained" class="idref" href="#input_constrained"><span class="id" title="definition">input_constrained</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="input_constrained_transition" class="idref" href="#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="input_constrained_transition_to" class="idref" href="#input_constrained_transition_to"><span class="id" title="definition">input_constrained_transition_to</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_to"><span class="id" title="lemma">input_valid_transition_to</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="input_constrained_transition_item" class="idref" href="#input_constrained_transition_item"><span class="id" title="definition">input_constrained_transition_item</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_constrained_trace_from_to" class="idref" href="#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_constrained_trace_from" class="idref" href="#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_constrained_trace_init_to" class="idref" href="#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_constrained_trace" class="idref" href="#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="constrained_trace_from_prop" class="idref" href="#constrained_trace_from_prop"><span class="id" title="definition">constrained_trace_from_prop</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_from_prop"><span class="id" title="definition">valid_trace_from_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="constrained_trace_prop" class="idref" href="#constrained_trace_prop"><span class="id" title="definition">constrained_trace_prop</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_prop"><span class="id" title="definition">valid_trace_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="constrained_state_prop" class="idref" href="#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="constrained_message_prop" class="idref" href="#constrained_message_prop"><span class="id" title="definition">constrained_message_prop</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="constrained_state_message_prop" class="idref" href="#constrained_state_message_prop"><span class="id" title="definition">constrained_state_message_prop</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs.X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_defs"><span class="id" title="section">sec_constrained_defs</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab96"></a><h2 class="section">Basic properties of preloaded VLSMs</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_preloaded_with_all_messages_vlsm" class="idref" href="#sec_preloaded_with_all_messages_vlsm"><span class="id" title="section">sec_preloaded_with_all_messages_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:13" class="idref" href="#X:13"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:12" class="idref" href="#message:12"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  A message which can be emitted during a protocol run of the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a></span> is called a <span class="inlinecode"><a class="idref" href="VLSM.Core.PreloadedVLSM.html#byzantine_message"><span class="id" title="definition">byzantine_message</span></a></span>,
  because as shown by <span class="inlinecode"><a class="idref" href="VLSM.Core.ByzantineTraces.html#byzantine_preloaded_with_all_messages"><span class="id" title="lemma">byzantine_preloaded_with_all_messages</span></a></span> and
  <span class="inlinecode"><a class="idref" href="VLSM.Core.ByzantineTraces.html#preloaded_with_all_messages_alt_eq"><span class="id" title="lemma">preloaded_with_all_messages_alt_eq</span></a></span>, byzantine traces for a VLSM
  are precisely the valid traces of the <span class="inlinecode"><a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a></span>,
  hence a byzantine message is any message which a byzantine trace <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="byzantine_message_prop" class="idref" href="#byzantine_message_prop"><span class="id" title="definition">byzantine_message_prop</span></a> (<a id="m:14" class="idref" href="#m:14"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:14"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="byzantine_message" class="idref" href="#byzantine_message"><span class="id" title="definition">byzantine_message</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="m:15" class="idref" href="#m:15"><span class="id" title="binder">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#byzantine_message_prop"><span class="id" title="definition">byzantine_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:15"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_with_all_messages_message_valid_initial_state_message" class="idref" href="#preloaded_with_all_messages_message_valid_initial_state_message"><span class="id" title="lemma">preloaded_with_all_messages_message_valid_initial_state_message</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="om:16" class="idref" href="#om:16"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_message_prop"><span class="id" title="definition">constrained_state_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:16"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_initial_state_message"><span class="id" title="constructor">valid_initial_state_message</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj2_sig"><span class="id" title="definition">proj2_sig</span></a> | <span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>]; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">right</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_with_all_messages_valid_state_message_preservation" class="idref" href="#preloaded_with_all_messages_valid_state_message_preservation"><span class="id" title="lemma">preloaded_with_all_messages_valid_state_message_preservation</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) (<a id="om:18" class="idref" href="#om:18"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:18"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_message_prop"><span class="id" title="definition">constrained_state_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:18"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_initial_state_message"><span class="id" title="constructor">valid_initial_state_message</span></a>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">right</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_generated_state_message"><span class="id" title="constructor">valid_generated_state_message</span></a>; <span class="id" title="var">cycle</span> 2.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_with_all_messages_valid_state_prop" class="idref" href="#preloaded_with_all_messages_valid_state_prop"><span class="id" title="lemma">preloaded_with_all_messages_valid_state_prop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:19" class="idref" href="#s:19"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:19"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:19"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [<span class="id" title="var">om</span> <span class="id" title="var">Hvsp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_valid_state_message_preservation"><span class="id" title="lemma">preloaded_with_all_messages_valid_state_message_preservation</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="any_message_is_valid_in_preloaded" class="idref" href="#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="om:20" class="idref" href="#om:20"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:20"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_message_valid_initial_state_message"><span class="id" title="lemma">preloaded_with_all_messages_message_valid_initial_state_message</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_weaken_valid_state_message_prop" class="idref" href="#preloaded_weaken_valid_state_message_prop"><span class="id" title="lemma">preloaded_weaken_valid_state_message_prop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) (<a id="om:22" class="idref" href="#om:22"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:22"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_message_prop"><span class="id" title="definition">constrained_state_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:22"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_initial_state_message"><span class="id" title="constructor">valid_initial_state_message</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">right</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_generated_state_message"><span class="id" title="constructor">valid_generated_state_message</span></a>; <span class="id" title="var">cycle</span> 2.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_weaken_input_valid_transition" class="idref" href="#preloaded_weaken_input_valid_transition"><span class="id" title="lemma">preloaded_weaken_input_valid_transition</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:23" class="idref" href="#l:23"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) (<a id="s:24" class="idref" href="#s:24"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) (<a id="om:25" class="idref" href="#om:25"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a>) (<a id="s':26" class="idref" href="#s':26"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) (<a id="om':27" class="idref" href="#om':27"><span class="id" title="binder">om'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:23"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:24"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:25"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s':26"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om':27"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:23"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:24"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:25"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s':26"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om':27"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * [[[<span class="id" title="var">_om</span> <span class="id" title="var">valid_s</span>] [<span class="id" title="var">_</span> <span class="id" title="var">Hvalid</span>]] <span class="id" title="var">Htrans</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [| | <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_weaken_valid_state_message_prop"><span class="id" title="lemma">preloaded_weaken_valid_state_message_prop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_weaken_valid_trace_from" class="idref" href="#preloaded_weaken_valid_trace_from"><span class="id" title="lemma">preloaded_weaken_valid_trace_from</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) (<a id="tr:29" class="idref" href="#tr:29"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:28"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:29"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:28"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:29"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_rev_ind</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_empty"><span class="id" title="constructor">finite_valid_trace_from_empty</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">om</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_weaken_valid_state_message_prop"><span class="id" title="lemma">preloaded_weaken_valid_state_message_prop</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="lemma">finite_valid_trace_singleton</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_weaken_input_valid_transition"><span class="id" title="lemma">preloaded_weaken_input_valid_transition</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pre_trace_segments_with_valid_inputs_are_valid" class="idref" href="#pre_trace_segments_with_valid_inputs_are_valid"><span class="id" title="lemma">pre_trace_segments_with_valid_inputs_are_valid</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:30" class="idref" href="#s:30"><span class="id" title="binder">s</span></a> <a id="f:31" class="idref" href="#f:31"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)) (<a id="tr:32" class="idref" href="#tr:32"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:32"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:33" class="idref" href="#item:33"><span class="id" title="binder">item</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:33"><span class="id" title="variable">item</span></a>)) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:32"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:30"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:32"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Htr</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">revert</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_ind"><span class="id" title="definition">finite_valid_trace_from_to_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_empty"><span class="id" title="constructor">finite_valid_trace_from_to_empty</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>) |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">intros</span> ? [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">iom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_extend"><span class="id" title="constructor">finite_valid_trace_from_to_extend</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pre_traces_with_valid_inputs_are_valid" class="idref" href="#pre_traces_with_valid_inputs_are_valid"><span class="id" title="lemma">pre_traces_with_valid_inputs_are_valid</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> <a id="f:35" class="idref" href="#f:35"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a>)) (<a id="tr:36" class="idref" href="#tr:36"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:35"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:36"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="item:37" class="idref" href="#item:37"><span class="id" title="binder">item</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:37"><span class="id" title="variable">item</span></a>)) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:36"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:35"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:36"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">f</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>] <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#pre_trace_segments_with_valid_inputs_are_valid"><span class="id" title="lemma">pre_trace_segments_with_valid_inputs_are_valid</span></a>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_with_all_messages_vlsm"><span class="id" title="section">sec_preloaded_with_all_messages_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_preloaded_valid_transition" class="idref" href="#sec_preloaded_valid_transition"><span class="id" title="section">sec_preloaded_valid_transition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:39" class="idref" href="#X:39"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:38" class="idref" href="#message:38"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_transition_preloaded_iff" class="idref" href="#valid_transition_preloaded_iff"><span class="id" title="lemma">valid_transition_preloaded_iff</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:40" class="idref" href="#l:40"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a>) (<a id="s1:41" class="idref" href="#s1:41"><span class="id" title="binder">s1</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a>) (<a id="iom:42" class="idref" href="#iom:42"><span class="id" title="binder">iom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.message"><span class="id" title="variable">message</span></a>) (<a id="s2:43" class="idref" href="#s2:43"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a>) (<a id="oom:44" class="idref" href="#oom:44"><span class="id" title="binder">oom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_transition"><span class="id" title="record">valid_transition</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:40"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s1:41"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#iom:42"><span class="id" title="variable">iom</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s2:43"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#oom:44"><span class="id" title="variable">oom</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_transition"><span class="id" title="record">valid_transition</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:40"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s1:41"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#iom:42"><span class="id" title="variable">iom</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s2:43"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#oom:44"><span class="id" title="variable">oom</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">firstorder</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_transition_next_preloaded_iff" class="idref" href="#valid_transition_next_preloaded_iff"><span class="id" title="lemma">valid_transition_next_preloaded_iff</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:45" class="idref" href="#s1:45"><span class="id" title="binder">s1</span></a> <a id="s2:46" class="idref" href="#s2:46"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_transition_next"><span class="id" title="inductive">valid_transition_next</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s1:45"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s2:46"><span class="id" title="variable">s2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_transition_next"><span class="id" title="inductive">valid_transition_next</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s1:45"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s2:46"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_transition_preloaded_iff"><span class="id" title="lemma">valid_transition_preloaded_iff</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_valid_transition"><span class="id" title="section">sec_preloaded_valid_transition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_preloaded_vlsm_total_projection" class="idref" href="#sec_preloaded_vlsm_total_projection"><span class="id" title="section">sec_preloaded_vlsm_total_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:47" class="idref" href="#message:47"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:48" class="idref" href="#X:48"><span class="id" title="binder">X</span></a> <a id="Y:49" class="idref" href="#Y:49"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:47"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:50" class="idref" href="#P:50"><span class="id" title="binder">P</span></a> <a id="Q:51" class="idref" href="#Q:51"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:47"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="label_project:52" class="idref" href="#label_project:52"><span class="id" title="binder">label_project</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:49"><span class="id" title="variable">Y</span></a>))<br/>
&nbsp;&nbsp;(<a id="state_project:53" class="idref" href="#state_project:53"><span class="id" title="binder">state_project</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:49"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hvalid:54" class="idref" href="#Hvalid:54"><span class="id" title="binder">Hvalid</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_valid_preservation"><span class="id" title="definition">strong_projection_valid_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:49"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#label_project:52"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:53"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htransition_Some:55" class="idref" href="#Htransition_Some:55"><span class="id" title="binder">Htransition_Some</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_transition_preservation_Some"><span class="id" title="definition">strong_projection_transition_preservation_Some</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:49"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#label_project:52"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:53"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htransition_None:56" class="idref" href="#Htransition_None:56"><span class="id" title="binder">Htransition_None</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_transition_consistency_None"><span class="id" title="definition">strong_projection_transition_consistency_None</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#label_project:52"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:53"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hstate:57" class="idref" href="#Hstate:57"><span class="id" title="binder">Hstate</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_initial_state_preservation"><span class="id" title="definition">strong_projection_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:49"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:53"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmessage:58" class="idref" href="#Hmessage:58"><span class="id" title="binder">Hmessage</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#weak_projection_valid_message_preservation"><span class="id" title="definition">weak_projection_valid_message_preservation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:48"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:50"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:49"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:51"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#label_project:52"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:53"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_projection_type_preloaded" class="idref" href="#basic_VLSM_projection_type_preloaded"><span class="id" title="lemma">basic_VLSM_projection_type_preloaded</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_type"><span class="id" title="record">VLSM_projection_type</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.state_project"><span class="id" title="variable">state_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_rev_ind</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project_app"><span class="id" title="lemma">pre_VLSM_projection_finite_trace_project_app</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a>, &lt;- <span class="id" title="var">IHHtr</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lY</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hl</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Htransition_None"><span class="id" title="variable">Htransition_None</span></a>; [.. | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_projection_preloaded" class="idref" href="#basic_VLSM_projection_preloaded"><span class="id" title="lemma">basic_VLSM_projection_preloaded</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.state_project"><span class="id" title="variable">state_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Htype</span> := <a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_projection_type_preloaded"><span class="id" title="lemma">basic_VLSM_projection_type_preloaded</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hstate"><span class="id" title="variable">Hstate</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HtrX</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_rev_ind"><span class="id" title="lemma">finite_valid_trace_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>, <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hstate"><span class="id" title="variable">Hstate</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project_app"><span class="id" title="lemma">pre_VLSM_projection_finite_trace_project_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#final_state_project"><span class="id" title="projection">final_state_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htype</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtrX</span> |- * <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lY</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_empty"><span class="id" title="constructor">finite_valid_trace_from_empty</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a>))].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="lemma">finite_valid_trace_singleton</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hvalid"><span class="id" title="variable">Hvalid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Htransition_Some"><span class="id" title="variable">Htransition_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_projection_type_preloaded_with" class="idref" href="#basic_VLSM_projection_type_preloaded_with"><span class="id" title="lemma">basic_VLSM_projection_type_preloaded_with</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_type"><span class="id" title="record">VLSM_projection_type</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.P"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.state_project"><span class="id" title="variable">state_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_rev_ind"><span class="id" title="lemma">finite_valid_trace_from_rev_ind</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project_app"><span class="id" title="lemma">pre_VLSM_projection_finite_trace_project_app</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a>, &lt;- <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lY</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hl</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Htransition_None"><span class="id" title="variable">Htransition_None</span></a>; [.. | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_projection_preloaded_with" class="idref" href="#basic_VLSM_projection_preloaded_with"><span class="id" title="lemma">basic_VLSM_projection_preloaded_with</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.state_project"><span class="id" title="variable">state_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Htype</span> := <a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_projection_type_preloaded_with"><span class="id" title="lemma">basic_VLSM_projection_type_preloaded_with</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hstate"><span class="id" title="variable">Hstate</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HtrX</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_rev_ind"><span class="id" title="lemma">finite_valid_trace_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>, <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hstate"><span class="id" title="variable">Hstate</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project_app"><span class="id" title="lemma">pre_VLSM_projection_finite_trace_project_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Q"><span class="id" title="variable">Q</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#final_state_project"><span class="id" title="projection">final_state_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htype</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtrX</span> |- * <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.label_project"><span class="id" title="variable">label_project</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">lY</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_empty"><span class="id" title="constructor">finite_valid_trace_from_empty</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Q"><span class="id" title="variable">Q</span></a>))].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="lemma">finite_valid_trace_singleton</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Q"><span class="id" title="variable">Q</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hmessage"><span class="id" title="variable">Hmessage</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Hvalid"><span class="id" title="variable">Hvalid</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection.Htransition_Some"><span class="id" title="variable">Htransition_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_total_projection"><span class="id" title="section">sec_preloaded_vlsm_total_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_preloaded_vlsm_embedding" class="idref" href="#sec_preloaded_vlsm_embedding"><span class="id" title="section">sec_preloaded_vlsm_embedding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:59" class="idref" href="#message:59"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="X:60" class="idref" href="#X:60"><span class="id" title="binder">X</span></a> <a id="Y:61" class="idref" href="#Y:61"><span class="id" title="binder">Y</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:59"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:62" class="idref" href="#P:62"><span class="id" title="binder">P</span></a> <a id="Q:63" class="idref" href="#Q:63"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:59"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="PimpliesQ:65" class="idref" href="#PimpliesQ:65"><span class="id" title="binder">PimpliesQ</span></a> : <span class="id" title="notation">forall</span> <a id="m:64" class="idref" href="#m:64"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:59"><span class="id" title="variable">message</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:62"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:64"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:63"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:64"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="label_project:66" class="idref" href="#label_project:66"><span class="id" title="binder">label_project</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:60"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:61"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;(<a id="state_project:67" class="idref" href="#state_project:67"><span class="id" title="binder">state_project</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:60"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:61"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hvalid:68" class="idref" href="#Hvalid:68"><span class="id" title="binder">Hvalid</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#strong_embedding_valid_preservation"><span class="id" title="definition">strong_embedding_valid_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:60"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:61"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#label_project:66"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:67"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htransition:69" class="idref" href="#Htransition:69"><span class="id" title="binder">Htransition</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#strong_embedding_transition_preservation"><span class="id" title="definition">strong_embedding_transition_preservation</span></a>  <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:60"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:61"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#label_project:66"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:67"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hstate:70" class="idref" href="#Hstate:70"><span class="id" title="binder">Hstate</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#strong_projection_initial_state_preservation"><span class="id" title="definition">strong_projection_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:60"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:61"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#state_project:67"><span class="id" title="variable">state_project</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmessage:71" class="idref" href="#Hmessage:71"><span class="id" title="binder">Hmessage</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#strong_embedding_initial_message_preservation"><span class="id" title="definition">strong_embedding_initial_message_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:60"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Y:61"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_embedding_preloaded" class="idref" href="#basic_VLSM_embedding_preloaded"><span class="id" title="lemma">basic_VLSM_embedding_preloaded</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding"><span class="id" title="record">VLSM_embedding</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.X"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Y"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.state_project"><span class="id" title="variable">state_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Hstate"><span class="id" title="variable">Hstate</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HtrX</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_rev_ind"><span class="id" title="lemma">finite_valid_trace_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>, <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Hstate"><span class="id" title="variable">Hstate</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="lemma">finite_valid_trace_singleton</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Y"><span class="id" title="variable">Y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Hvalid"><span class="id" title="variable">Hvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Htransition"><span class="id" title="variable">Htransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_embedding_finite_trace_last"><span class="id" title="lemma">pre_VLSM_embedding_finite_trace_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.state_project"><span class="id" title="variable">state_project</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>, <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| | <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtrX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_embedding_preloaded_with" class="idref" href="#basic_VLSM_embedding_preloaded_with"><span class="id" title="lemma">basic_VLSM_embedding_preloaded_with</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#VLSM_embedding"><span class="id" title="record">VLSM_embedding</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.state_project"><span class="id" title="variable">state_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Hstate"><span class="id" title="variable">Hstate</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HtrX</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_strong_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_strong_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>, <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Hstate"><span class="id" title="variable">Hstate</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="lemma">finite_valid_trace_singleton</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Q"><span class="id" title="variable">Q</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Hvalid"><span class="id" title="variable">Hvalid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.Htransition"><span class="id" title="variable">Htransition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#pre_VLSM_embedding_finite_trace_last"><span class="id" title="lemma">pre_VLSM_embedding_finite_trace_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.label_project"><span class="id" title="variable">label_project</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding.state_project"><span class="id" title="variable">state_project</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>, <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHHtrX1</span> | | <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#empty_initial_message_or_final_output"><span class="id" title="definition">empty_initial_message_or_final_output</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqiom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">iom_tr</span> <span class="id" title="var">iom_tr'</span> <span class="id" title="var">iom_lst</span> <span class="id" title="var">Heqiom_tr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_initial_message_is_valid"><span class="id" title="lemma">option_initial_message_is_valid</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqiom</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_output_is_valid"><span class="id" title="lemma">valid_trace_output_is_valid</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_embedding"><span class="id" title="section">sec_preloaded_vlsm_embedding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_preloaded_vlsm_inclusion" class="idref" href="#sec_preloaded_vlsm_inclusion"><span class="id" title="section">sec_preloaded_vlsm_inclusion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:72" class="idref" href="#message:72"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="T:73" class="idref" href="#T:73"><span class="id" title="binder">T</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSMType"><span class="id" title="record">VLSMType</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#message:72"><span class="id" title="variable">message</span></a>}<br/>
&nbsp;&nbsp;(<a id="MX:74" class="idref" href="#MX:74"><span class="id" title="binder">MX</span></a> <a id="MY:75" class="idref" href="#MY:75"><span class="id" title="binder">MY</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="record">VLSMMachine</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#T:73"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:76" class="idref" href="#X:76"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#MX:74"><span class="id" title="variable">MX</span></a>)<br/>
&nbsp;&nbsp;(<a id="Y:77" class="idref" href="#Y:77"><span class="id" title="binder">Y</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm"><span class="id" title="constructor">mk_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#MY:75"><span class="id" title="variable">MY</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_incl_preloaded" class="idref" href="#basic_VLSM_incl_preloaded"><span class="id" title="lemma">basic_VLSM_incl_preloaded</span></a><br/>
&nbsp;&nbsp;(<a id="Hinitial_state:78" class="idref" href="#Hinitial_state:78"><span class="id" title="binder">Hinitial_state</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_initial_state_preservation"><span class="id" title="definition">strong_incl_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hvalid:79" class="idref" href="#Hvalid:79"><span class="id" title="binder">Hvalid</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_valid_preservation"><span class="id" title="definition">strong_incl_valid_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htransition:80" class="idref" href="#Htransition:80"><span class="id" title="binder">Htransition</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_transition_preservation"><span class="id" title="definition">strong_incl_transition_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.Y"><span class="id" title="variable">Y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_embedding_iff"><span class="id" title="lemma">VLSM_incl_embedding_iff</span></a>, (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_embedding_preloaded"><span class="id" title="lemma">basic_VLSM_embedding_preloaded</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="basic_VLSM_incl_preloaded_with" class="idref" href="#basic_VLSM_incl_preloaded_with"><span class="id" title="lemma">basic_VLSM_incl_preloaded_with</span></a><br/>
&nbsp;&nbsp;(<a id="P:81" class="idref" href="#P:81"><span class="id" title="binder">P</span></a> <a id="Q:82" class="idref" href="#Q:82"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="PimpliesQ:84" class="idref" href="#PimpliesQ:84"><span class="id" title="binder">PimpliesQ</span></a> : <span class="id" title="notation">forall</span> <a id="m:83" class="idref" href="#m:83"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:81"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:83"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:82"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:83"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hvalid:85" class="idref" href="#Hvalid:85"><span class="id" title="binder">Hvalid</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_valid_preservation"><span class="id" title="definition">strong_incl_valid_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htransition:86" class="idref" href="#Htransition:86"><span class="id" title="binder">Htransition</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_transition_preservation"><span class="id" title="definition">strong_incl_transition_preservation</span></a>  <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hstate:87" class="idref" href="#Hstate:87"><span class="id" title="binder">Hstate</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_initial_state_preservation"><span class="id" title="definition">strong_incl_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmessage:88" class="idref" href="#Hmessage:88"><span class="id" title="binder">Hmessage</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#strong_incl_initial_message_preservation"><span class="id" title="definition">strong_incl_initial_message_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MX"><span class="id" title="variable">MX</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.MY"><span class="id" title="variable">MY</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:81"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:82"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_embedding_iff"><span class="id" title="lemma">VLSM_incl_embedding_iff</span></a>, (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_embedding_preloaded_with"><span class="id" title="lemma">basic_VLSM_embedding_preloaded_with</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion.Y"><span class="id" title="variable">Y</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">PimpliesQ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_preloaded_vlsm_inclusion"><span class="id" title="section">sec_preloaded_vlsm_inclusion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_VLSM_incl_preloaded_properties" class="idref" href="#sec_VLSM_incl_preloaded_properties"><span class="id" title="section">sec_VLSM_incl_preloaded_properties</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:90" class="idref" href="#X:90"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:89" class="idref" href="#message:89"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_incl_preloaded" class="idref" href="#vlsm_incl_preloaded"><span class="id" title="lemma">vlsm_incl_preloaded</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:91" class="idref" href="#P:91"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:91"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>; <span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_incl_preloaded_with_all_messages_vlsm" class="idref" href="#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded"><span class="id" title="lemma">vlsm_incl_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_incl_relaxed" class="idref" href="#preloaded_vlsm_incl_relaxed"><span class="id" title="lemma">preloaded_vlsm_incl_relaxed</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:92" class="idref" href="#P:92"><span class="id" title="binder">P</span></a> <a id="Q:93" class="idref" href="#Q:93"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="m:94" class="idref" href="#m:94"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:92"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:94"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:93"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:94"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:93"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:94"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:92"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:93"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> <span class="id" title="var">PimpliesQorValid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a>; <span class="id" title="var">cycle</span> 1; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> [<span class="id" title="var">Him</span> | <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">PimpliesQorValid</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> []; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_incl" class="idref" href="#preloaded_vlsm_incl"><span class="id" title="lemma">preloaded_vlsm_incl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:95" class="idref" href="#P:95"><span class="id" title="binder">P</span></a> <a id="Q:96" class="idref" href="#Q:96"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="m:97" class="idref" href="#m:97"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:95"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:97"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:96"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:97"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:95"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:96"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl_relaxed"><span class="id" title="lemma">preloaded_vlsm_incl_relaxed</span></a>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_idem_l" class="idref" href="#preloaded_vlsm_idem_l"><span class="id" title="lemma">preloaded_vlsm_idem_l</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:98" class="idref" href="#P:98"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:98"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:98"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:98"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>; <span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_idem_r" class="idref" href="#preloaded_vlsm_idem_r"><span class="id" title="lemma">preloaded_vlsm_idem_r</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:99" class="idref" href="#P:99"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:99"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:99"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:99"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_incl_preloaded_with"><span class="id" title="lemma">basic_VLSM_incl_preloaded_with</span></a>; <span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_incl_preloaded_with_all_messages" class="idref" href="#preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">preloaded_vlsm_incl_preloaded_with_all_messages</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:100" class="idref" href="#P:100"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:100"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl"><span class="id" title="lemma">preloaded_vlsm_incl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_with_all_messages_can_emit" class="idref" href="#preloaded_with_all_messages_can_emit"><span class="id" title="lemma">preloaded_with_all_messages_can_emit</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:101" class="idref" href="#m:101"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:101"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:101"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_can_emit"><span class="id" title="lemma">VLSM_incl_can_emit</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#mk_vlsm_machine"><span class="id" title="lemma">mk_vlsm_machine</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_weaken_finite_valid_trace_from" class="idref" href="#preloaded_weaken_finite_valid_trace_from"><span class="id" title="lemma">preloaded_weaken_finite_valid_trace_from</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="from:102" class="idref" href="#from:102"><span class="id" title="binder">from</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>) (<a id="tr:103" class="idref" href="#tr:103"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#from:102"><span class="id" title="variable">from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:103"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#from:102"><span class="id" title="variable">from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:103"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a> | <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_weaken_finite_valid_trace_from_to" class="idref" href="#preloaded_weaken_finite_valid_trace_from_to"><span class="id" title="lemma">preloaded_weaken_finite_valid_trace_from_to</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="from:104" class="idref" href="#from:104"><span class="id" title="binder">from</span></a> <a id="to:105" class="idref" href="#to:105"><span class="id" title="binder">to</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>) (<a id="tr:106" class="idref" href="#tr:106"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#from:104"><span class="id" title="variable">from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#to:105"><span class="id" title="variable">to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:106"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#from:104"><span class="id" title="variable">from</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#to:105"><span class="id" title="variable">to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:106"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a> | <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties.X"><span class="id" title="variable">X</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_incl_preloaded_properties"><span class="id" title="section">sec_VLSM_incl_preloaded_properties</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_VLSM_eq_preloaded_properties" class="idref" href="#sec_VLSM_eq_preloaded_properties"><span class="id" title="section">sec_VLSM_eq_preloaded_properties</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:108" class="idref" href="#X:108"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:107" class="idref" href="#message:107"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_with_valid_eq" class="idref" href="#preloaded_vlsm_with_valid_eq"><span class="id" title="lemma">preloaded_vlsm_with_valid_eq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:109" class="idref" href="#P:109"><span class="id" title="binder">P</span></a> <a id="Q:110" class="idref" href="#Q:110"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="m:111" class="idref" href="#m:111"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:110"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:111"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:109"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:111"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <a id="m:112" class="idref" href="#m:112"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:109"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:112"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#Q:110"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:112"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:109"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl_relaxed"><span class="id" title="lemma">preloaded_vlsm_incl_relaxed</span></a>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl"><span class="id" title="lemma">preloaded_vlsm_incl</span></a>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_vlsm_idem" class="idref" href="#preloaded_vlsm_idem"><span class="id" title="lemma">preloaded_vlsm_idem</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:113" class="idref" href="#P:113"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:113"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:113"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:113"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_idem_l"><span class="id" title="lemma">preloaded_vlsm_idem_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_idem_r"><span class="id" title="lemma">preloaded_vlsm_idem_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_with_all_messages_eq_validating_preloaded_vlsm" class="idref" href="#preloaded_with_all_messages_eq_validating_preloaded_vlsm"><span class="id" title="lemma">preloaded_with_all_messages_eq_validating_preloaded_vlsm</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="P:114" class="idref" href="#P:114"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:115" class="idref" href="#l:115"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <span class="id" title="var">_</span>) (<a id="s:116" class="idref" href="#s:116"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <span class="id" title="var">_</span>) (<a id="m:117" class="idref" href="#m:117"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained"><span class="id" title="definition">input_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:115"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:116"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:117"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:114"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:117"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a>) (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#P:114"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">Hvalidating</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">preloaded_vlsm_incl_preloaded_with_all_messages</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">m</span> <span class="id" title="var">Hv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hvalidating</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> (<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; ?).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_is_preloaded_with_False" class="idref" href="#vlsm_is_preloaded_with_False"><span class="id" title="lemma">vlsm_is_preloaded_with_False</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>; <span class="id" title="tactic">cbv</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_is_preloaded_with_False_initial_message" class="idref" href="#vlsm_is_preloaded_with_False_initial_message"><span class="id" title="lemma">vlsm_is_preloaded_with_False_initial_message</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#strong_embedding_initial_message_preservation"><span class="id" title="definition">strong_embedding_initial_message_preservation</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_is_preloaded_with_False_initial_message_rev" class="idref" href="#vlsm_is_preloaded_with_False_initial_message_rev"><span class="id" title="lemma">vlsm_is_preloaded_with_False_initial_message_rev</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEmbedding.html#strong_embedding_initial_message_preservation"><span class="id" title="definition">strong_embedding_initial_message_preservation</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span>)) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_is_preloaded_with_False_valid_state_message" class="idref" href="#vlsm_is_preloaded_with_False_valid_state_message"><span class="id" title="lemma">vlsm_is_preloaded_with_False_valid_state_message</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:118" class="idref" href="#s:118"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a>) (<a id="om:119" class="idref" href="#om:119"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:119"><span class="id" title="variable">om</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_message_prop"><span class="id" title="inductive">valid_state_message_prop</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span>)) <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:118"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:119"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_is_preloaded_with_False"><span class="id" title="lemma">vlsm_is_preloaded_with_False</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq1</span> <span class="id" title="var">Heq2</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties.X"><span class="id" title="variable">X</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">M</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state_message"><span class="id" title="lemma">VLSM_incl_valid_state_message</span></a>; [| <span class="id" title="tactic">cbv</span>]); <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_VLSM_eq_preloaded_properties"><span class="id" title="section">sec_VLSM_eq_preloaded_properties</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab97"></a><h2 class="section">Direct definitions of constrained traces, states and messages</h2>


<div class="paragraph"> </div>

  In the above formalization, "valid" concepts are defined first, then
  "constrained" ones are derived from them, expressed as validity within the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a></span>.

<div class="paragraph"> </div>

  In this section we state the original mathematical definitions (as presented
  in the <a href="https://doi.org/10.48550/arXiv.2202.12662">VLSM paper</a>)
  and we show them equivalent to the ones defined above.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_constrained_direct_defs" class="idref" href="#sec_constrained_direct_defs"><span class="id" title="section">sec_constrained_direct_defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`(<a id="X:121" class="idref" href="#X:121"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:120" class="idref" href="#message:120"><span class="id" title="binder">message</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  A sequence of constrained transitions, without any requirements on the
  starting state.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="constrained_transitions_from_to" class="idref" href="#constrained_transitions_from_to"><span class="id" title="definition, inductive"><span id="constrained_transitions_from_to_ind" class="id"><span id="constrained_transitions_from_to_sind" class="id">constrained_transitions_from_to</span></span></span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="ct_empty" class="idref" href="#ct_empty"><span class="id" title="constructor">ct_empty</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:124" class="idref" href="#s:124"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_transitions_from_to:122"><span class="id" title="inductive">constrained_transitions_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:124"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:124"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
| <a id="ct_extend" class="idref" href="#ct_extend"><span class="id" title="constructor">ct_extend</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:125" class="idref" href="#s:125"><span class="id" title="binder">s</span></a> <a id="s':126" class="idref" href="#s':126"><span class="id" title="binder">s'</span></a> <a id="f:127" class="idref" href="#f:127"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="om:128" class="idref" href="#om:128"><span class="id" title="binder">om</span></a> <a id="om':129" class="idref" href="#om':129"><span class="id" title="binder">om'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a>) (<a id="l:130" class="idref" href="#l:130"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:131" class="idref" href="#tr:131"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:130"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:125"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:128"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s':126"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om':129"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:130"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:125"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:128"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_transitions_from_to:122"><span class="id" title="inductive">constrained_transitions_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s':126"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:127"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:131"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_transitions_from_to:122"><span class="id" title="inductive">constrained_transitions_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:125"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:127"><span class="id" title="variable">f</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#l:130"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:128"><span class="id" title="variable">om</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s':126"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om':129"><span class="id" title="variable">om'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:131"><span class="id" title="variable">tr</span></a>).<br/>

<br/>
</div>

<div class="doc">
  A constrained state is a sequence of constrained transitions originating in
  an initial state.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="finite_constrained_trace_init_to_direct" class="idref" href="#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a><br/>
&nbsp;&nbsp;(<a id="s:132" class="idref" href="#s:132"><span class="id" title="binder">s</span></a> <a id="f:133" class="idref" href="#f:133"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:134" class="idref" href="#tr:134"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_transitions_from_to"><span class="id" title="inductive">constrained_transitions_from_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:132"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:133"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:134"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:132"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_direct_right_impl" class="idref" href="#finite_constrained_trace_init_to_direct_right_impl"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_right_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:135" class="idref" href="#s:135"><span class="id" title="binder">s</span></a> <a id="f:136" class="idref" href="#f:136"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:137" class="idref" href="#tr:137"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:137"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:135"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:136"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:137"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">f</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Ht</span>..|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_direct_left_impl" class="idref" href="#finite_constrained_trace_init_to_direct_left_impl"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_left_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:138" class="idref" href="#s:138"><span class="id" title="binder">s</span></a> <a id="f:139" class="idref" href="#f:139"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:140" class="idref" href="#tr:140"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:139"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:140"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:138"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:139"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:140"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">f</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_empty"><span class="id" title="constructor">finite_valid_trace_from_to_empty</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_extend"><span class="id" title="constructor">finite_valid_trace_from_to_extend</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtr</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_iff"><span class="id" title="lemma">valid_state_prop_iff</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>, <span class="id" title="var">om'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> | ..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_constrained_trace_init_to_direct_equiv" class="idref" href="#finite_constrained_trace_init_to_direct_equiv"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> <a id="f:142" class="idref" href="#f:142"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:143" class="idref" href="#tr:143"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:141"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:143"><span class="id" title="variable">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:141"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:142"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:143"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct_left_impl"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_left_impl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct_right_impl"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_right_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A constrained state is a state reachable through a constrained trace. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="constrained_state_prop_direct" class="idref" href="#constrained_state_prop_direct"><span class="id" title="definition">constrained_state_prop_direct</span></a> (<a id="f:144" class="idref" href="#f:144"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s:145" class="idref" href="#s:145"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:146" class="idref" href="#tr:146"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:145"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:144"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:146"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="constrained_state_prop_direct_equiv" class="idref" href="#constrained_state_prop_direct_equiv"><span class="id" title="lemma">constrained_state_prop_direct_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:147" class="idref" href="#s:147"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop_direct"><span class="id" title="definition">constrained_state_prop_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:147"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:147"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop_direct"><span class="id" title="definition">constrained_state_prop_direct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct_equiv"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> (? &amp; ? &amp; []); <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A constrained message is one which can be emitted by a constrained trace.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="constrained_message_prop_direct" class="idref" href="#constrained_message_prop_direct"><span class="id" title="definition">constrained_message_prop_direct</span></a> (<a id="m:148" class="idref" href="#m:148"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="s:149" class="idref" href="#s:149"><span class="id" title="binder">s</span></a> <a id="f:150" class="idref" href="#f:150"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:151" class="idref" href="#tr:151"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)) (<a id="item:152" class="idref" href="#item:152"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:149"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:150"><span class="id" title="variable">f</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:151"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:152"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:152"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:148"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="constrained_message_prop_direct_equiv" class="idref" href="#constrained_message_prop_direct_equiv"><span class="id" title="lemma">constrained_message_prop_direct_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:153" class="idref" href="#m:153"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_message_prop_direct"><span class="id" title="definition">constrained_message_prop_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:153"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_message_prop"><span class="id" title="definition">constrained_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#m:153"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_message_prop_direct"><span class="id" title="definition">constrained_message_prop_direct</span></a>, <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_message_prop"><span class="id" title="definition">constrained_message_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit_iff"><span class="id" title="lemma">can_emit_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct_equiv"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_equiv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#non_empty_valid_trace_from_can_produce"><span class="id" title="lemma">non_empty_valid_trace_from_can_produce</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">s</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">s</span>, <span class="id" title="keyword">is</span>, (<span class="id" title="var">tr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>), <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [.. | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#last_error_is_last"><span class="id" title="lemma">last_error_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_last"><span class="id" title="lemma">finite_valid_trace_init_to_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">s</span> &amp; <span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr'</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hlast</span> &amp; <span class="id" title="var">Hs</span> &amp; <span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr'</span> <span class="id" title="var">tr</span> <span class="id" title="var">item_</span> <span class="id" title="var">Heqtr</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#last_error_is_last"><span class="id" title="lemma">last_error_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span>; <span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlast</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab98"></a><h3 class="section">Definitions of valid traces, messages, and states based on constrained ones</h3>


<div class="paragraph"> </div>

  Here we state the original mathematical definitions (as presented in the
  <a href="https://doi.org/10.48550/arXiv.2202.12662">VLSM paper</a>)
  for valid traces, states, and messages, deriving them from the "constrained"
  notions, and we show them equivalent to the ones defined in the VLSM module.

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  A valid trace is a constrained trace whose <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a></span>s are all valid messages;
  a valid message is either an initial message or an <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a></span> of a valid trace.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="finite_valid_trace_init_to_from_constrained" class="idref" href="#finite_valid_trace_init_to_from_constrained"><span class="id" title="definition, inductive"><span id="finite_valid_trace_init_to_from_constrained_ind" class="id"><span id="finite_valid_trace_init_to_from_constrained_sind" class="id">finite_valid_trace_init_to_from_constrained</span></span></span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="fvtit_def" class="idref" href="#fvtit_def"><span class="id" title="constructor">fvtit_def</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:158" class="idref" href="#s:158"><span class="id" title="binder">s</span></a> <a id="f:159" class="idref" href="#f:159"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:160" class="idref" href="#tr:160"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct"><span class="id" title="definition">finite_constrained_trace_init_to_direct</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:158"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:159"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:160"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="item:161" class="idref" href="#item:161"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:161"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:160"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained:155"><span class="id" title="inductive">option_valid_message_prop_from_constrained</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:161"><span class="id" title="variable">item</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained:154"><span class="id" title="inductive">finite_valid_trace_init_to_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:158"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:159"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:160"><span class="id" title="variable">tr</span></a><br/>
<br/>
<span class="id" title="keyword">with</span> <a id="option_valid_message_prop_from_constrained" class="idref" href="#option_valid_message_prop_from_constrained"><span class="id" title="definition, inductive"><span id="option_valid_message_prop_from_constrained_ind" class="id"><span id="option_valid_message_prop_from_constrained_sind" class="id">option_valid_message_prop_from_constrained</span></span></span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="ovmp_def_initial" class="idref" href="#ovmp_def_initial"><span class="id" title="constructor">ovmp_def_initial</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="om:162" class="idref" href="#om:162"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#option_initial_message_prop"><span class="id" title="definition">option_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:162"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained:155"><span class="id" title="inductive">option_valid_message_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:162"><span class="id" title="variable">om</span></a><br/>
| <a id="ovmp_def_emit" class="idref" href="#ovmp_def_emit"><span class="id" title="constructor">ovmp_def_emit</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:163" class="idref" href="#s:163"><span class="id" title="binder">s</span></a> <a id="f:164" class="idref" href="#f:164"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:165" class="idref" href="#tr:165"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained:154"><span class="id" title="inductive">finite_valid_trace_init_to_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:163"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:164"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:165"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="item:166" class="idref" href="#item:166"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:166"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:165"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained:155"><span class="id" title="inductive">option_valid_message_prop_from_constrained</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#item:166"><span class="id" title="variable">item</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_init_to_from_constrained_right_impl" class="idref" href="#finite_valid_trace_init_to_from_constrained_right_impl"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_right_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:167" class="idref" href="#s:167"><span class="id" title="binder">s</span></a> <a id="f:168" class="idref" href="#f:168"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:169" class="idref" href="#tr:169"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:167"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:168"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:169"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained"><span class="id" title="inductive">finite_valid_trace_init_to_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:167"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:168"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:169"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_strong_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_strong_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>] |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr1</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct_equiv"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">T</span> <span class="id" title="var">M</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr1</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_singleton"><span class="id" title="lemma">finite_valid_trace_from_to_singleton</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">IHHtr1</span> <span class="id" title="keyword">as</span> [? ? ? <span class="id" title="var">_</span> <span class="id" title="var">IHoutput</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHtr1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| -&gt;]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHoutput</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#empty_initial_message_or_final_output"><span class="id" title="definition">empty_initial_message_or_final_output</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqiom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">iom_tr</span> <span class="id" title="var">iom_tr'</span> <span class="id" title="var">item</span> <span class="id" title="var">Heq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> 1 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">iom</span>; <span class="id" title="tactic">econstructor</span> 2; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_init_to_from_constrained_left_impl" class="idref" href="#finite_valid_trace_init_to_from_constrained_left_impl"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_left_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:170" class="idref" href="#s:170"><span class="id" title="binder">s</span></a> <a id="f:171" class="idref" href="#f:171"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:172" class="idref" href="#tr:172"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained"><span class="id" title="inductive">finite_valid_trace_init_to_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:170"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:171"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:172"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:170"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:171"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:172"><span class="id" title="variable">tr</span></a><br/>
<br/>
<span class="id" title="keyword">with</span> <a id="option_valid_message_prop_from_constrained_left_impl" class="idref" href="#option_valid_message_prop_from_constrained_left_impl"><span class="id" title="lemma">option_valid_message_prop_from_constrained_left_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="om:173" class="idref" href="#om:173"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained"><span class="id" title="inductive">option_valid_message_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:173"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:173"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">f</span> <span class="id" title="var">tr</span> [? ? ? [<span class="id" title="var">Htrc</span> <span class="id" title="var">Hinit</span>] <span class="id" title="var">Hmsgs</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#pre_traces_with_valid_inputs_are_valid"><span class="id" title="lemma">pre_traces_with_valid_inputs_are_valid</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to_direct_left_impl"><span class="id" title="lemma">finite_constrained_trace_init_to_direct_left_impl</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">option_valid_message_prop_from_constrained_left_impl</span>, <span class="id" title="var">Hmsgs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">om</span> [? <span class="id" title="var">Hinit</span> | ? ? ? <span class="id" title="var">Hemit</span> ? <span class="id" title="var">Hitem</span>]; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_initial_message_is_valid"><span class="id" title="lemma">option_initial_message_is_valid</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">item</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Houtput</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_Some"><span class="id" title="lemma">option_valid_message_Some</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_output_is_valid"><span class="id" title="lemma">valid_trace_output_is_valid</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">finite_valid_trace_init_to_from_constrained_left_impl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_init_to_from_constrained_equiv" class="idref" href="#finite_valid_trace_init_to_from_constrained_equiv"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:174" class="idref" href="#s:174"><span class="id" title="binder">s</span></a> <a id="f:175" class="idref" href="#f:175"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:176" class="idref" href="#tr:176"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained"><span class="id" title="inductive">finite_valid_trace_init_to_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:175"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:176"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:174"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#f:175"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:176"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained_left_impl"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_left_impl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained_right_impl"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_right_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="option_valid_message_prop_from_constrained_right_impl" class="idref" href="#option_valid_message_prop_from_constrained_right_impl"><span class="id" title="lemma">option_valid_message_prop_from_constrained_right_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="om:177" class="idref" href="#om:177"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:177"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained"><span class="id" title="inductive">option_valid_message_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:177"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">m</span> |] <span class="id" title="var">Hm</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#ovmp_def_initial"><span class="id" title="constructor">ovmp_def_initial</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hm</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#ovmp_def_initial"><span class="id" title="constructor">ovmp_def_initial</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit_has_trace"><span class="id" title="lemma">can_emit_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">item</span> &amp; <span class="id" title="var">Htr</span> &amp; &lt;-).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a>, <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained_right_impl"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_right_impl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span> 2; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="option_valid_message_prop_from_constrained_equiv" class="idref" href="#option_valid_message_prop_from_constrained_equiv"><span class="id" title="lemma">option_valid_message_prop_from_constrained_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="om:178" class="idref" href="#om:178"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.message"><span class="id" title="variable">message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained"><span class="id" title="inductive">option_valid_message_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:178"><span class="id" title="variable">om</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_prop"><span class="id" title="definition">option_valid_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#om:178"><span class="id" title="variable">om</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained_left_impl"><span class="id" title="lemma">option_valid_message_prop_from_constrained_left_impl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#option_valid_message_prop_from_constrained_right_impl"><span class="id" title="lemma">option_valid_message_prop_from_constrained_right_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A valid state is a state reachable through a valid trace. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="valid_state_prop_from_constrained" class="idref" href="#valid_state_prop_from_constrained"><span class="id" title="definition">valid_state_prop_from_constrained</span></a> (<a id="s:179" class="idref" href="#s:179"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="is:180" class="idref" href="#is:180"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>) (<a id="tr:181" class="idref" href="#tr:181"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained"><span class="id" title="inductive">finite_valid_trace_init_to_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#is:180"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:179"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#tr:181"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_prop_from_constrained_left_impl" class="idref" href="#valid_state_prop_from_constrained_left_impl"><span class="id" title="lemma">valid_state_prop_from_constrained_left_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:182" class="idref" href="#s:182"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_state_prop_from_constrained"><span class="id" title="definition">valid_state_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:182"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:182"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained_equiv"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_equiv</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_prop_from_constrained_right_impl" class="idref" href="#valid_state_prop_from_constrained_right_impl"><span class="id" title="lemma">valid_state_prop_from_constrained_right_impl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:183" class="idref" href="#s:183"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:183"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_state_prop_from_constrained"><span class="id" title="definition">valid_state_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:183"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_valid_trace_init_to_from_constrained_equiv"><span class="id" title="lemma">finite_valid_trace_init_to_from_constrained_equiv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_prop_from_constrained_equiv" class="idref" href="#valid_state_prop_from_constrained_equiv"><span class="id" title="lemma">valid_state_prop_from_constrained_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:184" class="idref" href="#s:184"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_state_prop_from_constrained"><span class="id" title="definition">valid_state_prop_from_constrained</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#s:184"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_state_prop_from_constrained_left_impl"><span class="id" title="lemma">valid_state_prop_from_constrained_left_impl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_state_prop_from_constrained_right_impl"><span class="id" title="lemma">valid_state_prop_from_constrained_right_impl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#sec_constrained_direct_defs"><span class="id" title="section">sec_constrained_direct_defs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vlsm_is_preloaded_with_valid" class="idref" href="#vlsm_is_preloaded_with_valid"><span class="id" title="lemma">vlsm_is_preloaded_with_valid</span></a> `(<a id="X:186" class="idref" href="#X:186"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:185" class="idref" href="#message:185"><span class="id" title="binder">message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:186"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_vlsm"><span class="id" title="definition">preloaded_vlsm</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:186"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#X:186"><span class="id" title="variable">X</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_strong_incl"><span class="id" title="lemma">basic_VLSM_strong_incl</span></a>; <span class="id" title="tactic">intros</span> ?; <span class="id" title="var">only</span> 2: <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a>; <span class="id" title="tactic">intros</span> ? **; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">HmX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | <span class="id" title="var">HmX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
