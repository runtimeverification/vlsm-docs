<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#"><span class="id" title="library">ZArith.Znumtheory</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.EquationsExtras.html#"><span class="id" title="library">EquationsExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#"><span class="id" title="library">FinSuppFn</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">StdppExtras</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab26"></a><h1 class="section">Utility: Natural Number Definitions and Results</h1>

<div class="paragraph"> </div>

 Compute the list of all naturals less than <code>n</code>. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="up_to_n_listing" class="idref" href="#up_to_n_listing"><span class="id" title="definition">up_to_n_listing</span></a> (<a id="n:1" class="idref" href="#n:1"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Lib.NatExtras.html#n:1"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0 =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> =&gt; <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#up_to_n_listing:2"><span class="id" title="definition">up_to_n_listing</span></a> <span class="id" title="var">n'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_to_n_listing_length" class="idref" href="#up_to_n_listing_length"><span class="id" title="lemma">up_to_n_listing_length</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="n:4" class="idref" href="#n:4"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#up_to_n_listing"><span class="id" title="definition">up_to_n_listing</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:4"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:4"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="up_to_n_full" class="idref" href="#up_to_n_full"><span class="id" title="lemma">up_to_n_full</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> <a id="i:6" class="idref" href="#i:6"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#i:6"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:6"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#up_to_n_listing"><span class="id" title="definition">up_to_n_listing</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:5"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">left</span> | | <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> <span class="id" title="var">n</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span> | <span class="id" title="var">lia</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Given a decidable property on naturals and a bound, finds the
  largest natural (not larger the than bound) for which the property holds.

</div>
<div class="code">
<span class="id" title="keyword">Equations</span> <a id="find_largest_nat_with_property_bounded" class="idref" href="#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a><br/>
&nbsp;&nbsp;(<a id="P:7" class="idref" href="#P:7"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">forall</span></a> <a id="n:8" class="idref" href="#n:8"><span class="id" title="binder"><span id="H:9" class="id">n</span></span></a><a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">,</span></a> <a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">Decision</span></a> <a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">(</span></a><a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">P</span></a> <a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">n</span></a><a id="H:9" class="idref" href="#H:9"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:10" class="idref" href="#bound:10"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
| <a class="idref" href="VLSM.Lib.NatExtras.html#P:12"><span class="id" title="variable">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">0</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
| <a class="idref" href="VLSM.Lib.NatExtras.html#P:14"><span class="id" title="variable">P</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:17"><span class="id" title="variable">n</span></a> =&gt; <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">P</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">else</span> <a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded:11"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <span class="id" title="var">P</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_largest_nat_with_property_bounded_Some" class="idref" href="#find_largest_nat_with_property_bounded_Some"><span class="id" title="lemma">find_largest_nat_with_property_bounded_Some</span></a><br/>
&nbsp;&nbsp;(<a id="P:18" class="idref" href="#P:18"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">forall</span></a> <a id="n:19" class="idref" href="#n:19"><span class="id" title="binder"><span id="H:20" class="id">n</span></span></a><a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">,</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">Decision</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">(</span></a><a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">P</span></a> <a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">n</span></a><a id="H:20" class="idref" href="#H:20"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:21" class="idref" href="#bound:21"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:21"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:22"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.Preamble.html#maximal_among"><span class="id" title="definition">maximal_among</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#lt"><span class="id" title="definition">lt</span></a> (<span class="id" title="keyword">fun</span> <a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a> =&gt; <a class="idref" href="VLSM.Lib.NatExtras.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:21"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:18"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:23"><span class="id" title="variable">n</span></a>) <a class="idref" href="VLSM.Lib.NatExtras.html#n:22"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bound</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_largest_nat_with_property_bounded</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">intros</span> []; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [= -&gt;]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">lia</span> | | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [[<span class="id" title="var">Hn</span> <span class="id" title="var">HPn</span>] <span class="id" title="var">Hmax</span>]; <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmax</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">bound</span>)); [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">bound</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span>); [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; [<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHbound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[] <span class="id" title="var">Hmax</span>]; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [] ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; [<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>] | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">bound</span>)); [<span class="id" title="tactic">subst</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [[] <span class="id" title="var">Hmax</span>]; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbound</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">bound</span>)); [<span class="id" title="tactic">subst</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> [] ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; [<span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_largest_nat_with_property_bounded_None" class="idref" href="#find_largest_nat_with_property_bounded_None"><span class="id" title="lemma">find_largest_nat_with_property_bounded_None</span></a><br/>
&nbsp;&nbsp;(<a id="P:24" class="idref" href="#P:24"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">forall</span></a> <a id="n:25" class="idref" href="#n:25"><span class="id" title="binder"><span id="H:26" class="id">n</span></span></a><a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">,</span></a> <a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">Decision</span></a> <a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">(</span></a><a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">P</span></a> <a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">n</span></a><a id="H:26" class="idref" href="#H:26"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:27" class="idref" href="#bound:27"><span class="id" title="binder">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:24"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:27"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="n:28" class="idref" href="#n:28"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.NatExtras.html#n:28"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:27"><span class="id" title="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:24"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:28"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">bound</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_largest_nat_with_property_bounded</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |] |].<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">Hmax</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">HP</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">bound</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHbound</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span> <span class="id" title="var">bound</span>; [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hmax</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHbound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmax</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Given a predicate on indices and naturals, a bound for each index, and a
  list of indices, finds first index in the list and largest natural (less than
  bound) corresponding to it for which the predicate holds.

</div>
<div class="code">
<span class="id" title="keyword">Equations</span> <a id="find_first_indexed_largest_nat_with_propery_bounded" class="idref" href="#find_first_indexed_largest_nat_with_propery_bounded"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> {<a id="index:29" class="idref" href="#index:29"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:30" class="idref" href="#P:30"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:29"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="RelDecision0:31" class="idref" href="#RelDecision0:31"><span class="id" title="binder">!</span></a><a id="RelDecision0:31" class="idref" href="#RelDecision0:31"><span class="id" title="binder">RelDecision</span></a> <a id="RelDecision0:31" class="idref" href="#RelDecision0:31"><span class="id" title="binder">P</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:32" class="idref" href="#bound:32"><span class="id" title="binder">bound</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:29"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:33" class="idref" href="#indices:33"><span class="id" title="binder">indices</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:29"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<span class="id" title="var">index</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
| <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
| <a class="idref" href="VLSM.Lib.NatExtras.html#P:38"><span class="id" title="variable">P</span></a>, <a class="idref" href="VLSM.Lib.NatExtras.html#bound:43"><span class="id" title="variable">bound</span></a>, <a class="idref" href="VLSM.Lib.NatExtras.html#i:48"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#indices':49"><span class="id" title="variable">indices'</span></a> <span class="id" title="keyword">with</span> <span class="id" title="definition">inspect</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">i</span>) (<span class="id" title="var">bound</span> <span class="id" title="var">i</span>)) =&gt;<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">eq</span></a><a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#Hdec:50"><span class="id" title="variable">Hdec</span></a> =&gt; <a class="idref" href="VLSM.Lib.NatExtras.html#find_first_indexed_largest_nat_with_propery_bounded:34"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> <span class="id" title="var">P</span> <span class="id" title="var">bound</span> <span class="id" title="var">indices'</span>;<br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:64"><span class="id" title="variable">n</span></a><a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">eq</span></a><a class="idref" href="VLSM.Lib.EquationsExtras.html#:::x_'eq:'_x"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#Hdec:57"><span class="id" title="variable">Hdec</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_first_indexed_largest_nat_with_propery_bounded_Some" class="idref" href="#find_first_indexed_largest_nat_with_propery_bounded_Some"><span class="id" title="lemma">find_first_indexed_largest_nat_with_propery_bounded_Some</span></a> {<a id="index:65" class="idref" href="#index:65"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:66" class="idref" href="#P:66"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:65"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="RelDecision0:67" class="idref" href="#RelDecision0:67"><span class="id" title="binder">!</span></a><a id="RelDecision0:67" class="idref" href="#RelDecision0:67"><span class="id" title="binder">RelDecision</span></a> <a id="RelDecision0:67" class="idref" href="#RelDecision0:67"><span class="id" title="binder">P</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:68" class="idref" href="#bound:68"><span class="id" title="binder">bound</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:65"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:69" class="idref" href="#indices:69"><span class="id" title="binder">indices</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:65"><span class="id" title="variable">index</span></a>) (<a id="Hindices:70" class="idref" href="#Hindices:70"><span class="id" title="binder">Hindices</span></a> : <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:69"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:71" class="idref" href="#i:71"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:65"><span class="id" title="variable">index</span></a>) (<a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_first_indexed_largest_nat_with_propery_bounded"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:66"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:68"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:69"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.NatExtras.html#i:71"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:72"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#i:71"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:69"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#P:66"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:71"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Lib.NatExtras.html#bound:68"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:71"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="prefix:73" class="idref" href="#prefix:73"><span class="id" title="binder">prefix</span></a> <a id="suffix:74" class="idref" href="#suffix:74"><span class="id" title="binder">suffix</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:65"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#indices:69"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prefix:73"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Lib.NatExtras.html#i:71"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#suffix:74"><span class="id" title="variable">suffix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="j:75" class="idref" href="#j:75"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:65"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.NatExtras.html#j:75"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prefix:73"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#P:66"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#j:75"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Lib.NatExtras.html#bound:68"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#j:75"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">indices</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_first_indexed_largest_nat_with_propery_bounded</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">inversion</span> 1 | <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hcontra</span>]; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcontra</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hindices</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hindices</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a>  (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) (<span class="id" title="var">bound</span> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">_n</span> |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hpos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span> <span class="id" title="var">_n</span>; <span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| <span class="id" title="var">_i</span> <span class="id" title="var">prefix</span>] ? <span class="id" title="var">Heq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHindices</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hposition</span> &amp; <span class="id" title="var">Hfirst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [| <span class="id" title="var">_a</span> <span class="id" title="var">prefix</span>] ? <span class="id" title="var">Heq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_list_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfirst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hposi</span> &amp; <span class="id" title="var">Hfirst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hi</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">prefix'</span> &amp; <span class="id" title="var">suffix</span> &amp; -&gt;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <span class="id" title="var">Hfirst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpos</span>; [| <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a> | <span class="id" title="tactic">left</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hi</span> &amp; <span class="id" title="var">Hposi</span> &amp; <span class="id" title="var">Hfirst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hi</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHindices</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">prefix</span> <span class="id" title="var">suffix</span> -&gt; <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hfirst</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_comm_cons"><span class="id" title="lemma">app_comm_cons</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="find_first_indexed_largest_nat_with_propery_bounded_None" class="idref" href="#find_first_indexed_largest_nat_with_propery_bounded_None"><span class="id" title="lemma">find_first_indexed_largest_nat_with_propery_bounded_None</span></a> {<a id="index:76" class="idref" href="#index:76"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="P:77" class="idref" href="#P:77"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:76"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) `{<a id="RelDecision0:78" class="idref" href="#RelDecision0:78"><span class="id" title="binder">!</span></a><a id="RelDecision0:78" class="idref" href="#RelDecision0:78"><span class="id" title="binder">RelDecision</span></a> <a id="RelDecision0:78" class="idref" href="#RelDecision0:78"><span class="id" title="binder">P</span></a>}<br/>
&nbsp;&nbsp;(<a id="bound:79" class="idref" href="#bound:79"><span class="id" title="binder">bound</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:76"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices:80" class="idref" href="#indices:80"><span class="id" title="binder">indices</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#index:76"><span class="id" title="variable">index</span></a>) (<a id="Hindices:81" class="idref" href="#Hindices:81"><span class="id" title="binder">Hindices</span></a> : <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:80"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.NatExtras.html#find_first_indexed_largest_nat_with_propery_bounded"><span class="id" title="definition">find_first_indexed_largest_nat_with_propery_bounded</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#P:77"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#bound:79"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:80"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:82" class="idref" href="#i:82"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:76"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.NatExtras.html#i:82"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#indices:80"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#P:77"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:82"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Lib.NatExtras.html#bound:79"><span class="id" title="variable">bound</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:82"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">indices</span>; <span class="id" title="var">simp</span> <span class="id" title="var">find_first_indexed_largest_nat_with_propery_bounded</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">inversion</span> 2 |] |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hindices</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hindices</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hp</span>; [<span class="id" title="var">done</span> | | |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnone</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_cons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span>  [-&gt; | <span class="id" title="var">Hi</span>]; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHindices</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#find_largest_nat_with_property_bounded"><span class="id" title="definition">find_largest_nat_with_property_bounded</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">a</span>) (<span class="id" title="var">bound</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hp</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmin</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hmin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHindices</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmin</span>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab27"></a><h2 class="section">Products of (natural) powers of integers</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_prod_powers" class="idref" href="#sec_prod_powers"><span class="id" title="section">sec_prod_powers</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:84" class="idref" href="#EqDecision0:84"><span class="id" title="binder">EqDecision</span></a> <a id="index:83" class="idref" href="#index:83"><span class="id" title="binder"><span id="EqDecision0:84" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;`(<a id="multipliers:85" class="idref" href="#multipliers:85"><span class="id" title="binder">multipliers</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#index:83"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  Despite being functions, <code>multipliers</code> are supposed to represent a list
  <code>[m_1, ..., m_n]</code> and <code>powers</code> are supposed to represent a list
  <code>[p_1, ..., p_n]</code>. The function computes <code>m_1^p_1 * ... * m_n^p_n</code>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="prod_powers_aux" class="idref" href="#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> (<a id="powers:86" class="idref" href="#powers:86"><span class="id" title="binder">powers</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:87" class="idref" href="#l:87"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.mul"><span class="id" title="definition">Z.mul</span></a> 1%<span class="id" title="var">Z</span> (<span class="id" title="definition">zip_with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.pow"><span class="id" title="definition">Z.pow</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#l:87"><span class="id" title="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="notation">∘</span> <a class="idref" href="VLSM.Lib.NatExtras.html#powers:86"><span class="id" title="variable">powers</span></a>) <a class="idref" href="VLSM.Lib.NatExtras.html#l:87"><span class="id" title="variable">l</span></a>)).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="prod_powers_aux_proper" class="idref" href="#prod_powers_aux_proper"><span class="id" title="instance">prod_powers_aux_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡ₚ)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span>) <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">_f</span> <span class="id" title="var">f</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">IHPermutation</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_aux_ext_forall" class="idref" href="#prod_powers_aux_ext_forall"><span class="id" title="lemma">prod_powers_aux_ext_forall</span></a> (<a id="powers1:88" class="idref" href="#powers1:88"><span class="id" title="binder">powers1</span></a> <a id="powers2:89" class="idref" href="#powers2:89"><span class="id" title="binder">powers2</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:90" class="idref" href="#l:90"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="i:91" class="idref" href="#i:91"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.NatExtras.html#i:91"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.NatExtras.html#l:90"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#powers1:88"><span class="id" title="variable">powers1</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:91"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#powers2:89"><span class="id" title="variable">powers2</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:91"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#powers1:88"><span class="id" title="variable">powers1</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#l:90"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#powers2:89"><span class="id" title="variable">powers2</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#l:90"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_ext_Forall"><span class="id" title="lemma">map_ext_Forall</span></a>, <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_aux_ge_1" class="idref" href="#prod_powers_aux_ge_1"><span class="id" title="lemma">prod_powers_aux_ge_1</span></a> (<a id="powers:92" class="idref" href="#powers:92"><span class="id" title="binder">powers</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:93" class="idref" href="#l:93"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmpos:95" class="idref" href="#Hmpos:95"><span class="id" title="binder">Hmpos</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="i:94" class="idref" href="#i:94"><span class="id" title="binder">i</span></a> =&gt; (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:94"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">Z</span>) <a class="idref" href="VLSM.Lib.NatExtras.html#l:93"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#powers:92"><span class="id" title="variable">powers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#l:93"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> 1)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hmpos</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_cons</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hma</span> <span class="id" title="var">Hmpos</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="var">powers</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> <span class="id" title="var">l</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">Hmpos</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_aux_gt" class="idref" href="#prod_powers_aux_gt"><span class="id" title="lemma">prod_powers_aux_gt</span></a> (<a id="powers:96" class="idref" href="#powers:96"><span class="id" title="binder">powers</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:97" class="idref" href="#l:97"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="n:98" class="idref" href="#n:98"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="Hn:99" class="idref" href="#Hn:99"><span class="id" title="binder">Hn</span></a> : (<a class="idref" href="VLSM.Lib.NatExtras.html#n:98"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> 0)%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;(<a id="Hmpos:101" class="idref" href="#Hmpos:101"><span class="id" title="binder">Hmpos</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="i:100" class="idref" href="#i:100"><span class="id" title="binder">i</span></a> =&gt; (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:100"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:98"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span>) <a class="idref" href="VLSM.Lib.NatExtras.html#l:97"><span class="id" title="variable">l</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<span class="id" title="keyword">fun</span> <a id="i:102" class="idref" href="#i:102"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Lib.NatExtras.html#powers:96"><span class="id" title="variable">powers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:102"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0) <a class="idref" href="VLSM.Lib.NatExtras.html#l:97"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#powers:96"><span class="id" title="variable">powers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#l:97"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:98"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hmpos</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 2 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<span class="id" title="var">powers</span> <span class="id" title="var">a</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> <span class="id" title="var">l</span>)%<span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_cons</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists_cons"><span class="id" title="lemma">Exists_cons</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Hma</span> <span class="id" title="var">Hmpos</span>] <span class="id" title="var">Hppos</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">powers</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">Z</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">nia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hppos</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">powers</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">pa</span>]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">pa</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">pa</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.pow_succ_r"><span class="id" title="lemma">Z.pow_succ_r</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#14ef112b66e341f773bd1e9d05816f43"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">pa</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> 1)%<span class="id" title="var">Z</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">nia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <span class="id" title="var">powers</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> 1)%<span class="id" title="var">Z</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">nia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux_ge_1"><span class="id" title="lemma">prod_powers_aux_ge_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmpos</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmpos</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>); <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fsfun_prod" class="idref" href="#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> (<a id="f:103" class="idref" href="#f:103"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> 0) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:103"><span class="id" title="variable">f</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:103"><span class="id" title="variable">f</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fsfun_prod_proper" class="idref" href="#fsfun_prod_proper"><span class="id" title="instance">fsfun_prod_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span>) <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux_proper"><span class="id" title="instance">prod_powers_aux_proper</span></a>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_proper"><span class="id" title="instance">fin_supp_proper</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fsfun_prod_zero" class="idref" href="#fsfun_prod_zero"><span class="id" title="lemma">fsfun_prod_zero</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fsfun_prod_succ" class="idref" href="#fsfun_prod_succ"><span class="id" title="lemma">fsfun_prod_succ</span></a> (<a id="f:104" class="idref" href="#f:104"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> 0) (<a id="n:105" class="idref" href="#n:105"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:104"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:105"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:105"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:104"><span class="id" title="variable">f</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_supp_in"><span class="id" title="lemma">succ_fsfun_supp_in</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_NoDup"><span class="id" title="lemma">fin_supp_NoDup</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">clear</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 2 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">list.NoDup_cons</span>, <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hnodup</span>] [&lt;- | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>, <span class="id" title="definition">assoc</span> <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#Z.pow_succ_r"><span class="id" title="lemma">Z.pow_succ_r</span></a>; <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux_ext_forall"><span class="id" title="lemma">prod_powers_aux_ext_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a>; [ |<span class="id" title="var">set_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">IHl</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux"><span class="id" title="definition">prod_powers_aux</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_supp_not_in"><span class="id" title="lemma">succ_fsfun_supp_not_in</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">f</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux_ext_forall"><span class="id" title="lemma">prod_powers_aux_ext_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a>; [| <span class="id" title="var">set_solver</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_delta" class="idref" href="#prod_powers_delta"><span class="id" title="lemma">prod_powers_delta</span></a> (<a id="n:106" class="idref" href="#n:106"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:106"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:106"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod_succ"><span class="id" title="lemma">fsfun_prod_succ</span></a>, <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod_zero"><span class="id" title="lemma">fsfun_prod_zero</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_gt" class="idref" href="#prod_powers_gt"><span class="id" title="lemma">prod_powers_gt</span></a> (<a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="Hn:108" class="idref" href="#Hn:108"><span class="id" title="binder">Hn</span></a> : (<a class="idref" href="VLSM.Lib.NatExtras.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">&gt;=</span></a> 0)%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;(<a id="Hmpos:110" class="idref" href="#Hmpos:110"><span class="id" title="binder">Hmpos</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:109" class="idref" href="#i:109"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:109"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:107"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:111" class="idref" href="#f:111"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> 0<span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:111"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:111"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:107"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_aux_gt"><span class="id" title="lemma">prod_powers_aux_gt</span></a>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmpos</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Heq</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hi</span> : <span class="id" title="var">i</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">left</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">j</span> <span class="id" title="var">Hj</span>] &amp; [= -&gt;] &amp; <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">bool_decide_unpack</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_elem_of_dom" class="idref" href="#prod_powers_elem_of_dom"><span class="id" title="lemma">prod_powers_elem_of_dom</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:112" class="idref" href="#f:112"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> 0) (<a id="i:113" class="idref" href="#i:113"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#i:113"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:112"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:113"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc"><span class="id" title="notation">|</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:112"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc"><span class="id" title="notation">)</span></a>%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#nat_fsfun_ind"><span class="id" title="lemma">nat_fsfun_ind</span></a> (<span class="id" title="keyword">fun</span> <a id="f:114" class="idref" href="#f:114"><span class="id" title="binder"><span id="f:116" class="id">f</span></span></a> =&gt; <span class="id" title="notation">forall</span> <a id="i:115" class="idref" href="#i:115"><span class="id" title="binder"><span id="i:117" class="id">i</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Lib.NatExtras.html#i:115"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:114"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#i:115"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc"><span class="id" title="notation">|</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f:114"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#5cd21895b4d5f127eb2c0acb80e8d6fc"><span class="id" title="notation">)</span></a>%<span class="id" title="var">Z</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hall</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">f</span> <span class="id" title="var">IHf</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod_succ"><span class="id" title="lemma">fsfun_prod_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_succ_fsfun"><span class="id" title="lemma">elem_of_succ_fsfun</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [&lt;- | <span class="id" title="var">Hi</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <span class="id" title="var">f</span>); <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHf</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.multipliers"><span class="id" title="variable">multipliers</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <span class="id" title="var">x</span>)%<span class="id" title="var">Z</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prod_powers_add" class="idref" href="#prod_powers_add"><span class="id" title="lemma">prod_powers_add</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f1:118" class="idref" href="#f1:118"><span class="id" title="binder">f1</span></a> <a id="f2:119" class="idref" href="#f2:119"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers.index"><span class="id" title="variable">index</span></a> 0<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f1:118"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f2:119"><span class="id" title="variable">f2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f1:118"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f2:119"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#nat_fsfun_ind"><span class="id" title="lemma">nat_fsfun_ind</span></a> (<span class="id" title="keyword">fun</span> <a id="f1:120" class="idref" href="#f1:120"><span class="id" title="binder"><span id="f1:122" class="id">f1</span></span></a> =&gt; <span class="id" title="notation">forall</span> <a id="f2:121" class="idref" href="#f2:121"><span class="id" title="binder"><span id="f2:123" class="id">f2</span></span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f1:120"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f2:121"><span class="id" title="variable">f2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f1:120"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#f2:121"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">Z</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">f1</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hall</span> <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>, <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod_zero"><span class="id" title="lemma">fsfun_prod_zero</span></a>, <span class="id" title="definition">left_id</span> <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">f1</span> <span class="id" title="var">Hall</span> <span class="id" title="var">f2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_succ_l"><span class="id" title="lemma">add_fsfun_succ_l</span></a>, !<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod_succ"><span class="id" title="lemma">fsfun_prod_succ</span></a>, <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.NatExtras.html#sec_prod_powers"><span class="id" title="section">sec_prod_powers</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab28"></a><h2 class="section">A Prime Factorization Result</h2>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="prime_decision" class="idref" href="#prime_decision"><span class="id" title="instance">prime_decision</span></a> : <span class="id" title="notation">forall</span> <a id="n:124" class="idref" href="#n:124"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:124"><span class="id" title="variable">n</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime_dec"><span class="id" title="definition">prime_dec</span></a>.<br/>

<br/>
</div>

<div class="doc">
The type of prime numbers. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="primes" class="idref" href="#primes"><span class="id" title="definition">primes</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="definition">dsig</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="primes_inhabited" class="idref" href="#primes_inhabited"><span class="id" title="instance">primes_inhabited</span></a> : <span class="id" title="class">Inhabited</span> <a class="idref" href="VLSM.Lib.NatExtras.html#primes"><span class="id" title="definition">primes</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="constructor">populate</span> (<span class="id" title="definition">dexist</span> 2%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime_2"><span class="id" title="lemma">prime_2</span></a>).<br/>

<br/>
</div>

<div class="doc">
  Compute the product of powers of primes represented by <code>powers</code>.
  Since there are only finitely many of them, the result is well-defined.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="prod_primes_powers" class="idref" href="#prod_primes_powers"><span class="id" title="definition">prod_primes_powers</span></a> (<a id="powers:125" class="idref" href="#powers:125"><span class="id" title="binder">powers</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#primes"><span class="id" title="definition">primes</span></a> 0) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.NatExtras.html#fsfun_prod"><span class="id" title="definition">fsfun_prod</span></a> (<span class="id" title="keyword">fun</span> <a id="p:126" class="idref" href="#p:126"><span class="id" title="binder">p</span></a> : <a class="idref" href="VLSM.Lib.NatExtras.html#primes"><span class="id" title="definition">primes</span></a> =&gt; <span class="id" title="notation">`</span> <a class="idref" href="VLSM.Lib.NatExtras.html#p:126"><span class="id" title="variable">p</span></a>) <a class="idref" href="VLSM.Lib.NatExtras.html#powers:125"><span class="id" title="variable">powers</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_prime_divide_prime" class="idref" href="#not_prime_divide_prime"><span class="id" title="lemma">not_prime_divide_prime</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="n:127" class="idref" href="#n:127"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.NatExtras.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="q:129" class="idref" href="#q:129"><span class="id" title="binder">q</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#q:129"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:127"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:127"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#q:129"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#m:128"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">P</span> := <span class="id" title="keyword">fun</span> <a id="n:130" class="idref" href="#n:130"><span class="id" title="binder"><span id="n:133" class="id">n</span></span></a> =&gt;  <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:131" class="idref" href="#m:131"><span class="id" title="binder"><span id="m:134" class="id">m</span></span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#m:131"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="q:132" class="idref" href="#q:132"><span class="id" title="binder"><span id="q:135" class="id">q</span></span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#q:132"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:130"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:130"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="VLSM.Lib.NatExtras.html#q:132"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#m:131"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">Z</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="notation">forall</span> <a id="n:136" class="idref" href="#n:136"><span class="id" title="binder"><span id="n:137" class="id">n</span></span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><span class="id" title="notation">,</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:136"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">P</span> <a class="idref" href="VLSM.Lib.NatExtras.html#n:136"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn1</span> <span class="id" title="var">Hnp</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Wf_Z.html#Zlt_lower_bound_ind"><span class="id" title="lemma">Zlt_lower_bound_ind</span></a>; <span class="id" title="tactic">subst</span> <span class="id" title="var">P</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hind</span> <span class="id" title="var">Hn2</span> <span class="id" title="var">Hnp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#not_prime_divide"><span class="id" title="lemma">not_prime_divide</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p</span> &amp; [<span class="id" title="var">Hp1</span> <span class="id" title="var">Hpn</span>] &amp; <span class="id" title="var">q</span> &amp; -&gt;); [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hnp</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">nia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hind</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> &amp; <span class="id" title="var">Hmprime</span> &amp; <span class="id" title="var">q'</span> &amp; <span class="id" title="var">Hq'</span> &amp; -&gt;); [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <span class="id" title="var">q'</span>)%<span class="id" title="var">Z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">nia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="primes_factorization" class="idref" href="#primes_factorization"><span class="id" title="lemma">primes_factorization</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="n:138" class="idref" href="#n:138"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.NatExtras.html#n:138"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1)%<span class="id" title="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="ps:139" class="idref" href="#ps:139"><span class="id" title="binder">ps</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#primes"><span class="id" title="definition">primes</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#ps:139"><span class="id" title="variable">ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#n:138"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_primes_powers"><span class="id" title="definition">prod_primes_powers</span></a> <a class="idref" href="VLSM.Lib.NatExtras.html#ps:139"><span class="id" title="variable">ps</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">H_n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hn</span> : (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">n</span>)%<span class="id" title="var">Z</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H_n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">Hn</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Wf_Z.html#Zlt_lower_bound_ind"><span class="id" title="lemma">Zlt_lower_bound_ind</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">Hind</span> <span class="id" title="var">Hn2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#prime"><span class="id" title="inductive">prime</span></a> <span class="id" title="var">n</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hnp</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a> (<span class="id" title="definition">dexist</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_primes_powers"><span class="id" title="definition">prod_primes_powers</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_delta"><span class="id" title="lemma">prod_powers_delta</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_not_nil</span>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_delta_nat_fsfun"><span class="id" title="lemma">elem_of_delta_nat_fsfun</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.Znumtheory.html#not_prime_divide"><span class="id" title="lemma">not_prime_divide</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p</span> &amp; [<span class="id" title="var">Hp1</span> <span class="id" title="var">Hpn</span>] &amp; <span class="id" title="var">q</span> &amp; -&gt;); [| <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hq1</span> : (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">q</span>)%<span class="id" title="var">Z</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hqn</span> : (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">*</span></a> <span class="id" title="var">p</span>)%<span class="id" title="var">Z</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">nia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">ps</span> &amp; <span class="id" title="var">Hdomps</span> &amp; -&gt;); [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hind</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">qs</span> &amp; <span class="id" title="var">Hdomqs</span> &amp; -&gt;); [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <span class="id" title="var">qs</span> <span class="id" title="var">ps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#not_null_element"><span class="id" title="definition">not_null_element</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdomps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">Hdomps</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">elem_of_not_nil</span>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_add_fsfun"><span class="id" title="lemma">elem_of_add_fsfun</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.NatExtras.html#prod_powers_add"><span class="id" title="lemma">prod_powers_add</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
