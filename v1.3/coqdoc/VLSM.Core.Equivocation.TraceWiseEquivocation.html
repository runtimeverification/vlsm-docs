<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Reals.Rdefinitions.html#"><span class="id" title="library">Rdefinitions</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">StdppListSet</span></a> <a class="idref" href="VLSM.Lib.Measurable.html#"><span class="id" title="library">Measurable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">StdppExtras</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab204"></a><h1 class="section">Core: VLSM Trace-Wise Equivocation</h1>


<div class="paragraph"> </div>

  In this module, we define a more precise notion of message equivocation,
  based on analyzing (all) traces leading to a state. Although in some cases
  we might be able to actually compute this, its purpose is more to identify
  the ideal notion of detectable equivocation which would be used to
  establish the connection between limited (observed) message equivocation
  and limited state equivocation.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_tracewise_equivocation" class="idref" href="#sec_tracewise_equivocation"><span class="id" title="section">sec_tracewise_equivocation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:2" class="idref" href="#EqDecision0:2"><span class="id" title="binder">EqDecision</span></a> <a id="message:1" class="idref" href="#message:1"><span class="id" title="binder"><span id="EqDecision0:2" class="id">message</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision1:4" class="idref" href="#EqDecision1:4"><span class="id" title="binder">EqDecision</span></a> <a id="index:3" class="idref" href="#index:3"><span class="id" title="binder"><span id="EqDecision1:4" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:5" class="idref" href="#IM:5"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#index:3"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">forall</span></a> <a id="i:6" class="idref" href="#i:6"><span class="id" title="binder"><span id="H:7" class="id">i</span></span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">:</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">index</span></a><a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">,</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">(</span></a><a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">IM</span></a> <a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">i</span></a><a id="H:7" class="idref" href="#H:7"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">forall</span></a> <a id="i:8" class="idref" href="#i:8"><span class="id" title="binder"><span id="H0:9" class="id">i</span></span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">:</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">index</span></a><a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">,</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">(</span></a><a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">IM</span></a> <a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">i</span></a><a id="H0:9" class="idref" href="#H0:9"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision2:11" class="idref" href="#EqDecision2:11"><span class="id" title="binder">EqDecision</span></a> <a id="validator:10" class="idref" href="#validator:10"><span class="id" title="binder"><span id="EqDecision2:11" class="id">validator</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="threshold:12" class="idref" href="#threshold:12"><span class="id" title="binder">threshold</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>)<br/>
&nbsp;&nbsp;`{<a id="Hmeasurable_V:13" class="idref" href="#Hmeasurable_V:13"><span class="id" title="binder">Hmeasurable_V</span></a> : <a class="idref" href="VLSM.Lib.Measurable.html#Measurable"><span class="id" title="class">Measurable</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#validator:10"><span class="id" title="variable">validator</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:23" class="idref" href="#H8:23"><span class="id" title="binder">FinSet</span></a> <a id="H8:23" class="idref" href="#H8:23"><span class="id" title="binder">validator</span></a> <a id="Cv:14" class="idref" href="#Cv:14"><span class="id" title="binder"><span id="H8:23" class="id">Cv</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="ReachableThreshold0:24" class="idref" href="#ReachableThreshold0:24"><span class="id" title="binder">!</span></a><a id="ReachableThreshold0:24" class="idref" href="#ReachableThreshold0:24"><span class="id" title="binder">ReachableThreshold</span></a> <a id="ReachableThreshold0:24" class="idref" href="#ReachableThreshold0:24"><span class="id" title="binder">validator</span></a> <a id="ReachableThreshold0:24" class="idref" href="#ReachableThreshold0:24"><span class="id" title="binder">Cv</span></a> <a id="ReachableThreshold0:24" class="idref" href="#ReachableThreshold0:24"><span class="id" title="binder">threshold</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H9:26" class="idref" href="#H9:26"><span class="id" title="binder">finite.Finite</span></a> <a id="H9:26" class="idref" href="#H9:26"><span class="id" title="binder">validator</span></a>}<br/>
&nbsp;&nbsp;(<a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#validator:10"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#index:3"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:28" class="idref" href="#sender:28"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#message:1"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#validator:10"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  An item is equivocating in a trace containing it if it receives
  a message which has not been previously sent in that trace.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="item_equivocating_in_trace" class="idref" href="#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a><br/>
&nbsp;&nbsp;(<a id="item:29" class="idref" href="#item:29"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:30" class="idref" href="#tr:30"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="definition">from_option</span> (<span class="id" title="keyword">fun</span> <a id="m:31" class="idref" href="#m:31"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:31"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:30"><span class="id" title="variable">tr</span></a>) <span class="id" title="notation">False</span> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item:29"><span class="id" title="variable">item</span></a>).<br/>

<br/>
#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="item_equivocating_in_trace_dec" class="idref" href="#item_equivocating_in_trace_dec"><span class="id" title="instance">item_equivocating_in_trace_dec</span></a> : <span class="id" title="class">RelDecision</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">input</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="var">itauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Given a trace, we can precisely identify the validators equivocating
  in that trace based on identifying every <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocating_senders_in_trace" class="idref" href="#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a><br/>
&nbsp;&nbsp;(<a id="tr:32" class="idref" href="#tr:32"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="decompositions:33" class="idref" href="#decompositions:33"><span class="id" title="binder">decompositions</span></a> := <a class="idref" href="VLSM.Lib.ListExtras.html#one_element_decompositions"><span class="id" title="definition">one_element_decompositions</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:32"><span class="id" title="variable">tr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="test:36" class="idref" href="#test:36"><span class="id" title="binder">test</span></a> := (<span class="id" title="keyword">fun</span> <a id="d:34" class="idref" href="#d:34"><span class="id" title="binder">d</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#d:34"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">pre</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a> <span class="id" title="var">item</span> <span class="id" title="var">pre</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="equivocating_items:39" class="idref" href="#equivocating_items:39"><span class="id" title="binder">equivocating_items</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="d:37" class="idref" href="#d:37"><span class="id" title="binder">d</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#d:37"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">item</span> <span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">filter</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#test:36"><span class="id" title="variable">test</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#decompositions:33"><span class="id" title="variable">decompositions</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="equivocating_messages:40" class="idref" href="#equivocating_messages:40"><span class="id" title="binder">equivocating_messages</span></a> := <span class="id" title="definition">omap</span> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_items:39"><span class="id" title="variable">equivocating_items</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="equivocating_senders:41" class="idref" href="#equivocating_senders:41"><span class="id" title="binder">equivocating_senders</span></a> := <span class="id" title="definition">omap</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_messages:40"><span class="id" title="variable">equivocating_messages</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">remove_dups</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders:41"><span class="id" title="variable">equivocating_senders</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_input_no_equivocating_senders_in_trace" class="idref" href="#no_input_no_equivocating_senders_in_trace"><span class="id" title="lemma">no_input_no_equivocating_senders_in_trace</span></a> <a id="tr:42" class="idref" href="#tr:42"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;(<a id="Hinput_none:44" class="idref" href="#Hinput_none:44"><span class="id" title="binder">Hinput_none</span></a> : <span class="id" title="notation">forall</span> <a id="item:43" class="idref" href="#item:43"><span class="id" title="binder">item</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item:43"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:42"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item:43"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:42"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_nil_inv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_remove_dups</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_omap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">msg</span> [<span class="id" title="var">Hmsg</span> <span class="id" title="var">Hv</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_omap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> <span class="id" title="var">Hmsg</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [((<span class="id" title="var">pre</span>, <span class="id" title="var">_item</span>), <span class="id" title="var">_suf</span>) [<span class="id" title="var">Heq_item</span> <span class="id" title="var">Hitem</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a>, <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_one_element_decompositions"><span class="id" title="lemma">elem_of_one_element_decompositions</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span> <span class="id" title="var">_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinput_none</span> <span class="id" title="var">item</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hinput_none</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_equivocating_senders_in_trace" class="idref" href="#elem_of_equivocating_senders_in_trace"><span class="id" title="lemma">elem_of_equivocating_senders_in_trace</span></a><br/>
&nbsp;&nbsp;(<a id="tr:45" class="idref" href="#tr:45"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="v:46" class="idref" href="#v:46"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:46"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:45"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:47" class="idref" href="#m:47"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:46"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:47"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:45"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_remove_dups</span>, <span class="id" title="lemma">elem_of_list_omap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_list_omap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">im</span> [[<span class="id" title="var">item</span> [[((<span class="id" title="var">prefix</span>, <span class="id" title="var">_item</span>), <span class="id" title="var">suffix</span>) [<span class="id" title="var">Heq_item</span> <span class="id" title="var">Hfilter</span>]] <span class="id" title="var">Hinput</span>]] <span class="id" title="var">Hsender</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfilter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfilter</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heqv</span> <span class="id" title="var">Hdec</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">im</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">prefix</span>, <span class="id" title="var">item</span>, <span class="id" title="var">suffix</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_one_element_decompositions"><span class="id" title="lemma">elem_of_one_element_decompositions</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdec</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hinput</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">im</span> [<span class="id" title="var">Hsender</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">item</span> [<span class="id" title="var">suffix</span> [<span class="id" title="var">Heq_tr</span> [<span class="id" title="var">Hinput</span> <span class="id" title="var">Heqv</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">im</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">prefix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">suffix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#item_equivocating_in_trace"><span class="id" title="definition">item_equivocating_in_trace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hinput</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_one_element_decompositions"><span class="id" title="lemma">elem_of_one_element_decompositions</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocating_senders_in_trace_prefix" class="idref" href="#equivocating_senders_in_trace_prefix"><span class="id" title="lemma">equivocating_senders_in_trace_prefix</span></a> <a id="prefix:48" class="idref" href="#prefix:48"><span class="id" title="binder">prefix</span></a> <a id="suffix:49" class="idref" href="#suffix:49"><span class="id" title="binder">suffix</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#prefix:48"><span class="id" title="variable">prefix</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#prefix:48"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#suffix:49"><span class="id" title="variable">suffix</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#elem_of_equivocating_senders_in_trace"><span class="id" title="lemma">elem_of_equivocating_senders_in_trace</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hm</span> <span class="id" title="var">Heqv</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace_prefix"><span class="id" title="lemma">equivocation_in_trace_prefix</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  An alternative definition for detecting equivocation in a certain state,
  which checks that for <i>every</i> valid trace (using any messages) reaching
  that state there exists an equivocation involving the given validator.

<div class="paragraph"> </div>

  Notably, this definition is not generally equivalent to <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a></span>,
  which does not verify the order in which receiving and sending occurred.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="is_equivocating_tracewise" class="idref" href="#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a><br/>
&nbsp;&nbsp;(<a id="s:50" class="idref" href="#s:50"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:51" class="idref" href="#v:51"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:52" class="idref" href="#j:52"><span class="id" title="binder">j</span></a> := <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:51"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:53" class="idref" href="#is:53"><span class="id" title="binder">is</span></a> <a id="tr:54" class="idref" href="#tr:54"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;(<a id="Hpr:55" class="idref" href="#Hpr:55"><span class="id" title="binder">Hpr</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is:53"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:50"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:54"><span class="id" title="variable">tr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:56" class="idref" href="#m:56"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:56"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:51"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="prefix:57" class="idref" href="#prefix:57"><span class="id" title="binder">prefix</span></a> <a id="elem:58" class="idref" href="#elem:58"><span class="id" title="binder">elem</span></a> <a id="suffix:59" class="idref" href="#suffix:59"><span class="id" title="binder">suffix</span></a> (<a id="lprefix:60" class="idref" href="#lprefix:60"><span class="id" title="binder">lprefix</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is:53"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#prefix:57"><span class="id" title="variable">prefix</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:54"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#prefix:57"><span class="id" title="variable">prefix</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#elem:58"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#suffix:59"><span class="id" title="variable">suffix</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#elem:58"><span class="id" title="variable">elem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:56"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#j:52"><span class="id" title="variable">j</span></a>) (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#lprefix:60"><span class="id" title="variable">lprefix</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#j:52"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:56"><span class="id" title="variable">m</span></a>.<br/>

<br/>
</div>

<div class="doc">
  A possibly friendlier version using a previously defined primitive.
  Note that this definition does not require the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="record">HasBeenSentCapability</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="is_equivocating_tracewise_no_has_been_sent" class="idref" href="#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:61" class="idref" href="#s:61"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:62" class="idref" href="#v:62"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:63" class="idref" href="#j:63"><span class="id" title="binder">j</span></a> := <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:62"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:64" class="idref" href="#is:64"><span class="id" title="binder">is</span></a> <a id="tr:65" class="idref" href="#tr:65"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;(<a id="Htr:66" class="idref" href="#Htr:66"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is:64"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:61"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:65"><span class="id" title="variable">tr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="m:67" class="idref" href="#m:67"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.message"><span class="id" title="variable">message</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:67"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:62"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#m:67"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:65"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_equivocating_tracewise_no_has_been_sent_equivocating_senders_in_trace" class="idref" href="#is_equivocating_tracewise_no_has_been_sent_equivocating_senders_in_trace"><span class="id" title="lemma">is_equivocating_tracewise_no_has_been_sent_equivocating_senders_in_trace</span></a><br/>
&nbsp;&nbsp;(<a id="s:68" class="idref" href="#s:68"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:69" class="idref" href="#v:69"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:68"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:69"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:70" class="idref" href="#is:70"><span class="id" title="binder">is</span></a> <a id="tr:71" class="idref" href="#tr:71"><span class="id" title="binder">tr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Htr:72" class="idref" href="#Htr:72"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is:70"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:68"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:71"><span class="id" title="variable">tr</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:69"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_senders_in_trace"><span class="id" title="definition">equivocating_senders_in_trace</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#tr:71"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heqv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#elem_of_equivocating_senders_in_trace"><span class="id" title="lemma">elem_of_equivocating_senders_in_trace</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If any message can only be emitted by a component corresponding to its sender
  (<span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a></span>), then <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a></span> is equivalent
  to <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="is_equivocating_tracewise_no_has_been_sent_iff" class="idref" href="#is_equivocating_tracewise_no_has_been_sent_iff"><span class="id" title="lemma">is_equivocating_tracewise_no_has_been_sent_iff</span></a><br/>
&nbsp;&nbsp;(<a id="Hsender_safety:73" class="idref" href="#Hsender_safety:73"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;<a id="s:74" class="idref" href="#s:74"><span class="id" title="binder">s</span></a> <a id="v:75" class="idref" href="#v:75"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:75"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:74"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:75"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a>, <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_in_trace"><span class="id" title="definition">equivocation_in_trace</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">forall_proper</span>; <span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">forall_proper</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">forall_proper</span>; <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">exist_proper</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#and_proper_l"><span class="id" title="lemma">and_proper_l</span></a>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">exist_proper</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">prefix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">exist_proper</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">exist_proper</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#and_proper_l"><span class="id" title="lemma">and_proper_l</span></a>; <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#and_iff_compat_l"><span class="id" title="lemma">and_iff_compat_l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#not_iff_compat"><span class="id" title="lemma">not_iff_compat</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="keyword">is</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">prefix</span>) <span class="id" title="var">prefix</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="VLSM.Core.Equivocation.html#oracle_initial_trace_update"><span class="id" title="lemma">oracle_initial_trace_update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">vlsm</span> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#free_composite_has_been_sent_stepwise_props"><span class="id" title="lemma">free_composite_has_been_sent_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span>  <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_is_equivocating_tracewise_char" class="idref" href="#transition_is_equivocating_tracewise_char"><span class="id" title="lemma">transition_is_equivocating_tracewise_char</span></a><br/>
&nbsp;&nbsp;<a id="l:76" class="idref" href="#l:76"><span class="id" title="binder">l</span></a> <a id="s:77" class="idref" href="#s:77"><span class="id" title="binder">s</span></a> <a id="om:78" class="idref" href="#om:78"><span class="id" title="binder">om</span></a> <a id="s':79" class="idref" href="#s':79"><span class="id" title="binder">s'</span></a> <a id="om':80" class="idref" href="#om':80"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:81" class="idref" href="#Ht:81"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#l:76"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:77"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:78"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':79"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om':80"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:82" class="idref" href="#v:82"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':79"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:82"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:77"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:82"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:78"><span class="id" title="variable">om</span></a> <span class="id" title="notation">≫=</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:82"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">om</span> <span class="id" title="notation">≫=</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">right</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heqv</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from_to"><span class="id" title="lemma">extend_right_finite_trace_from_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Htr'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heqv</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr'</span> <span class="id" title="var">Hinit</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hv</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">item</span> [<span class="id" title="var">suffix</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Heqv</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">exists</span> <span class="id" title="var">prefix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">suffix</span> <span class="id" title="var">suffix'</span> <span class="id" title="var">item'</span> <span class="id" title="var">Heqsuffix</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_inj_tail"><span class="id" title="lemma">app_inj_tail</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">om</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>, <span class="id" title="var">suffix'</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suffix'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">prefix</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suffix'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_inj_tail"><span class="id" title="lemma">app_inj_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_receiving_no_sender_reflects_is_equivocating_tracewise" class="idref" href="#transition_receiving_no_sender_reflects_is_equivocating_tracewise"><span class="id" title="lemma">transition_receiving_no_sender_reflects_is_equivocating_tracewise</span></a><br/>
&nbsp;&nbsp;<a id="l:83" class="idref" href="#l:83"><span class="id" title="binder">l</span></a> <a id="s:84" class="idref" href="#s:84"><span class="id" title="binder">s</span></a> <a id="om:85" class="idref" href="#om:85"><span class="id" title="binder">om</span></a> <a id="s':86" class="idref" href="#s':86"><span class="id" title="binder">s'</span></a> <a id="om':87" class="idref" href="#om':87"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:88" class="idref" href="#Ht:88"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#l:83"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:84"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:85"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':86"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om':87"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno_sender:89" class="idref" href="#Hno_sender:89"><span class="id" title="binder">Hno_sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:85"><span class="id" title="variable">om</span></a> <span class="id" title="notation">≫=</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:90" class="idref" href="#v:90"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':86"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:90"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:84"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:90"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hs'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#transition_is_equivocating_tracewise_char"><span class="id" title="lemma">transition_is_equivocating_tracewise_char</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">v</span> <span class="id" title="var">Hs'</span>); [| <span class="id" title="tactic">congruence</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="is_equivocating_statewise_implies_is_equivocating_tracewise" class="idref" href="#is_equivocating_statewise_implies_is_equivocating_tracewise"><span class="id" title="lemma">is_equivocating_statewise_implies_is_equivocating_tracewise</span></a> <a id="s:91" class="idref" href="#s:91"><span class="id" title="binder">s</span></a> <a id="v:92" class="idref" href="#v:92"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating_statewise"><span class="id" title="definition">is_equivocating_statewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:91"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:92"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise"><span class="id" title="definition">is_equivocating_tracewise</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:91"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:92"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">j</span> [<span class="id" title="var">m</span> [<span class="id" title="var">Hm</span> [<span class="id" title="var">Hnbs_m</span> <span class="id" title="var">Hbr_m</span>]]]] <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_finite_valid_trace_init_to_projection"><span class="id" title="lemma">preloaded_finite_valid_trace_init_to_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htrj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlstj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last_pstate"><span class="id" title="lemma">finite_valid_trace_from_to_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlstj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_received"><span class="id" title="lemma">proper_received</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbr_m</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hbr_m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htrj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbr_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hbr_m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemj</span> [<span class="id" title="var">Hitemj</span> <span class="id" title="var">Hinput</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#finite_trace_projection_list_in_rev"><span class="id" title="lemma">finite_trace_projection_list_in_rev</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemj</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Heq_input</span> <span class="id" title="var">_</span>]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinput</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq_input</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinput</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq_input</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">suffix</span> <span class="id" title="var">Heq_tr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">prefix</span>, <span class="id" title="var">item</span>, <span class="id" title="var">suffix</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hnbs_m</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_finite_valid_trace_init_to_projection"><span class="id" title="lemma">preloaded_finite_valid_trace_init_to_projection</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htrv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;, <a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_finite_valid_trace_from_to_projection"><span class="id" title="lemma">preloaded_finite_valid_trace_from_to_projection</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;, <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_last"><span class="id" title="lemma">finite_valid_trace_from_to_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection_finite_trace_project_app"><span class="id" title="lemma">VLSMTotalProjection.VLSM_projection_finite_trace_project_app</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">Htrv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a>, (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Htrv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htrv</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htrv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hbs_m</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">Hnbs_m</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hnbs_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hbs_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#in_futures_preserving_oracle_from_stepwise"><span class="id" title="lemma">in_futures_preserving_oracle_from_stepwise</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_stepwise_props"><span class="id" title="method">has_been_sent_stepwise_props</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="initial_state_not_is_equivocating_tracewise" class="idref" href="#initial_state_not_is_equivocating_tracewise"><span class="id" title="lemma">initial_state_not_is_equivocating_tracewise</span></a><br/>
&nbsp;&nbsp;(<a id="s:93" class="idref" href="#s:93"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:94" class="idref" href="#Hs:94"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:93"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="v:95" class="idref" href="#v:95"><span class="id" title="binder">v</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:93"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:95"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heqv</span> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Heqv</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span> [<span class="id" title="var">_</span> [<span class="id" title="var">prefix</span> [<span class="id" title="var">suf</span> [<span class="id" title="var">item</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">_</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">prefix</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H10:96" class="idref" href="#H10:96"><span class="id" title="binder">RelDecision</span></a> <a id="H10:96" class="idref" href="#H10:96"><span class="id" title="binder">_</span></a> <a id="H10:96" class="idref" href="#H10:96"><span class="id" title="binder">_</span></a> <a id="H10:96" class="idref" href="#H10:96"><span class="id" title="binder">is_equivocating_tracewise_no_has_been_sent</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="equivocation_dec_tracewise" class="idref" href="#equivocation_dec_tracewise"><span class="id" title="instance">equivocation_dec_tracewise</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#BasicEquivocation"><span class="id" title="class">BasicEquivocation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.Cv"><span class="id" title="variable">Cv</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.threshold"><span class="id" title="variable">threshold</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#state_validators"><span class="id" title="method">state_validators</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="definition">list_to_set</span> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.validator"><span class="id" title="variable">validator</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#is_equivocating"><span class="id" title="method">is_equivocating</span></a> := <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocating_validators_is_equivocating_tracewise_iff" class="idref" href="#equivocating_validators_is_equivocating_tracewise_iff"><span class="id" title="lemma">equivocating_validators_is_equivocating_tracewise_iff</span></a> <a id="s:97" class="idref" href="#s:97"><span class="id" title="binder">s</span></a> <a id="v:98" class="idref" href="#v:98"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:98"><span class="id" title="variable">v</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:97"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#is_equivocating_tracewise_no_has_been_sent"><span class="id" title="definition">is_equivocating_tracewise_no_has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:97"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#v:98"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_filter</span>, <span class="id" title="lemma">elem_of_list_to_set</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span> (<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocating_validators_empty_in_initial_state" class="idref" href="#equivocating_validators_empty_in_initial_state"><span class="id" title="lemma">equivocating_validators_empty_in_initial_state</span></a><br/>
&nbsp;&nbsp;(<a id="s:99" class="idref" href="#s:99"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="His:100" class="idref" href="#His:100"><span class="id" title="binder">His</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:99"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:99"><span class="id" title="variable">s</span></a> <span class="id" title="notation">≡@{</span><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.Cv"><span class="id" title="variable">Cv</span></a><span class="id" title="notation">}</span> <span class="id" title="notation">∅</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_validators_is_equivocating_tracewise_iff"><span class="id" title="lemma">equivocating_validators_is_equivocating_tracewise_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#initial_state_not_is_equivocating_tracewise"><span class="id" title="lemma">initial_state_not_is_equivocating_tracewise</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">v</span> := <span class="id" title="var">v</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">HV</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">HV</span>; <span class="id" title="tactic">apply</span> <span class="id" title="method">not_elem_of_empty</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="input_valid_transition_receiving_no_sender_reflects_equivocating_validators" class="idref" href="#input_valid_transition_receiving_no_sender_reflects_equivocating_validators"><span class="id" title="lemma">input_valid_transition_receiving_no_sender_reflects_equivocating_validators</span></a><br/>
&nbsp;&nbsp;<a id="l:101" class="idref" href="#l:101"><span class="id" title="binder">l</span></a> <a id="s:102" class="idref" href="#s:102"><span class="id" title="binder">s</span></a> <a id="om:103" class="idref" href="#om:103"><span class="id" title="binder">om</span></a> <a id="s':104" class="idref" href="#s':104"><span class="id" title="binder">s'</span></a> <a id="om':105" class="idref" href="#om':105"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:106" class="idref" href="#Ht:106"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#l:101"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:102"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:103"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':104"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om':105"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno_sender:107" class="idref" href="#Hno_sender:107"><span class="id" title="binder">Hno_sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:103"><span class="id" title="variable">om</span></a> <span class="id" title="notation">≫=</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':104"><span class="id" title="variable">s'</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocating_validators"><span class="id" title="method">equivocating_validators</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:102"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span> <span class="id" title="var">Hs'</span>%<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_validators_is_equivocating_tracewise_iff"><span class="id" title="lemma">equivocating_validators_is_equivocating_tracewise_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_validators_is_equivocating_tracewise_iff"><span class="id" title="lemma">equivocating_validators_is_equivocating_tracewise_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#transition_receiving_no_sender_reflects_is_equivocating_tracewise"><span class="id" title="lemma">transition_receiving_no_sender_reflects_is_equivocating_tracewise</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="initial_state_equivocators_weight" class="idref" href="#initial_state_equivocators_weight"><span class="id" title="lemma">initial_state_equivocators_weight</span></a><br/>
&nbsp;&nbsp;(<a id="s:108" class="idref" href="#s:108"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:109" class="idref" href="#Hs:109"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:108"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:108"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#equivocating_validators_empty_in_initial_state"><span class="id" title="lemma">equivocating_validators_empty_in_initial_state</span></a>, <span class="id" title="lemma">elements_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Measurable.html#sum_weights_empty"><span class="id" title="lemma">sum_weights_empty</span></a>, <span class="id" title="lemma">elements_empty_iff</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_transition_no_sender_equivocators_weight" class="idref" href="#composite_transition_no_sender_equivocators_weight"><span class="id" title="lemma">composite_transition_no_sender_equivocators_weight</span></a><br/>
&nbsp;&nbsp;<a id="l:110" class="idref" href="#l:110"><span class="id" title="binder">l</span></a> <a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> <a id="om:112" class="idref" href="#om:112"><span class="id" title="binder">om</span></a> <a id="s':113" class="idref" href="#s':113"><span class="id" title="binder">s'</span></a> <a id="om':114" class="idref" href="#om':114"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:115" class="idref" href="#Ht:115"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#l:110"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:111"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:112"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':113"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om':114"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno_sender:116" class="idref" href="#Hno_sender:116"><span class="id" title="binder">Hno_sender</span></a> : <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#om:112"><span class="id" title="variable">om</span></a> <span class="id" title="notation">≫=</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;: (<a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s':113"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#equivocation_fault"><span class="id" title="method">equivocation_fault</span></a> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#s:111"><span class="id" title="variable">s</span></a>)%<span class="id" title="var">R</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#input_valid_transition_receiving_no_sender_reflects_equivocating_validators"><span class="id" title="lemma">input_valid_transition_receiving_no_sender_reflects_equivocating_validators</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hno_sender</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#incl_equivocating_validators_equivocation_fault"><span class="id" title="lemma">incl_equivocating_validators_equivocation_fault</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocation.TraceWiseEquivocation.html#sec_tracewise_equivocation"><span class="id" title="section">sec_tracewise_equivocation</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
