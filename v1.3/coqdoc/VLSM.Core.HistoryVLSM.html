<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#"><span class="id" title="library">PreloadedVLSM</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab193"></a><h1 class="section">Core: History VLSMs</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a id="HistoryVLSM" class="idref" href="#HistoryVLSM"><span class="id" title="record">HistoryVLSM</span></a> `(<a id="X:2" class="idref" href="#X:2"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
{<br/>
&nbsp;&nbsp;<a id="not_valid_transition_next_initial" class="idref" href="#not_valid_transition_next_initial"><span class="id" title="projection">not_valid_transition_next_initial</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s2:4" class="idref" href="#s2:4"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#X:2"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:4"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s1:5" class="idref" href="#s1:5"><span class="id" title="binder">s1</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid_transition_next"><span class="id" title="inductive">valid_transition_next</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#X:2"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:5"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:4"><span class="id" title="variable">s2</span></a>;<br/>
&nbsp;&nbsp;<a id="unique_transition_to_state" class="idref" href="#unique_transition_to_state"><span class="id" title="projection">unique_transition_to_state</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">[</span><a id="s:7" class="idref" href="#s:7"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#X:2"><span class="id" title="variable">X</span></a><span class="id" title="notation">],</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="l1:8" class="idref" href="#l1:8"><span class="id" title="binder">l1</span></a> <a id="s1:9" class="idref" href="#s1:9"><span class="id" title="binder">s1</span></a> <a id="iom1:10" class="idref" href="#iom1:10"><span class="id" title="binder">iom1</span></a> <a id="oom1:11" class="idref" href="#oom1:11"><span class="id" title="binder">oom1</span></a>]<span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_transition"><span class="id" title="record">valid_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#X:2"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l1:8"><span class="id" title="variable">l1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:9"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom1:10"><span class="id" title="variable">iom1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:7"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom1:11"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="l2:12" class="idref" href="#l2:12"><span class="id" title="binder">l2</span></a> <a id="s2:13" class="idref" href="#s2:13"><span class="id" title="binder">s2</span></a> <a id="iom2:14" class="idref" href="#iom2:14"><span class="id" title="binder">iom2</span></a> <a id="oom2:15" class="idref" href="#oom2:15"><span class="id" title="binder">oom2</span></a>]<span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_transition"><span class="id" title="record">valid_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#X:2"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l2:12"><span class="id" title="variable">l2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:13"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom2:14"><span class="id" title="variable">iom2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:7"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom2:15"><span class="id" title="variable">oom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.HistoryVLSM.html#l1:8"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l2:12"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:9"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:13"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom1:10"><span class="id" title="variable">iom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom2:14"><span class="id" title="variable">iom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom1:11"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom2:15"><span class="id" title="variable">oom2</span></a>;<br/>
}.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#HistoryVLSM"><span class="id" title="class">HistoryVLSM</span></a> - ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_history_vlsm_preloaded" class="idref" href="#sec_history_vlsm_preloaded"><span class="id" title="section">sec_history_vlsm_preloaded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="H:19" class="idref" href="#H:19"><span class="id" title="binder">HistoryVLSM</span></a> <a id="message:17" class="idref" href="#message:17"><span class="id" title="binder"><span id="H:19" class="id">message</span></span></a> <a id="X:18" class="idref" href="#X:18"><span class="id" title="binder"><span id="H:19" class="id">X</span></span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="preloaded_history_vlsm" class="idref" href="#preloaded_history_vlsm"><span class="id" title="instance">preloaded_history_vlsm</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.HistoryVLSM.html#HistoryVLSM"><span class="id" title="class">HistoryVLSM</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_preloaded.X"><span class="id" title="variable">X</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_transition_next_preloaded_iff"><span class="id" title="lemma">valid_transition_next_preloaded_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#not_valid_transition_next_initial"><span class="id" title="method">not_valid_transition_next_initial</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (@<a class="idref" href="VLSM.Core.HistoryVLSM.html#unique_transition_to_state"><span class="id" title="method">unique_transition_to_state</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_preloaded.X"><span class="id" title="variable">X</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#valid_transition_preloaded_iff"><span class="id" title="lemma">valid_transition_preloaded_iff</span></a>..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="history_unique_trace_to_reachable" class="idref" href="#history_unique_trace_to_reachable"><span class="id" title="lemma">history_unique_trace_to_reachable</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is:20" class="idref" href="#is:20"><span class="id" title="binder">is</span></a> <a id="s:21" class="idref" href="#s:21"><span class="id" title="binder">s</span></a> <a id="tr:22" class="idref" href="#tr:22"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_preloaded.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#is:20"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#tr:22"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="is':23" class="idref" href="#is':23"><span class="id" title="binder">is'</span></a> <a id="tr':24" class="idref" href="#tr':24"><span class="id" title="binder">tr'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_preloaded.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#is':23"><span class="id" title="variable">is'</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:21"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#tr':24"><span class="id" title="variable">tr'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.HistoryVLSM.html#is':23"><span class="id" title="variable">is'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#is:20"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#tr':24"><span class="id" title="variable">tr'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#tr:22"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">is'</span> <span class="id" title="var">tr'</span> [<span class="id" title="var">Htr'</span> <span class="id" title="var">His'</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr'</span> <span class="id" title="var">tr''</span> <span class="id" title="var">item</span> <span class="id" title="var">Heqtr'</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htr'</span> | <span class="id" title="tactic">subst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hitem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">His'</span>; <span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Core.HistoryVLSM.html#not_valid_transition_next_initial"><span class="id" title="method">not_valid_transition_next_initial</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="var">esplit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr'</span> <span class="id" title="var">tr''</span> <span class="id" title="var">item</span> <span class="id" title="var">Heqtr'</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">tr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htr'</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Htr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>; <span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Core.HistoryVLSM.html#not_valid_transition_next_initial"><span class="id" title="method">not_valid_transition_next_initial</span></a>; [| <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="var">esplit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr'</span> <span class="id" title="var">Hitem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hitem</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htl</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">Htl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_forget_input"><span class="id" title="lemma">input_valid_transition_forget_input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>, <span class="id" title="var">Ht0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.HistoryVLSM.html#unique_transition_to_state"><span class="id" title="method">unique_transition_to_state</span></a> <span class="id" title="var">Ht</span> <span class="id" title="var">Ht0</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and</span>! <span class="id" title="var">Heqs</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr'</span> <span class="id" title="var">His'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">destruct_and</span>! <span class="id" title="var">IHHtr</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_preloaded"><span class="id" title="section">sec_history_vlsm_preloaded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_history_vlsm_composite" class="idref" href="#sec_history_vlsm_composite"><span class="id" title="section">sec_history_vlsm_composite</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:25" class="idref" href="#message:25"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:27" class="idref" href="#EqDecision0:27"><span class="id" title="binder">EqDecision</span></a> <a id="index:26" class="idref" href="#index:26"><span class="id" title="binder"><span id="EqDecision0:27" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:28" class="idref" href="#IM:28"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.HistoryVLSM.html#index:26"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#message:25"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">forall</span></a> <a id="i:29" class="idref" href="#i:29"><span class="id" title="binder"><span id="H:30" class="id">i</span></span></a> <a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">:</span></a> <a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">index</span></a><a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">,</span></a> <a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">HistoryVLSM</span></a> <a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">(</span></a><a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">IM</span></a> <a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">i</span></a><a id="H:30" class="idref" href="#H:30"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="Free:31" class="idref" href="#Free:31"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#IM:28"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_composite_valid_transition_next_initial" class="idref" href="#not_composite_valid_transition_next_initial"><span class="id" title="lemma">not_composite_valid_transition_next_initial</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s2:32" class="idref" href="#s2:32"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:32"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s1:33" class="idref" href="#s1:33"><span class="id" title="binder">s1</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_next"><span class="id" title="definition">composite_valid_transition_next</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:33"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:32"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s2</span> <span class="id" title="var">Hs2</span> <span class="id" title="var">s1</span> [* <span class="id" title="var">Hs1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_projection"><span class="id" title="lemma">composite_valid_transition_projection</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#transition_next"><span class="id" title="constructor">transition_next</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs1</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hs1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#not_valid_transition_next_initial"><span class="id" title="method">not_valid_transition_next_initial</span></a>, <span class="id" title="var">Hs2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_quasi_unique_transition_to_state" class="idref" href="#composite_quasi_unique_transition_to_state"><span class="id" title="lemma">composite_quasi_unique_transition_to_state</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a>]<span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="l1:35" class="idref" href="#l1:35"><span class="id" title="binder">l1</span></a> <a id="s1:36" class="idref" href="#s1:36"><span class="id" title="binder">s1</span></a> <a id="iom1:37" class="idref" href="#iom1:37"><span class="id" title="binder">iom1</span></a> <a id="oom1:38" class="idref" href="#oom1:38"><span class="id" title="binder">oom1</span></a>]<span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition"><span class="id" title="definition">composite_valid_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l1:35"><span class="id" title="variable">l1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:36"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom1:37"><span class="id" title="variable">iom1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom1:38"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> [<a id="l2:39" class="idref" href="#l2:39"><span class="id" title="binder">l2</span></a> <a id="s2:40" class="idref" href="#s2:40"><span class="id" title="binder">s2</span></a> <a id="iom2:41" class="idref" href="#iom2:41"><span class="id" title="binder">iom2</span></a> <a id="oom2:42" class="idref" href="#oom2:42"><span class="id" title="binder">oom2</span></a>]<span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition"><span class="id" title="definition">composite_valid_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l2:39"><span class="id" title="variable">l2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:40"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom2:41"><span class="id" title="variable">iom2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom2:42"><span class="id" title="variable">oom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l1:35"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l2:39"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.HistoryVLSM.html#l1:35"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l2:39"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:36"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:40"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom1:37"><span class="id" title="variable">iom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom2:41"><span class="id" title="variable">iom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom1:38"><span class="id" title="variable">oom1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom2:42"><span class="id" title="variable">oom2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? [<span class="id" title="var">i</span> <span class="id" title="var">li1</span>] * <span class="id" title="var">Ht1</span> [<span class="id" title="var">_i</span> <span class="id" title="var">li2</span>] * <span class="id" title="var">Ht2</span> [=]; <span class="id" title="tactic">subst</span> <span class="id" title="var">_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_projection"><span class="id" title="lemma">composite_valid_transition_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht1</span>, <span class="id" title="var">Ht2</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht1</span>, <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ht1</span> <span class="id" title="var">Heq_s</span>], <span class="id" title="var">Ht2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Ht2</span> <span class="id" title="var">Heqs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_s</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs</span> <span class="id" title="tactic">at</span> 1; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq_s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.HistoryVLSM.html#unique_transition_to_state"><span class="id" title="method">unique_transition_to_state</span></a> <span class="id" title="var">Ht1</span> <span class="id" title="var">Ht2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and</span>! <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="s:43" class="idref" href="#s:43"><span class="id" title="binder"><span id="s:44" class="id">s</span></span></a> =&gt; <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:43"><span class="id" title="variable">s</span></a> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_valid_transition_reflects_rechability" class="idref" href="#composite_valid_transition_reflects_rechability"><span class="id" title="lemma">composite_valid_transition_reflects_rechability</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:45" class="idref" href="#l:45"><span class="id" title="binder">l</span></a> <a id="s1:46" class="idref" href="#s1:46"><span class="id" title="binder">s1</span></a> <a id="iom:47" class="idref" href="#iom:47"><span class="id" title="binder">iom</span></a> <a id="s2:48" class="idref" href="#s2:48"><span class="id" title="binder">s2</span></a> <a id="oom:49" class="idref" href="#oom:49"><span class="id" title="binder">oom</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition"><span class="id" title="definition">composite_valid_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l:45"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:46"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom:47"><span class="id" title="variable">iom</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:48"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom:49"><span class="id" title="variable">oom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:48"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#l:45"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:46"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#iom:47"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:48"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#oom:49"><span class="id" title="variable">oom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hnext</span> <span class="id" title="var">Hs2</span>; <span class="id" title="var">revert</span> <span class="id" title="var">l</span> <span class="id" title="var">s1</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span> <span class="id" title="var">Hnext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hs2</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hnext</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#transition_next"><span class="id" title="constructor">transition_next</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnext</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">Hnext</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#not_composite_valid_transition_next_initial"><span class="id" title="lemma">not_composite_valid_transition_next_initial</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>], <span class="id" title="var">l0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">lj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_forget_input"><span class="id" title="lemma">input_valid_transition_forget_input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hvt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_reachable_iff"><span class="id" title="lemma">composite_valid_transition_reachable_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.HistoryVLSM.html#composite_quasi_unique_transition_to_state"><span class="id" title="lemma">composite_quasi_unique_transition_to_state</span></a> <span class="id" title="var">Hnext</span> <span class="id" title="var">Hvt</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">destruct_and</span>! <span class="id" title="var">Heq</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_forget_input"><span class="id" title="lemma">input_valid_transition_forget_input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_reachable_iff"><span class="id" title="lemma">composite_valid_transition_reachable_iff</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_projection"><span class="id" title="lemma">composite_valid_transition_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hti</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hti</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hti</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hvi</span> <span class="id" title="var">Hti</span>] <span class="id" title="var">Heqs'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_projection"><span class="id" title="lemma">composite_valid_transition_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnext</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnext</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnext</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hvj</span> <span class="id" title="var">Htj</span>] <span class="id" title="var">Heq_s'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_s'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs'</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHs2</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <span class="id" title="var">lj</span>) (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> (<span class="id" title="var">s1</span> <span class="id" title="var">j</span>)) <span class="id" title="var">iom</span> <span class="id" title="var">oom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHHs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_projection_inv"><span class="id" title="lemma">composite_valid_transition_projection_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s1</span> <span class="id" title="var">j</span>) (<span class="id" title="var">s'</span> <span class="id" title="var">j</span>); [<span class="id" title="var">done</span> | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_id"><span class="id" title="lemma">state_update_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="s:50" class="idref" href="#s:50"><span class="id" title="binder"><span id="s:51" class="id">s</span></span></a> =&gt; <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:50"><span class="id" title="variable">s</span></a> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hss1</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <span class="id" title="var">li</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> (<span class="id" title="var">s1</span> <span class="id" title="var">j</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHs2</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a> | ..]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <span class="id" title="keyword">fun</span> <a id="s:52" class="idref" href="#s:52"><span class="id" title="binder"><span id="s:53" class="id">s</span></span></a> =&gt; <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:52"><span class="id" title="variable">s</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_s'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)), (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">oom</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_valid_transition_next_reflects_rechability" class="idref" href="#composite_valid_transition_next_reflects_rechability"><span class="id" title="lemma">composite_valid_transition_next_reflects_rechability</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s1:54" class="idref" href="#s1:54"><span class="id" title="binder">s1</span></a> <a id="s2:55" class="idref" href="#s2:55"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_next"><span class="id" title="definition">composite_valid_transition_next</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:54"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:55"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:55"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:54"><span class="id" title="variable">s1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> []; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#composite_valid_transition_reflects_rechability"><span class="id" title="lemma">composite_valid_transition_reflects_rechability</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_valid_transition_future_reflects_rechability" class="idref" href="#composite_valid_transition_future_reflects_rechability"><span class="id" title="lemma">composite_valid_transition_future_reflects_rechability</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s1:56" class="idref" href="#s1:56"><span class="id" title="binder">s1</span></a> <a id="s2:57" class="idref" href="#s2:57"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Composition.html#composite_valid_transition_future"><span class="id" title="definition">composite_valid_transition_future</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:56"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:57"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s2:57"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s1:56"><span class="id" title="variable">s1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#tc_reflect"><span class="id" title="lemma">tc_reflect</span></a>, <a class="idref" href="VLSM.Core.HistoryVLSM.html#composite_valid_transition_next_reflects_rechability"><span class="id" title="lemma">composite_valid_transition_next_reflects_rechability</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_valid_transitions_from_to_reflects_reachability" class="idref" href="#composite_valid_transitions_from_to_reflects_reachability"><span class="id" title="lemma">composite_valid_transitions_from_to_reflects_reachability</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:58" class="idref" href="#s:58"><span class="id" title="binder">s</span></a> <a id="s':59" class="idref" href="#s':59"><span class="id" title="binder">s'</span></a> <a id="tr:60" class="idref" href="#tr:60"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_valid_transitions_from_to"><span class="id" title="inductive">composite_valid_transitions_from_to</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s':59"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#tr:60"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s':59"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from_to"><span class="id" title="definition">finite_constrained_trace_from_to</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s:58"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#s':59"><span class="id" title="variable">s'</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#tr:60"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hitem</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#input_constrained_transition"><span class="id" title="definition">input_constrained_transition</span></a> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite.Free"><span class="id" title="variable">Free</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#composite_valid_transition_reflects_rechability"><span class="id" title="lemma">composite_valid_transition_reflects_rechability</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHcomposite_valid_transitions_from_to</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_origin"><span class="id" title="lemma">input_valid_transition_origin</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_singleton"><span class="id" title="lemma">finite_valid_trace_from_to_singleton</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.HistoryVLSM.html#sec_history_vlsm_composite"><span class="id" title="section">sec_history_vlsm_composite</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
