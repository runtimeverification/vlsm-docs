<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.EquationsExtras.html#"><span class="id" title="library">EquationsExtras</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#"><span class="id" title="library">FinSetExtras</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#"><span class="id" title="library">ConstrainedVLSM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab284"></a><h1 class="section">Tutorial: Round-Based Asynchronous Muddy Children Puzzle</h1>


<div class="paragraph"> </div>

  This module formalizes the Muddy Children (MC) puzzle
  as a constrained composition of VLSMs that communicate
  asynchronously in rounds. The module provides an advanced
  self-contained example of modeling and reasoning with VLSMs.

<div class="paragraph"> </div>

  Consider a
  <a href="https://plato.stanford.edu/entries/dynamic-epistemic/appendix-B-solutions.html">
  standard statement of the MC puzzle</a>:

<div class="paragraph"> </div>

  "Three children are playing in the mud. Father calls the children to the house,
  arranging them in a semicircle so that each child can clearly see every other
  child. <i>At least one of you has mud on your forehead</i>, says Father.
  The children look around, each examining every other child's forehead.
  Of course, no child can examine his or her own. Father continues,
  <i>If you know whether your forehead is dirty, then step forward now</i>.
  No child steps forward. Father repeats himself a second time,
  <i>If you know whether your forehead is dirty, then step forward now</i>.
  Some but not all of the children step forward. Father repeats himself a third
  time, <i>If you know whether your forehead is dirty, then step forward now</i>.
  All of the remaining children step forward. How many children have muddy foreheads?"

<div class="paragraph"> </div>

  We alter the puzzle in two ways:
<ul class="doclist">
<li> we allow an arbitrary but fixed number of children, and

</li>
<li> we allow the children to communicate asynchronously.

</li>
</ul>

<div class="paragraph"> </div>

  To allow asynchronous communication, we let each child maintain the "round"
  they perceive themselves to be in and to communicate their round number to their peers.

<div class="paragraph"> </div>

  We define some VLSM-specific notions in the
  context of the MC puzzle (such as labels, states, initial states,
  messages, transitions, valid transitions, and composition constraints),
  but there are also some MC-specific notions (final state,
  consistent state, observation equivalence, and invariant).

<div class="paragraph"> </div>

  The consistency property of states guarantees that a state adheres
  to the assumptions in the puzzle's statement:
<ul class="doclist">
<li> there is at least one muddy child, and

</li>
<li> any child sees all the muddy children except themselves.

</li>
</ul>

<div class="paragraph"> </div>

  Final states are those states in which each child has decided on a status,
  i.e., as muddy or clean.

<div class="paragraph"> </div>

  The main result in the module is the theorem <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_safety"><span class="id" title="lemma">MC_safety</span></a></span>, which establishes
  that final states are reachable from any non-initial valid state.
  The proof is based on the lemmas <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a></span>,
  <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_progress"><span class="id" title="lemma">MC_progress</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_round_bound"><span class="id" title="lemma">MC_round_bound</span></a></span>.

<div class="paragraph"> </div>

<a id="lab285"></a><h2 class="section">Basic definitions</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Label" class="idref" href="#Label"><span class="id" title="definition, inductive"><span id="Label_rect" class="id"><span id="Label_ind" class="id"><span id="Label_rec" class="id"><span id="Label_sind" class="id">Label</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="init" class="idref" href="#init"><span class="id" title="constructor">init</span></a><br/>
| <a id="emit" class="idref" href="#emit"><span class="id" title="constructor">emit</span></a><br/>
| <a id="receive" class="idref" href="#receive"><span class="id" title="constructor">receive</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="ChildStatus" class="idref" href="#ChildStatus"><span class="id" title="definition, inductive"><span id="ChildStatus_rect" class="id"><span id="ChildStatus_ind" class="id"><span id="ChildStatus_rec" class="id"><span id="ChildStatus_sind" class="id">ChildStatus</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="undecided" class="idref" href="#undecided"><span class="id" title="constructor">undecided</span></a><br/>
| <a id="muddy" class="idref" href="#muddy"><span class="id" title="constructor">muddy</span></a><br/>
| <a id="clean" class="idref" href="#clean"><span class="id" title="constructor">clean</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a id="RoundStatus" class="idref" href="#RoundStatus"><span class="id" title="record">RoundStatus</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mkRS</span><br/>
{<br/>
&nbsp;&nbsp;<a id="rs_round" class="idref" href="#rs_round"><span class="id" title="projection">rs_round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;<a id="rs_status" class="idref" href="#rs_status"><span class="id" title="projection">rs_status</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Show <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#RoundStatus"><span class="id" title="record">RoundStatus</span></a></span> using the constructor instead of the record syntax. 
</div>
<div class="code">
<span class="id" title="keyword">Add</span> <span class="id" title="keyword">Printing</span> <span class="id" title="var">Constructor</span> <span class="id" title="var">RoundStatus</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_muddy" class="idref" href="#sec_muddy"><span class="id" title="section">sec_muddy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="index:8" class="idref" href="#index:8"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;`{<a id="H:10" class="idref" href="#H:10"><span class="id" title="binder">finite.Finite</span></a> <a id="H:10" class="idref" href="#H:10"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H0:11" class="idref" href="#H0:11"><span class="id" title="binder">Inhabited</span></a> <a id="H0:11" class="idref" href="#H0:11"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H8:21" class="idref" href="#H8:21"><span class="id" title="binder">FinSet</span></a> <a id="H8:21" class="idref" href="#H8:21"><span class="id" title="binder">index</span></a> <a id="indexSet:12" class="idref" href="#indexSet:12"><span class="id" title="binder"><span id="H8:21" class="id">indexSet</span></span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  Children maintain the set of (indices of) other children they perceive
  as being muddy and (except for their initial state) the current round they
  perceive themselves to be at and their <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="State" class="idref" href="#State"><span class="id" title="record">State</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mkSt</span><br/>
{<br/>
&nbsp;&nbsp;<a id="st_obs" class="idref" href="#st_obs"><span class="id" title="projection">st_obs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>;<br/>
&nbsp;&nbsp;<a id="st_rs" class="idref" href="#st_rs"><span class="id" title="projection">st_rs</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#RoundStatus"><span class="id" title="record">RoundStatus</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Show <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#State"><span class="id" title="record">State</span></a></span> using the constructor instead of the record syntax. 
</div>
<div class="code">
<span class="id" title="keyword">Add</span> <span class="id" title="keyword">Printing</span> <span class="id" title="var">Constructor</span> <span class="id" title="var">State</span>.<br/>

<br/>
</div>

<div class="doc">
  A message carries the identity of its sender, and shares the round number
  and their <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a id="Message" class="idref" href="#Message"><span class="id" title="record">Message</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">mkMsg</span><br/>
{<br/>
&nbsp;&nbsp;<a id="msg_index" class="idref" href="#msg_index"><span class="id" title="projection">msg_index</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>;<br/>
&nbsp;&nbsp;<a id="msg_round" class="idref" href="#msg_round"><span class="id" title="projection">msg_round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>;<br/>
&nbsp;&nbsp;<a id="msg_status" class="idref" href="#msg_status"><span class="id" title="projection">msg_status</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a>;<br/>
}.<br/>

<br/>
</div>

<div class="doc">
Show <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.BaseELMO.html#Message"><span class="id" title="record">Message</span></a></span> using the constructor instead of the record syntax. 
</div>
<div class="code">
<span class="id" title="keyword">Add</span> <span class="id" title="keyword">Printing</span> <span class="id" title="var">Constructor</span> <span class="id" title="var">Message</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MCType" class="idref" href="#MCType"><span class="id" title="definition">MCType</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSMType"><span class="id" title="record">VLSMType</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Label"><span class="id" title="inductive">Label</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_initial_state_prop" class="idref" href="#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> (<a id="s:29" class="idref" href="#s:29"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:29"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Equations</span> <a id="MC_transition" class="idref" href="#MC_transition"><span class="id" title="definition">MC_transition</span></a> (<a id="i:30" class="idref" href="#i:30"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="l:31" class="idref" href="#l:31"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Label"><span class="id" title="inductive">Label</span></a>)<br/>
&nbsp;(<a id="s:32" class="idref" href="#s:32"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="om:33" class="idref" href="#om:33"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a> :=<br/>
<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition:37"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:35"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:36"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">with</span> <span class="id" title="definition">size</span> <span class="id" title="var">o</span> :=<br/>
&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">0</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">_</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;};<br/>
<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition:48"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:44"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#emit"><span class="id" title="constructor">emit</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:45"><span class="id" title="variable">o</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:46"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:47"><span class="id" title="variable">status</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">))</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> :=<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <span class="id" title="var">status</span>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">status</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>;<br/>
<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition:54"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:49"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:51"><span class="id" title="variable">o</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:52"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">))</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:50"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r':53"><span class="id" title="variable">r'</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">)</span></a>)<br/>
&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <span class="id" title="notation">∈</span> <span class="id" title="var">o</span>) :=<br/>
&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Hin:55"><span class="id" title="variable">Hin</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Hin:62"><span class="id" title="variable">Hin</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;};<br/>
<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition:74"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:69"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:71"><span class="id" title="variable">o</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:72"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">))</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:70"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r':73"><span class="id" title="variable">r'</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">)</span></a>)<br/>
&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <span class="id" title="notation">∈</span> <span class="id" title="var">o</span>) :=<br/>
&nbsp;&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Hin:75"><span class="id" title="variable">Hin</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Hin:82"><span class="id" title="variable">Hin</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;};<br/>
</div>

<div class="doc">
  One of the most interesting cases of the transition function is the one when
  a child <span class="inlinecode"><span class="id" title="var">i</span></span> who doesn't know their status receives a message from a child <span class="inlinecode"><span class="id" title="var">j</span></span>
  who also doesn't know their own status. However, being at round <span class="inlinecode"><span class="id" title="var">r'</span></span>, <span class="inlinecode"><span class="id" title="var">j</span></span> knows
  there are more than <span class="inlinecode"><span class="id" title="var">r'</span></span> muddy children.

</div>
<div class="code">
<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition:94"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:89"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:91"><span class="id" title="variable">o</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:92"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">))</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:90"><span class="id" title="variable">j</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r':93"><span class="id" title="variable">r'</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">)</span></a>)<br/>
&nbsp;&nbsp;</div>

<div class="doc">
    If child <span class="inlinecode"><span class="id" title="var">i</span></span> sees <span class="inlinecode"><span class="id" title="var">j</span></span> as muddy, they can infer that there are actually more than
    <span class="inlinecode"><span class="id" title="var">r'</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> muddy children.
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <span class="id" title="notation">∈</span> <span class="id" title="var">o</span>) :=<br/>
&nbsp;&nbsp;{ | <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Hin:95"><span class="id" title="variable">Hin</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
        If <span class="inlinecode"><span class="id" title="var">r'</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span> is less than or equal to the current round number of <span class="inlinecode"><span class="id" title="var">i</span></span>, then
        the round doesn't change and the status remains undecided.
      
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">r</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
        Else, we update the round number to <span class="inlinecode"><span class="id" title="var">r'</span></span> <span class="inlinecode">+</span> <span class="inlinecode">1</span>, and have to compare it to
        the number of muddy children seen by child <span class="inlinecode"><span class="id" title="var">i</span></span>.
        If its less than that, the information gained is not useful enough to
        infer anything, so the status remains undecided.
      
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
        Else, if the updated round ever becomes equal to the number of muddy children
        seen by <span class="inlinecode"><span class="id" title="var">i</span></span>, they can conclude they are muddy.
      
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#right"><span class="id" title="constructor">right</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Hin:102"><span class="id" title="variable">Hin</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">r</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <span class="id" title="var">o</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">o</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;};<br/>
<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition:110"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:109"><span class="id" title="variable">s</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_status" class="idref" href="#state_status"><span class="id" title="definition">state_status</span></a> (<a id="s:111" class="idref" href="#s:111"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#RoundStatus"><span class="id" title="record">RoundStatus</span></a>) : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">from_option</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#rs_status"><span class="id" title="projection">rs_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:111"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_round" class="idref" href="#state_round"><span class="id" title="definition">state_round</span></a> (<a id="s:112" class="idref" href="#s:112"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#RoundStatus"><span class="id" title="record">RoundStatus</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">from_option</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#rs_round"><span class="id" title="projection">rs_round</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:112"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_round_inc" class="idref" href="#state_round_inc"><span class="id" title="definition">state_round_inc</span></a> (<a id="s:113" class="idref" href="#s:113"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:113"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">rs</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#rs_round"><span class="id" title="projection">rs_round</span></a> <span class="id" title="var">rs</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; 0<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_status" class="idref" href="#message_status"><span class="id" title="definition">message_status</span></a> (<a id="om:114" class="idref" href="#om:114"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">from_option</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#om:114"><span class="id" title="variable">om</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_round" class="idref" href="#message_round"><span class="id" title="definition">message_round</span></a> (<a id="om:115" class="idref" href="#om:115"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">from_option</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#om:115"><span class="id" title="variable">om</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="message_index" class="idref" href="#message_index"><span class="id" title="definition">message_index</span></a> (<a id="om:116" class="idref" href="#om:116"><span class="id" title="binder">om</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) (<a id="i:117" class="idref" href="#i:117"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">from_option</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:117"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#om:116"><span class="id" title="variable">om</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MC_valid" class="idref" href="#MC_valid"><span class="id" title="definition, inductive"><span id="MC_valid_ind" class="id"><span id="MC_valid_sind" class="id">MC_valid</span></span></span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Label"><span class="id" title="inductive">Label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="MC_valid_init" class="idref" href="#MC_valid_init"><span class="id" title="constructor">MC_valid_init</span></a> : <span class="id" title="notation">forall</span> <a id="o:120" class="idref" href="#o:120"><span class="id" title="binder">o</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid:118"><span class="id" title="inductive">MC_valid</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:120"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
| <a id="MC_valid_emit" class="idref" href="#MC_valid_emit"><span class="id" title="constructor">MC_valid_emit</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="o:121" class="idref" href="#o:121"><span class="id" title="binder">o</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>) (<a id="rs:122" class="idref" href="#rs:122"><span class="id" title="binder">rs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#RoundStatus"><span class="id" title="record">RoundStatus</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid:118"><span class="id" title="inductive">MC_valid</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#emit"><span class="id" title="constructor">emit</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:121"><span class="id" title="variable">o</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#rs:122"><span class="id" title="variable">rs</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
| <a id="MC_valid_receive" class="idref" href="#MC_valid_receive"><span class="id" title="constructor">MC_valid_receive</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="o:123" class="idref" href="#o:123"><span class="id" title="binder">o</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>) (<a id="rs:124" class="idref" href="#rs:124"><span class="id" title="binder">rs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#RoundStatus"><span class="id" title="record">RoundStatus</span></a>) (<a id="m:125" class="idref" href="#m:125"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid:118"><span class="id" title="inductive">MC_valid</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:123"><span class="id" title="variable">o</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#rs:124"><span class="id" title="variable">rs</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:125"><span class="id" title="variable">m</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="ChildStatus_eq_dec" class="idref" href="#ChildStatus_eq_dec"><span class="id" title="instance">ChildStatus_eq_dec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="class">Decision</span>; <span class="id" title="var">decide</span> <span class="id" title="var">equality</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_initial_state_type" class="idref" href="#MC_initial_state_type"><span class="id" title="definition">MC_initial_state_type</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><a id="st:126" class="idref" href="#st:126"><span class="id" title="binder">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st:126"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="MC_initial_state" class="idref" href="#MC_initial_state"><span class="id" title="definition">MC_initial_state</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_type"><span class="id" title="definition">MC_initial_state_type</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="notation">∅</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Decision_MC_initial_state_prop" class="idref" href="#Decision_MC_initial_state_prop"><span class="id" title="instance">Decision_MC_initial_state_prop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:127" class="idref" href="#s:127"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:127"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="Inhabited_MC_initial_state_type" class="idref" href="#Inhabited_MC_initial_state_type"><span class="id" title="instance">Inhabited_MC_initial_state_type</span></a> : <span class="id" title="class">Inhabited</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_type"><span class="id" title="definition">MC_initial_state_type</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="constructor">populate</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state"><span class="id" title="definition">MC_initial_state</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MCMachine" class="idref" href="#MCMachine"><span class="id" title="definition">MCMachine</span></a> (<a id="i:128" class="idref" href="#i:128"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSMMachine"><span class="id" title="record">VLSMMachine</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCType"><span class="id" title="definition">MCType</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_message_prop"><span class="id" title="projection">initial_message_prop</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> <span class="id" title="notation">False</span>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> := <span class="id" title="keyword">fun</span> <a id="l:129" class="idref" href="#l:129"><span class="id" title="binder">l</span></a> '<a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">(</span></a><a id="st:131" class="idref" href="#st:131"><span class="id" title="binder"><span id="pat:132" class="id">st</span></span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">,</span></a> <a id="om:130" class="idref" href="#om:130"><span class="id" title="binder"><span id="pat:132" class="id">om</span></span></a><a id="pat:132" class="idref" href="#pat:132"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:128"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#l:129"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st:131"><span class="id" title="variable">st</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#om:130"><span class="id" title="variable">om</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="projection">valid</span></a> := <span class="id" title="keyword">fun</span> <a id="l:133" class="idref" href="#l:133"><span class="id" title="binder">l</span></a> '<a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">(</span></a><a id="st:135" class="idref" href="#st:135"><span class="id" title="binder"><span id="pat:136" class="id">st</span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">,</span></a> <a id="om:134" class="idref" href="#om:134"><span class="id" title="binder"><span id="pat:136" class="id">om</span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid"><span class="id" title="inductive">MC_valid</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#l:133"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st:135"><span class="id" title="variable">st</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#om:134"><span class="id" title="variable">om</span></a>;<br/>
|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MCVLSM" class="idref" href="#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> (<a id="i:137" class="idref" href="#i:137"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vlsm_type"><span class="id" title="projection">vlsm_type</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCType"><span class="id" title="definition">MCType</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vlsm_machine"><span class="id" title="projection">vlsm_machine</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCMachine"><span class="id" title="definition">MCMachine</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:137"><span class="id" title="variable">i</span></a>;<br/>
|}.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MC_composite_initial_state_dec" class="idref" href="#MC_composite_initial_state_dec"><span class="id" title="instance">MC_composite_initial_state_dec</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:138" class="idref" href="#s:138"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:138"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eapply</span> @<a class="idref" href="VLSM.Lib.Preamble.html#Decision_iff"><span class="id" title="lemma">Decision_iff</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="n:139" class="idref" href="#n:139"><span class="id" title="binder"><span id="n:140" class="id">n</span></span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:139"><span class="id" title="variable">n</span></a>) (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:139"><span class="id" title="variable">n</span></a>)) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">forall_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hx</span>, <span class="id" title="method">elem_of_enum</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MuddyUnion" class="idref" href="#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> (<a id="s:141" class="idref" href="#s:141"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">⋃</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="i:142" class="idref" href="#i:142"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:141"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:142"><span class="id" title="variable">i</span></a>)) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>)<span class="id" title="notation">)</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MuddyUnion_elem" class="idref" href="#MuddyUnion_elem"><span class="id" title="lemma">MuddyUnion_elem</span></a> (<a id="s:143" class="idref" href="#s:143"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:144" class="idref" href="#i:144"><span class="id" title="binder">i</span></a> <a id="j:145" class="idref" href="#j:145"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:144"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:143"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:145"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:144"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:143"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_union_list</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)); <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="consistent" class="idref" href="#consistent"><span class="id" title="definition">consistent</span></a> (<a id="s:146" class="idref" href="#s:146"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:146"><span class="id" title="variable">s</span></a> <span class="id" title="notation">≢</span>  <span class="id" title="notation">∅</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="notation">forall</span> <a id="n:147" class="idref" href="#n:147"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:146"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:147"><span class="id" title="variable">n</span></a>) <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:146"><span class="id" title="variable">s</span></a> <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:147"><span class="id" title="variable">n</span></a><span class="id" title="notation">]}</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_no_equivocation" class="idref" href="#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> (<a id="s:148" class="idref" href="#s:148"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="m:149" class="idref" href="#m:149"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:149"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">n</span> <span class="id" title="var">r'</span> <span class="id" title="var">status'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:148"><span class="id" title="variable">s</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r</span> <span class="id" title="var">status</span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">status'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">status</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">status'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">r'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MC_no_equivocation_inductive" class="idref" href="#MC_no_equivocation_inductive"><span class="id" title="definition, inductive"><span id="MC_no_equivocation_inductive_ind" class="id"><span id="MC_no_equivocation_inductive_sind" class="id">MC_no_equivocation_inductive</span></span></span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="MC_no_equivocation_inductive_msg_eq" class="idref" href="#MC_no_equivocation_inductive_msg_eq"><span class="id" title="constructor">MC_no_equivocation_inductive_msg_eq</span></a> : <span class="id" title="notation">forall</span> <a id="s:153" class="idref" href="#s:153"><span class="id" title="binder">s</span></a> <a id="n:154" class="idref" href="#n:154"><span class="id" title="binder">n</span></a> <a id="o:155" class="idref" href="#o:155"><span class="id" title="binder">o</span></a> <a id="r:156" class="idref" href="#r:156"><span class="id" title="binder">r</span></a> <a id="status:157" class="idref" href="#status:157"><span class="id" title="binder">status</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:153"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:154"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:155"><span class="id" title="variable">o</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:156"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:157"><span class="id" title="variable">status</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation_inductive:151"><span class="id" title="inductive">MC_no_equivocation_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:153"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:154"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:156"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:157"><span class="id" title="variable">status</span></a>)<br/>
| <a id="MC_no_equivocation_inductive_undecided" class="idref" href="#MC_no_equivocation_inductive_undecided"><span class="id" title="constructor">MC_no_equivocation_inductive_undecided</span></a> : <span class="id" title="notation">forall</span> <a id="s:158" class="idref" href="#s:158"><span class="id" title="binder">s</span></a> <a id="n:159" class="idref" href="#n:159"><span class="id" title="binder">n</span></a> <a id="o:160" class="idref" href="#o:160"><span class="id" title="binder">o</span></a> <a id="r:161" class="idref" href="#r:161"><span class="id" title="binder">r</span></a> <a id="r':162" class="idref" href="#r':162"><span class="id" title="binder">r'</span></a> <a id="status:163" class="idref" href="#status:163"><span class="id" title="binder">status</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:158"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:159"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:160"><span class="id" title="variable">o</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:161"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:163"><span class="id" title="variable">status</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r':162"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:161"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation_inductive:151"><span class="id" title="inductive">MC_no_equivocation_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:158"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:159"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r':162"><span class="id" title="variable">r'</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_no_equivocation_inductive_equiv" class="idref" href="#MC_no_equivocation_inductive_equiv"><span class="id" title="lemma">MC_no_equivocation_inductive_equiv</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s:164" class="idref" href="#s:164"><span class="id" title="binder">s</span></a> <a id="m:165" class="idref" href="#m:165"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:165"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation_inductive"><span class="id" title="inductive">MC_no_equivocation_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:164"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:165"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [[] | []]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation_inductive_msg_eq"><span class="id" title="constructor">MC_no_equivocation_inductive_msg_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation_inductive_undecided"><span class="id" title="constructor">MC_no_equivocation_inductive_undecided</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="var">itauto</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_constraint" class="idref" href="#MC_constraint"><span class="id" title="definition">MC_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:166" class="idref" href="#l:166"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="sm:167" class="idref" href="#sm:167"><span class="id" title="binder">sm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#l:166"><span class="id" title="variable">l</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sm:167"><span class="id" title="variable">sm</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_composite_vlsm" class="idref" href="#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_final_state" class="idref" href="#MC_final_state"><span class="id" title="definition">MC_final_state</span></a> (<a id="s:170" class="idref" href="#s:170"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="n:171" class="idref" href="#n:171"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:170"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:171"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_initial_consistent_state" class="idref" href="#MC_initial_consistent_state"><span class="id" title="definition">MC_initial_consistent_state</span></a> (<a id="s:172" class="idref" href="#s:172"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:172"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:172"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_non_initial_valid_state" class="idref" href="#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> (<a id="s:173" class="idref" href="#s:173"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:173"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:173"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_obs_equivalence" class="idref" href="#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> (<a id="s1:174" class="idref" href="#s1:174"><span class="id" title="binder">s1</span></a> <a id="s2:175" class="idref" href="#s2:175"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="n:176" class="idref" href="#n:176"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:174"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:176"><span class="id" title="variable">n</span></a>) <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:175"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:176"><span class="id" title="variable">n</span></a>).<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MC_obs_equiv_refl" class="idref" href="#MC_obs_equiv_refl"><span class="id" title="instance">MC_obs_equiv_refl</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MC_obs_equiv_symm" class="idref" href="#MC_obs_equiv_symm"><span class="id" title="instance">MC_obs_equiv_symm</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MC_obs_equiv_trans" class="idref" href="#MC_obs_equiv_trans"><span class="id" title="instance">MC_obs_equiv_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">s3</span> <span class="id" title="var">H12</span> <span class="id" title="var">H23</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">H12</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">H23</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MC_obs_equiv_equiv" class="idref" href="#MC_obs_equiv_equiv"><span class="id" title="instance">MC_obs_equiv_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_state_update_preserves_obs_equiv" class="idref" href="#MC_state_update_preserves_obs_equiv"><span class="id" title="lemma">MC_state_update_preserves_obs_equiv</span></a><br/>
&nbsp;&nbsp;(<a id="s:177" class="idref" href="#s:177"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:178" class="idref" href="#i:178"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="si:179" class="idref" href="#si:179"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:177"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:178"><span class="id" title="variable">i</span></a>) <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#si:179"><span class="id" title="variable">si</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:177"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:177"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:178"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#si:179"><span class="id" title="variable">si</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_obs_equiv_preserves_muddy" class="idref" href="#MC_obs_equiv_preserves_muddy"><span class="id" title="lemma">MC_obs_equiv_preserves_muddy</span></a> (<a id="s1:180" class="idref" href="#s1:180"><span class="id" title="binder">s1</span></a> <a id="s2:181" class="idref" href="#s2:181"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:180"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:181"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:180"><span class="id" title="variable">s1</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:181"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_union_list</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> (<span class="id" title="var">X</span> &amp; <span class="id" title="var">HX</span> &amp; <span class="id" title="var">Hi</span>); <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; -&gt; &amp; <span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s2</span> <span class="id" title="var">y</span>)); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s1</span> <span class="id" title="var">y</span>)); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hobs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_obs_equiv_preserves_consistency" class="idref" href="#MC_obs_equiv_preserves_consistency"><span class="id" title="lemma">MC_obs_equiv_preserves_consistency</span></a> (<a id="s1:182" class="idref" href="#s1:182"><span class="id" title="binder">s1</span></a> <a id="s2:183" class="idref" href="#s2:183"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:182"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:183"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:182"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:183"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hobs</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons</span>]; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnempty</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">empty_union_list</span>, <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnempty</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hnempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">j</span> &amp; -&gt; &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hnempty</span>, <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_muddy"><span class="id" title="lemma">MC_obs_equiv_preserves_muddy</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_trans_preserves_obs_equiv" class="idref" href="#MC_trans_preserves_obs_equiv"><span class="id" title="lemma">MC_trans_preserves_obs_equiv</span></a> (<a id="s:184" class="idref" href="#s:184"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:185" class="idref" href="#l:185"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="s':186" class="idref" href="#s':186"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="m:187" class="idref" href="#m:187"><span class="id" title="binder">m</span></a> <a id="m':188" class="idref" href="#m':188"><span class="id" title="binder">m'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#l:185"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:184"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:187"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':186"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m':188"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:184"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':186"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">li</span>], (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_state_update_preserves_obs_equiv"><span class="id" title="lemma">MC_state_update_preserves_obs_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s0</span>, (<span class="id" title="var">s</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#FunctionalElimination_MC_transition"><span class="id" title="instance">FunctionalElimination_MC_transition</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_in_futures_preserves_obs_equiv" class="idref" href="#MC_in_futures_preserves_obs_equiv"><span class="id" title="lemma">MC_in_futures_preserves_obs_equiv</span></a><br/>
&nbsp;&nbsp;(<a id="s:189" class="idref" href="#s:189"><span class="id" title="binder">s</span></a> <a id="s':190" class="idref" href="#s':190"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hfutures:191" class="idref" href="#Hfutures:191"><span class="id" title="binder">Hfutures</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:189"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':190"><span class="id" title="variable">s'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:189"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':190"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#in_futures_preserving"><span class="id" title="lemma">in_futures_preserving</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>); [.. | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">l</span> <span class="id" title="var">om1</span> <span class="id" title="var">om2</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_trans_preserves_obs_equiv"><span class="id" title="lemma">MC_trans_preserves_obs_equiv</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">l</span> <span class="id" title="var">om1</span> <span class="id" title="var">om2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_in_futures_preserves_muddy" class="idref" href="#MC_in_futures_preserves_muddy"><span class="id" title="lemma">MC_in_futures_preserves_muddy</span></a><br/>
&nbsp;&nbsp;(<a id="s:192" class="idref" href="#s:192"><span class="id" title="binder">s</span></a> <a id="s':193" class="idref" href="#s':193"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="Hfutures:194" class="idref" href="#Hfutures:194"><span class="id" title="binder">Hfutures</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:192"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':193"><span class="id" title="variable">s'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:192"><span class="id" title="variable">s</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':193"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_muddy"><span class="id" title="lemma">MC_obs_equiv_preserves_muddy</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_obs_equiv"><span class="id" title="lemma">MC_in_futures_preserves_obs_equiv</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_in_futures_preserves_consistency" class="idref" href="#MC_in_futures_preserves_consistency"><span class="id" title="lemma">MC_in_futures_preserves_consistency</span></a><br/>
&nbsp;&nbsp;(<a id="s:195" class="idref" href="#s:195"><span class="id" title="binder">s</span></a> <a id="s':196" class="idref" href="#s':196"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="Hfutures:197" class="idref" href="#Hfutures:197"><span class="id" title="binder">Hfutures</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':196"><span class="id" title="variable">s'</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:195"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':196"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_obs_equiv"><span class="id" title="lemma">MC_in_futures_preserves_obs_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfutures</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfutures'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equivalence"><span class="id" title="definition">MC_obs_equivalence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfutures'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfutures'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_muddy"><span class="id" title="lemma">MC_in_futures_preserves_muddy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfutures</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hfutures</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_non_initial_valid_consistent" class="idref" href="#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:198" class="idref" href="#s:198"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:198"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:198"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hnon_initial</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_ind"><span class="id" title="lemma">valid_state_prop_ind</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> []]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_consistency"><span class="id" title="lemma">MC_obs_equiv_preserves_consistency</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_trans_preserves_obs_equiv"><span class="id" title="lemma">MC_trans_preserves_obs_equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">s</span>) (<span class="id" title="var">l</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) (<span class="id" title="var">m</span> := <span class="id" title="var">om</span>) (<span class="id" title="var">m'</span> := <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">c</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">c</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_consistency"><span class="id" title="lemma">MC_obs_equiv_preserves_consistency</span></a>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHHvalid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_trans_preserves_obs_equiv"><span class="id" title="lemma">MC_trans_preserves_obs_equiv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">s</span>) (<span class="id" title="var">l</span> := <span class="id" title="var">l</span>) (<span class="id" title="var">m</span> := <span class="id" title="var">om</span>) (<span class="id" title="var">m'</span> := <span class="id" title="var">om'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_muddy_number_of_muddy_seen" class="idref" href="#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> (<a id="s:199" class="idref" href="#s:199"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="j:200" class="idref" href="#j:200"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:200"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:199"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:200"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:199"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hn</span>] <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>, <span class="id" title="lemma">size_difference</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_singleton</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">singleton_subseteq_l</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_muddy_number_of_muddy_seen_iff" class="idref" href="#MC_muddy_number_of_muddy_seen_iff"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen_iff</span></a> (<a id="s:201" class="idref" href="#s:201"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="j:202" class="idref" href="#j:202"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:201"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:202"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:201"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:201"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:202"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:201"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>, <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnempty</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">j</span><span class="id" title="notation">]}</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsizennull</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsizennull</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_clean_number_of_muddy_seen" class="idref" href="#MC_clean_number_of_muddy_seen"><span class="id" title="lemma">MC_clean_number_of_muddy_seen</span></a> (<a id="s:203" class="idref" href="#s:203"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="j:204" class="idref" href="#j:204"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:203"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:204"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:203"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:203"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:204"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:203"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hn</span>] <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>, <span class="id" title="lemma">size_difference_alt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">j</span><span class="id" title="notation">]}</span>)) <span class="id" title="keyword">with</span> 0; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_empty_iff</span>; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_clean_number_of_muddy_seen_iff" class="idref" href="#MC_clean_number_of_muddy_seen_iff"><span class="id" title="lemma">MC_clean_number_of_muddy_seen_iff</span></a> (<a id="s:205" class="idref" href="#s:205"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="j:206" class="idref" href="#j:206"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:206"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:205"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:206"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:205"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_clean_number_of_muddy_seen"><span class="id" title="lemma">MC_clean_number_of_muddy_seen</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn</span>, <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsize</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnempty</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">j</span><span class="id" title="notation">]}</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsize0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsize0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_number_of_muddy_seen" class="idref" href="#MC_number_of_muddy_seen"><span class="id" title="lemma">MC_number_of_muddy_seen</span></a> (<a id="s:207" class="idref" href="#s:207"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="n:208" class="idref" href="#n:208"><span class="id" title="binder">n</span></a><span class="id" title="notation">,</span> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:208"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#e25b6ed2455c445c4a805315e6c2e053"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:207"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#e25b6ed2455c445c4a805315e6c2e053"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:207"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#n:208"><span class="id" title="variable">n</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcons</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hdec</span> | <span class="id" title="var">Hdec</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdec</span> <span class="id" title="keyword">as</span> -&gt;; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_clean_number_of_muddy_seen"><span class="id" title="lemma">MC_clean_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdec</span> <span class="id" title="keyword">as</span> -&gt;; [<span class="id" title="var">lia</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_clean_round_obs" class="idref" href="#MC_transition_undecided_receive_clean_round_obs"><span class="id" title="lemma">MC_transition_undecided_receive_clean_round_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:209" class="idref" href="#i:209"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:210" class="idref" href="#s:210"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:211" class="idref" href="#m:211"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:210"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:211"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_9"><span class="id" title="definition">MC_transition_equation_9</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_3"><span class="id" title="definition">MC_transition_clause_3</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_clean_round_obs_plus_one" class="idref" href="#MC_transition_undecided_receive_clean_round_obs_plus_one"><span class="id" title="lemma">MC_transition_undecided_receive_clean_round_obs_plus_one</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:212" class="idref" href="#i:212"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:213" class="idref" href="#s:213"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:214" class="idref" href="#m:214"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:213"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:214"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_9"><span class="id" title="definition">MC_transition_equation_9</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_3"><span class="id" title="definition">MC_transition_clause_3</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_muddy_round_obs" class="idref" href="#MC_transition_undecided_receive_muddy_round_obs"><span class="id" title="lemma">MC_transition_undecided_receive_muddy_round_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:215" class="idref" href="#i:215"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:216" class="idref" href="#s:216"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:217" class="idref" href="#m:217"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:215"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:216"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:217"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_8"><span class="id" title="definition">MC_transition_equation_8</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_4"><span class="id" title="definition">MC_transition_clause_4</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_muddy_round_obs_minus_one" class="idref" href="#MC_transition_undecided_receive_muddy_round_obs_minus_one"><span class="id" title="lemma">MC_transition_undecided_receive_muddy_round_obs_minus_one</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:218" class="idref" href="#i:218"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:219" class="idref" href="#s:219"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:220" class="idref" href="#m:220"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:218"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:219"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:220"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_8"><span class="id" title="definition">MC_transition_equation_8</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_4"><span class="id" title="definition">MC_transition_clause_4</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)); [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">non_empty_inhabited</span>, <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_undecided_round_obs_minus_one" class="idref" href="#MC_transition_undecided_receive_undecided_round_obs_minus_one"><span class="id" title="lemma">MC_transition_undecided_receive_undecided_round_obs_minus_one</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:221" class="idref" href="#i:221"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:222" class="idref" href="#s:222"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:223" class="idref" href="#m:223"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:221"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:222"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:223"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_undecided_round_obs" class="idref" href="#MC_transition_undecided_receive_undecided_round_obs"><span class="id" title="lemma">MC_transition_undecided_receive_undecided_round_obs</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:224" class="idref" href="#i:224"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:225" class="idref" href="#s:225"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:226" class="idref" href="#m:226"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:224"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:225"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:226"><span class="id" title="variable">m</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_transition_undecided_receive_undecided_round_lt_obs_minus_one" class="idref" href="#MC_transition_undecided_receive_undecided_round_lt_obs_minus_one"><span class="id" title="lemma">MC_transition_undecided_receive_undecided_round_lt_obs_minus_one</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:227" class="idref" href="#i:227"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="s:228" class="idref" href="#s:228"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="m:229" class="idref" href="#m:229"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:227"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>)) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>)))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:229"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:228"><span class="id" title="variable">s</span></a>))))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H9</span>, <span class="id" title="var">H10</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab286"></a><h2 class="section">Invariant preservation</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_component_invariant_helper" class="idref" href="#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a id="s:230" class="idref" href="#s:230"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) (<a id="union:231" class="idref" href="#union:231"><span class="id" title="binder">union</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#union:231"><span class="id" title="variable">union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#union:231"><span class="id" title="variable">union</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:230"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_component_invariant" class="idref" href="#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> (<a id="s:232" class="idref" href="#s:232"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:233" class="idref" href="#i:233"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:232"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:233"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:232"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MC_component_invariant_inductive" class="idref" href="#MC_component_invariant_inductive"><span class="id" title="definition, inductive"><span id="MC_component_invariant_inductive_ind" class="id"><span id="MC_component_invariant_inductive_sind" class="id">MC_component_invariant_inductive</span></span></span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="component_invariant_undecided" class="idref" href="#component_invariant_undecided"><span class="id" title="constructor">component_invariant_undecided</span></a> : <span class="id" title="notation">forall</span> <a id="s:236" class="idref" href="#s:236"><span class="id" title="binder">s</span></a> <a id="i:237" class="idref" href="#i:237"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:236"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:237"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:236"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:237"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:236"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:237"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_inductive:234"><span class="id" title="inductive">MC_component_invariant_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:236"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:237"><span class="id" title="variable">i</span></a><br/>
| <a id="component_invariant_clean" class="idref" href="#component_invariant_clean"><span class="id" title="constructor">component_invariant_clean</span></a> : <span class="id" title="notation">forall</span> <a id="s:238" class="idref" href="#s:238"><span class="id" title="binder">s</span></a> <a id="i:239" class="idref" href="#i:239"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:238"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:239"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:238"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:239"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:238"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:239"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:238"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:238"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:239"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_inductive:234"><span class="id" title="inductive">MC_component_invariant_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:238"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:239"><span class="id" title="variable">i</span></a><br/>
| <a id="component_invariant_muddy" class="idref" href="#component_invariant_muddy"><span class="id" title="constructor">component_invariant_muddy</span></a> : <span class="id" title="notation">forall</span> <a id="s:240" class="idref" href="#s:240"><span class="id" title="binder">s</span></a> <a id="i:241" class="idref" href="#i:241"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:241"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:241"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:241"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:240"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:241"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_inductive:234"><span class="id" title="inductive">MC_component_invariant_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:240"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:241"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_component_invariant_equiv_MC_component_invariant_inductive" class="idref" href="#MC_component_invariant_equiv_MC_component_invariant_inductive"><span class="id" title="lemma">MC_component_invariant_equiv_MC_component_invariant_inductive</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:242" class="idref" href="#s:242"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:243" class="idref" href="#i:243"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:242"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:243"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_inductive"><span class="id" title="inductive">MC_component_invariant_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:242"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:243"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_match</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#component_invariant_undecided"><span class="id" title="constructor">component_invariant_undecided</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; [| <span class="id" title="tactic">congruence</span>..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#component_invariant_muddy"><span class="id" title="constructor">component_invariant_muddy</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#component_invariant_clean"><span class="id" title="constructor">component_invariant_clean</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_composite_invariant" class="idref" href="#MC_composite_invariant"><span class="id" title="definition">MC_composite_invariant</span></a> (<a id="s:244" class="idref" href="#s:244"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:245" class="idref" href="#i:245"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:245"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:244"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:245"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:244"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:245"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_composite_invariant_inductive" class="idref" href="#MC_composite_invariant_inductive"><span class="id" title="definition">MC_composite_invariant_inductive</span></a> (<a id="s:246" class="idref" href="#s:246"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:247" class="idref" href="#i:247"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:247"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:246"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:247"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_inductive"><span class="id" title="inductive">MC_component_invariant_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:246"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:247"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_composite_invariant_preservation_muddy_from_undecided" class="idref" href="#MC_composite_invariant_preservation_muddy_from_undecided"><span class="id" title="lemma">MC_composite_invariant_preservation_muddy_from_undecided</span></a><br/>
&nbsp;&nbsp;(<a id="s:248" class="idref" href="#s:248"><span class="id" title="binder">s</span></a> <a id="sm:249" class="idref" href="#sm:249"><span class="id" title="binder">sm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:250" class="idref" href="#i:250"><span class="id" title="binder">i</span></a> <a id="j:251" class="idref" href="#j:251"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="o:252" class="idref" href="#o:252"><span class="id" title="binder">o</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:252"><span class="id" title="variable">o</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:248"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:250"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:251"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:252"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:248"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="k:253" class="idref" href="#k:253"><span class="id" title="binder">k</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sm:249"><span class="id" title="variable">sm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#k:253"><span class="id" title="variable">k</span></a>) <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:248"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#k:253"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:252"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sm:249"><span class="id" title="variable">sm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:251"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:248"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:252"><span class="id" title="variable">o</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heqo</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hconsistent</span> <span class="id" title="var">Hobs_equiv</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hconsistent</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcons</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqo</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">o</span> <span class="id" title="var">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs_equiv</span>, <span class="id" title="var">Hcons</span>, <span class="id" title="lemma">size_difference</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_number_of_muddy_seen"><span class="id" title="lemma">MC_number_of_muddy_seen</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsistent</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hconsistent</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">singleton_subseteq_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_union_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)); <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_composite_invariant_preservation_muddy_from_clean" class="idref" href="#MC_composite_invariant_preservation_muddy_from_clean"><span class="id" title="lemma">MC_composite_invariant_preservation_muddy_from_clean</span></a> (<a id="s:254" class="idref" href="#s:254"><span class="id" title="binder">s</span></a> <a id="sm:255" class="idref" href="#sm:255"><span class="id" title="binder">sm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:256" class="idref" href="#i:256"><span class="id" title="binder">i</span></a> <a id="j:257" class="idref" href="#j:257"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="o:258" class="idref" href="#o:258"><span class="id" title="binder">o</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:258"><span class="id" title="variable">o</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:256"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:257"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:258"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="k:259" class="idref" href="#k:259"><span class="id" title="binder">k</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sm:255"><span class="id" title="variable">sm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#k:259"><span class="id" title="variable">k</span></a>) <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:254"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#k:259"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:258"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sm:255"><span class="id" title="variable">sm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:257"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:254"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#o:258"><span class="id" title="variable">o</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heqo</span> <span class="id" title="var">Hin</span> <span class="id" title="var">Hconsistent</span> <span class="id" title="var">Hobs_equiv</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hconsistent</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hcons</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqo</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">o</span> <span class="id" title="var">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs_equiv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span>, <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">j</span><span class="id" title="notation">]}</span>)) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_number_of_muddy_seen"><span class="id" title="lemma">MC_number_of_muddy_seen</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsistent</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_empty_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>; <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="non_initial_state_has_init_tr" class="idref" href="#non_initial_state_has_init_tr"><span class="id" title="lemma">non_initial_state_has_init_tr</span></a> (<a id="is:260" class="idref" href="#is:260"><span class="id" title="binder">is</span></a> <a id="s:261" class="idref" href="#s:261"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:262" class="idref" href="#tr:262"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:260"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:261"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:262"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:263" class="idref" href="#i:263"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:261"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:263"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="item:264" class="idref" href="#item:264"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:264"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:262"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:264"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Htr</span> <span class="id" title="var">i</span> <span class="id" title="var">Hnoninit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">using</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_rev_ind"><span class="id" title="lemma">finite_valid_trace_init_to_rev_ind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="var">contradiction</span> <span class="id" title="var">Hnoninit</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsi</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">item</span> &amp; <span class="id" title="var">Hitem</span> &amp; <span class="id" title="var">Hinit</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_list_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span> |]; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">Ht</span>], <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">j</span> &amp; <span class="id" title="var">lj</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>, <span class="id" title="var">Hv</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">j</span> <span class="id" title="var">lj</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">iom</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="size_MuddyUnion_input_valid_transition" class="idref" href="#size_MuddyUnion_input_valid_transition"><span class="id" title="lemma">size_MuddyUnion_input_valid_transition</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:265" class="idref" href="#l:265"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#label"><span class="id" title="projection">label</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) (<a id="s:266" class="idref" href="#s:266"><span class="id" title="binder">s</span></a> <a id="s':267" class="idref" href="#s':267"><span class="id" title="binder">s'</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="iom:268" class="idref" href="#iom:268"><span class="id" title="binder">iom</span></a> <a id="oom:269" class="idref" href="#oom:269"><span class="id" title="binder">oom</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#l:265"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:266"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#iom:268"><span class="id" title="variable">iom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':267"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#oom:269"><span class="id" title="variable">oom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:266"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s':267"><span class="id" title="variable">s'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">set_size_proper</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_muddy"><span class="id" title="lemma">MC_obs_equiv_preserves_muddy</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_trans_preserves_obs_equiv"><span class="id" title="lemma">MC_trans_preserves_obs_equiv</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">l</span> <span class="id" title="var">iom</span> <span class="id" title="var">oom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hivt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_finite_valid_trace_from_to" class="idref" href="#consistent_finite_valid_trace_from_to"><span class="id" title="lemma">consistent_finite_valid_trace_from_to</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:270" class="idref" href="#s1:270"><span class="id" title="binder">s1</span></a> <a id="s2:271" class="idref" href="#s2:271"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="tr:272" class="idref" href="#tr:272"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>) (<a id="i:273" class="idref" href="#i:273"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:270"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:271"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:272"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:271"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:273"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:271"><span class="id" title="variable">s2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hfvt</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s2</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">c</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfvt</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_valid_state_prop" class="idref" href="#consistent_valid_state_prop"><span class="id" title="lemma">consistent_valid_state_prop</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:274" class="idref" href="#s:274"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:275" class="idref" href="#i:275"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:274"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:274"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:275"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:274"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">Hv</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent_finite_valid_trace_from_to"><span class="id" title="lemma">consistent_finite_valid_trace_from_to</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_component_invariant_helper_from_constraint" class="idref" href="#MC_component_invariant_helper_from_constraint"><span class="id" title="lemma">MC_component_invariant_helper_from_constraint</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:276" class="idref" href="#s:276"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:277" class="idref" href="#i:277"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="r:278" class="idref" href="#r:278"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="status:279" class="idref" href="#status:279"><span class="id" title="binder">status</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant"><span class="id" title="definition">MC_composite_invariant</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:276"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:277"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:276"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:277"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:279"><span class="id" title="variable">status</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:276"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:277"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#r:278"><span class="id" title="variable">r</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:279"><span class="id" title="variable">status</span></a>))) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:276"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> * <span class="id" title="var">Hinvs</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">oj</span> [[<span class="id" title="var">rj</span> <span class="id" title="var">statusj</span>] |]] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsj</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hinvs</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hjinit</span> | <span class="id" title="var">Hinvsj</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjinit</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvsj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvsj</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvsj</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[] | []]; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">statusj</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The proof of the following lemma proceeds by induction on the length of the trace
  to the state <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span> (such a trace exists because of the assumption that the state <span class="inlinecode"><a class="idref" href="VLSM.Examples.ELMO.MO.html#s"><span class="id" title="projection">s</span></a></span>
  is valid). The induction step analyzes each case of the transition function
  and proves the corresponding relations depending on the particular
  conditions of the transition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="MC_composite_invariant_preservation" class="idref" href="#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> (<a id="s:280" class="idref" href="#s:280"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:280"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant"><span class="id" title="definition">MC_composite_invariant</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:280"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvsp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvsp</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">tr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">len_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Heqlen_tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">len_tr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">len_tr</span> <span class="id" title="var">Hind</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">Wf_nat.lt_wf</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">len_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr</span> <span class="id" title="var">tr'</span> <span class="id" title="var">lst</span> <span class="id" title="var">Htr_lst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app_split"><span class="id" title="lemma">finite_valid_trace_from_to_app_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr'</span> <span class="id" title="var">Hlst</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">s'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Heqs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqs</span>, <span class="id" title="var">Hlst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#size_MuddyUnion_input_valid_transition"><span class="id" title="lemma">size_MuddyUnion_input_valid_transition</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">lj</span>], <span class="id" title="var">Hlst</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">eqn</span>: <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hdest</span>]; <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinvs</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant"><span class="id" title="definition">MC_composite_invariant</span></a> <span class="id" title="var">s'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hind</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); [<span class="id" title="tactic">subst</span> <span class="id" title="var">j</span> |]; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hinvs</span> <span class="id" title="var">i</span>)].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Htr'</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">Hdest</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Htj</span> <span class="id" title="var">Hinvs</span> <span class="id" title="var">Hind</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hinvs'</span> := <span class="id" title="var">Hinvs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinvs</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">i</span> <span class="id" title="var">lj</span> (<span class="id" title="var">s'</span> <span class="id" title="var">i</span>) <span class="id" title="var">input</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqcall</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;emit&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;init&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span> <span class="id" title="var">Htj</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hunion</span> <span class="id" title="var">Hc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hc</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hc</span>, <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">singleton_subseteq_l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;init&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent_finite_valid_trace_from_to"><span class="id" title="lemma">consistent_finite_valid_trace_from_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">HMuddy_s'</span> <span class="id" title="var">Hconsistent</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">cbn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsistent</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinvs</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper_from_constraint"><span class="id" title="lemma">MC_component_invariant_helper_from_constraint</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">o0</span> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation_muddy_from_undecided"><span class="id" title="lemma">MC_composite_invariant_preservation_muddy_from_undecided</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent_finite_valid_trace_from_to"><span class="id" title="lemma">consistent_finite_valid_trace_from_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">HMuddy_s'</span> <span class="id" title="var">Hconsistent</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">cbn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsistent</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinvs</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper_from_constraint"><span class="id" title="lemma">MC_component_invariant_helper_from_constraint</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">o0</span> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation_muddy_from_clean"><span class="id" title="lemma">MC_composite_invariant_preservation_muddy_from_clean</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent_finite_valid_trace_from_to"><span class="id" title="lemma">consistent_finite_valid_trace_from_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">HMuddy_s'</span> <span class="id" title="var">Hconsistent</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">cbn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsistent</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinvs</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper_from_constraint"><span class="id" title="lemma">MC_component_invariant_helper_from_constraint</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">o0</span> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hstobs</span> <span class="id" title="var">Hmuddy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hmuddy</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)); [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HMuddy_s'</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;receive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvs</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent_finite_valid_trace_from_to"><span class="id" title="lemma">consistent_finite_valid_trace_from_to</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">HMuddy_s'</span> <span class="id" title="var">Hconsistent</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">cbn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsistent</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hinvs</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">r'</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>))) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper_from_constraint"><span class="id" title="lemma">MC_component_invariant_helper_from_constraint</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">o0</span> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s'</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqcall</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_composite_invariant_preservation_inductive" class="idref" href="#MC_composite_invariant_preservation_inductive"><span class="id" title="lemma">MC_composite_invariant_preservation_inductive</span></a> (<a id="s:281" class="idref" href="#s:281"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:281"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_inductive"><span class="id" title="definition">MC_composite_invariant_inductive</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:281"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">i</span>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_equiv_MC_component_invariant_inductive"><span class="id" title="lemma">MC_component_invariant_equiv_MC_component_invariant_inductive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab287"></a><h2 class="section">Auxiliary progress results</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_valid_noequiv_muddy" class="idref" href="#MC_valid_noequiv_muddy"><span class="id" title="lemma">MC_valid_noequiv_muddy</span></a> (<a id="s:282" class="idref" href="#s:282"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="m:283" class="idref" href="#m:283"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:282"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_status"><span class="id" title="projection">msg_status</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:283"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:282"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:283"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_round"><span class="id" title="projection">msg_round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:283"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:282"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:283"><span class="id" title="variable">m</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:282"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hmuddy</span> <span class="id" title="var">Hnoequiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hs'</span> := <span class="id" title="var">Hs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hs</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#msg_index"><span class="id" title="projection">msg_index</span></a> <span class="id" title="var">m</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | <span class="id" title="var">Hinvariant</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnoequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnoequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnoequiv</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hnoequivst</span> <span class="id" title="var">Hnoequivr</span>] | [<span class="id" title="var">Hnoequivst</span> <span class="id" title="var">Hnoequivr</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvariant</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hn</span> <span class="id" title="var">Hstobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstobs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hn</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent_valid_state_prop"><span class="id" title="lemma">consistent_valid_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span>; <span class="id" title="var">cbn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">msg_index0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hstobs</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H11</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span>, <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnempty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hintersectgeq1</span> : <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">msg_index0</span><span class="id" title="notation">]}</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hintersectleq1</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">msg_index0</span><span class="id" title="notation">]}</span> <span class="id" title="notation">⊆</span> <span class="id" title="notation">{[</span><span class="id" title="var">msg_index0</span><span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_size</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintersectleq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintersectleq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hintersecteq1</span> : <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">msg_index0</span><span class="id" title="notation">]}</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_1_elem_of</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintersecteq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_valid_noninitial_state_undecided_round_less_obs" class="idref" href="#MC_valid_noninitial_state_undecided_round_less_obs"><span class="id" title="lemma">MC_valid_noninitial_state_undecided_round_less_obs</span></a><br/>
&nbsp;&nbsp;(<a id="s:284" class="idref" href="#s:284"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:285" class="idref" href="#i:285"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:285"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:285"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:285"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:284"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:285"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hundecided</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation_inductive"><span class="id" title="lemma">MC_composite_invariant_preservation_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid</span> <span class="id" title="var">i</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>; [| <span class="id" title="tactic">congruence</span> ..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The definitions <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace"><span class="id" title="definition">MC_build_muddy_muddy_trace</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a></span> are
  useful in the proof of the lemma <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_valid_message"><span class="id" title="lemma">MC_build_valid_message</span></a></span>, where, having a valid
  state, we aim to obtain a valid message with status <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a></span>, emitted earlier
  on a trace leading to that state.

<div class="paragraph"> </div>

  To achieve this, we take two indexes <span class="inlinecode"><span class="id" title="var">i</span></span> and <span class="inlinecode"><span class="id" title="var">j</span></span>, with child <span class="inlinecode"><span class="id" title="var">j</span></span> being seen as muddy
  by <span class="inlinecode"><span class="id" title="var">i</span></span>, and want to build a valid trace which corresponds to an exchange of messages
  between these two children.

<div class="paragraph"> </div>

  We then use these two function definitions in order to build these traces between
  two specific children.

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="MC_build_muddy_muddy_trace" class="idref" href="#MC_build_muddy_muddy_trace"><span class="id" title="definition">MC_build_muddy_muddy_trace</span></a> (<a id="is:286" class="idref" href="#is:286"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:287" class="idref" href="#target:287"><span class="id" title="binder">target</span></a> <a id="helper:288" class="idref" href="#helper:288"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:289" class="idref" href="#round:289"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:289"><span class="id" title="variable">round</span></a> <span class="id" title="keyword">with</span><br/>
| 0 =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:292" class="idref" href="#s:292"><span class="id" title="binder">s</span></a> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:286"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:288"><span class="id" title="variable">helper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:286"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:288"><span class="id" title="variable">helper</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item0:293" class="idref" href="#item0:293"><span class="id" title="binder">item0</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:288"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:292"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item1:294" class="idref" href="#item1:294"><span class="id" title="binder">item1</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:292"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:292"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item0:293"><span class="id" title="variable">item0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item1:294"><span class="id" title="variable">item1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tr:295" class="idref" href="#tr:295"><span class="id" title="binder">tr</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace:290"><span class="id" title="definition">MC_build_muddy_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:286"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:288"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:296" class="idref" href="#s:296"><span class="id" title="binder">s</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:286"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:295"><span class="id" title="variable">tr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item:297" class="idref" href="#item:297"><span class="id" title="binder">item</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:288"><span class="id" title="variable">helper</span></a> <span class="id" title="var">n</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:296"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:296"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:287"><span class="id" title="variable">target</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:295"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:297"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_muddy_muddy_trace_last_target" class="idref" href="#MC_build_muddy_muddy_trace_last_target"><span class="id" title="lemma">MC_build_muddy_muddy_trace_last_target</span></a><br/>
&nbsp;&nbsp;(<a id="is:298" class="idref" href="#is:298"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:299" class="idref" href="#target:299"><span class="id" title="binder">target</span></a> <a id="helper:300" class="idref" href="#helper:300"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:301" class="idref" href="#round:301"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="obs:302" class="idref" href="#obs:302"><span class="id" title="binder">obs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:298"><span class="id" title="variable">is</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace"><span class="id" title="definition">MC_build_muddy_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:298"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:299"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:300"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:301"><span class="id" title="variable">round</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:299"><span class="id" title="variable">target</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#obs:302"><span class="id" title="variable">obs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:301"><span class="id" title="variable">round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">round</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_muddy_muddy_trace_last_helper" class="idref" href="#MC_build_muddy_muddy_trace_last_helper"><span class="id" title="lemma">MC_build_muddy_muddy_trace_last_helper</span></a><br/>
&nbsp;&nbsp;(<a id="is:303" class="idref" href="#is:303"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:304" class="idref" href="#target:304"><span class="id" title="binder">target</span></a> <a id="helper:305" class="idref" href="#helper:305"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:306" class="idref" href="#round:306"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:305"><span class="id" title="variable">helper</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:304"><span class="id" title="variable">target</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="obs:307" class="idref" href="#obs:307"><span class="id" title="binder">obs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:303"><span class="id" title="variable">is</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace"><span class="id" title="definition">MC_build_muddy_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:303"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:304"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:305"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:306"><span class="id" title="variable">round</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:305"><span class="id" title="variable">helper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#obs:307"><span class="id" title="variable">obs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:306"><span class="id" title="variable">round</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">round</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#last_last"><span class="id" title="lemma">last_last</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace_last_target"><span class="id" title="lemma">MC_build_muddy_muddy_trace_last_target</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">helper</span> <span class="id" title="var">target</span> <span class="id" title="var">round</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">obs</span> &amp; <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">round</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 0) <span class="id" title="keyword">with</span> <span class="id" title="var">round</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_valid_message_from_valid_state" class="idref" href="#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a> (<a id="s:308" class="idref" href="#s:308"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:308"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:309" class="idref" href="#i:309"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="obs:310" class="idref" href="#obs:310"><span class="id" title="binder">obs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a>) (<a id="round:311" class="idref" href="#round:311"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="status:312" class="idref" href="#status:312"><span class="id" title="binder">status</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#ChildStatus"><span class="id" title="inductive">ChildStatus</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:308"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:309"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#obs:310"><span class="id" title="variable">obs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:311"><span class="id" title="variable">round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:312"><span class="id" title="variable">status</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:309"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:311"><span class="id" title="variable">round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#status:312"><span class="id" title="variable">status</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span> * <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_out"><span class="id" title="lemma">input_valid_transition_out</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#emit"><span class="id" title="constructor">emit</span></a>) (<span class="id" title="var">s</span> := <span class="id" title="var">s</span>) (<span class="id" title="var">s'</span> := <span class="id" title="var">s</span>) (<span class="id" title="var">om</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="var">Hsi</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_5"><span class="id" title="definition">MC_transition_equation_5</span></a>, <a class="idref" href="VLSM.Core.Composition.html#state_update_id"><span class="id" title="lemma">state_update_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="st_obs_finite_valid_trace_from_to" class="idref" href="#st_obs_finite_valid_trace_from_to"><span class="id" title="lemma">st_obs_finite_valid_trace_from_to</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s1:313" class="idref" href="#s1:313"><span class="id" title="binder">s1</span></a> <a id="s2:314" class="idref" href="#s2:314"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="tr:315" class="idref" href="#tr:315"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>) (<a id="i:316" class="idref" href="#i:316"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:313"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:314"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:315"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s1:313"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:316"><span class="id" title="variable">i</span></a>) <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s2:314"><span class="id" title="variable">s2</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:316"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_obs_equiv"><span class="id" title="lemma">MC_in_futures_preserves_obs_equiv</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_muddy_muddy_trace_valid" class="idref" href="#MC_build_muddy_muddy_trace_valid"><span class="id" title="lemma">MC_build_muddy_muddy_trace_valid</span></a><br/>
&nbsp;&nbsp;(<a id="is:317" class="idref" href="#is:317"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:318" class="idref" href="#target:318"><span class="id" title="binder">target</span></a> <a id="helper:319" class="idref" href="#helper:319"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:320" class="idref" href="#round:320"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:318"><span class="id" title="variable">target</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:319"><span class="id" title="variable">helper</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:318"><span class="id" title="variable">target</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:319"><span class="id" title="variable">helper</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:320"><span class="id" title="variable">round</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace"><span class="id" title="definition">MC_build_muddy_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:317"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:318"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:319"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:320"><span class="id" title="variable">round</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">Hcons</span> <span class="id" title="var">Htarget</span> <span class="id" title="var">Hhelper</span> <span class="id" title="var">Hdiff</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">target</span> <span class="id" title="var">helper</span> <span class="id" title="var">Htarget</span> <span class="id" title="var">Hhelper</span> <span class="id" title="var">Hdiff</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">round</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">round</span> <span class="id" title="var">IHround</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">helper</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinithelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinithelper</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinithelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinittarget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinittarget</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinittarget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmuddyunion</span> <span class="id" title="var">Hconsobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsobs</span> <span class="id" title="var">helper</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconshelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsobs</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconstarget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 2) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_alt_equiv"><span class="id" title="lemma">finite_valid_trace_init_to_alt_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#mvt_extend"><span class="id" title="constructor">mvt_extend</span></a>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">o_helper</span> []] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hishelper</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">o_helper</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>)) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hishelper</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hconsobs</span>, <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hso</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">elem_of_subseteq_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">o_target</span> []] <span class="id" title="var">eqn</span>: <span class="id" title="var">Histarget</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">o_target</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>)) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Histarget</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hconsobs</span>, <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hso</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">elem_of_subseteq_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_consistency"><span class="id" title="lemma">MC_obs_equiv_preserves_consistency</span></a> <span class="id" title="keyword">is</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_state_update_preserves_obs_equiv"><span class="id" title="lemma">MC_state_update_preserves_obs_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#mvt_empty"><span class="id" title="constructor">mvt_empty</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHround</span> <span class="id" title="var">helper</span> <span class="id" title="var">target</span> <span class="id" title="var">Hhelper</span> <span class="id" title="var">Htarget</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHround</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHround</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHround</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IH</span> <span class="id" title="var">IHinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="lemma">finite_valid_trace_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace_last_helper"><span class="id" title="lemma">MC_build_muddy_muddy_trace_last_helper</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">helper</span> <span class="id" title="var">target</span> <span class="id" title="var">round</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">obs</span> &amp; <span class="id" title="var">Hlasthelper</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace_last_target"><span class="id" title="lemma">MC_build_muddy_muddy_trace_last_target</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">helper</span> <span class="id" title="var">target</span> <span class="id" title="var">round</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">obs'</span> &amp; <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfinal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">final</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> := <span class="id" title="var">final</span>) (<span class="id" title="var">obs</span> := <span class="id" title="var">obs'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlasthelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlasthelper</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hobsequiv</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>) <span class="id" title="notation">≡</span> <span class="id" title="var">obs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs_finite_valid_trace_from_to"><span class="id" title="lemma">st_obs_finite_valid_trace_from_to</span></a>, <span class="id" title="var">Hlasthelper</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_True</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">round</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">round</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_muddy"><span class="id" title="lemma">MC_in_futures_preserves_muddy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_muddy"><span class="id" title="lemma">MC_in_futures_preserves_muddy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hnrmuddy</span> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">target</span> <span class="id" title="var">Hcons</span> <span class="id" title="var">Htarget</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobsequiv</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobsequiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnempty</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MC_build_clean_muddy_trace" class="idref" href="#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> (<a id="is:321" class="idref" href="#is:321"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:322" class="idref" href="#target:322"><span class="id" title="binder">target</span></a> <a id="helper:323" class="idref" href="#helper:323"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:324" class="idref" href="#round:324"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:324"><span class="id" title="variable">round</span></a> <span class="id" title="keyword">with</span><br/>
| 0 =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:327" class="idref" href="#s:327"><span class="id" title="binder">s</span></a> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:321"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:321"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))<br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item0:328" class="idref" href="#item0:328"><span class="id" title="binder">item0</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:327"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item1:329" class="idref" href="#item1:329"><span class="id" title="binder">item1</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:327"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:327"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item0:328"><span class="id" title="variable">item0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item1:329"><span class="id" title="variable">item1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><br/>
| <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tr:330" class="idref" href="#tr:330"><span class="id" title="binder">tr</span></a> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace:325"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:321"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:331" class="idref" href="#s:331"><span class="id" title="binder">s</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:321"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:330"><span class="id" title="variable">tr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item0:332" class="idref" href="#item0:332"><span class="id" title="binder">item0</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a> <span class="id" title="var">n</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">n</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="item1:333" class="idref" href="#item1:333"><span class="id" title="binder">item1</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:323"><span class="id" title="variable">helper</span></a> <span class="id" title="var">n</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item0:332"><span class="id" title="variable">item0</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:331"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:322"><span class="id" title="variable">target</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:330"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item0:332"><span class="id" title="variable">item0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item1:333"><span class="id" title="variable">item1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_clean_muddy_trace_last_target" class="idref" href="#MC_build_clean_muddy_trace_last_target"><span class="id" title="lemma">MC_build_clean_muddy_trace_last_target</span></a><br/>
&nbsp;&nbsp;(<a id="is:334" class="idref" href="#is:334"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:335" class="idref" href="#target:335"><span class="id" title="binder">target</span></a> <a id="helper:336" class="idref" href="#helper:336"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:337" class="idref" href="#round:337"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="obs:338" class="idref" href="#obs:338"><span class="id" title="binder">obs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:334"><span class="id" title="variable">is</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:334"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:335"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:336"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:337"><span class="id" title="variable">round</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:335"><span class="id" title="variable">target</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#obs:338"><span class="id" title="variable">obs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:337"><span class="id" title="variable">round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">round</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#last_app"><span class="id" title="lemma">last_app</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_clean_muddy_trace_last_helper" class="idref" href="#MC_build_clean_muddy_trace_last_helper"><span class="id" title="lemma">MC_build_clean_muddy_trace_last_helper</span></a><br/>
&nbsp;&nbsp;(<a id="is:339" class="idref" href="#is:339"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:340" class="idref" href="#target:340"><span class="id" title="binder">target</span></a> <a id="helper:341" class="idref" href="#helper:341"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:342" class="idref" href="#round:342"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:341"><span class="id" title="variable">helper</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:340"><span class="id" title="variable">target</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="obs:343" class="idref" href="#obs:343"><span class="id" title="binder">obs</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.indexSet"><span class="id" title="variable">indexSet</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:339"><span class="id" title="variable">is</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:339"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:340"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:341"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:342"><span class="id" title="variable">round</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:341"><span class="id" title="variable">helper</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#obs:343"><span class="id" title="variable">obs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:342"><span class="id" title="variable">round</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hneq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">round</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#last_app"><span class="id" title="lemma">last_app</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">round</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 0) <span class="id" title="keyword">with</span> <span class="id" title="var">round</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">eexists</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_clean_muddy_trace_valid" class="idref" href="#MC_build_clean_muddy_trace_valid"><span class="id" title="lemma">MC_build_clean_muddy_trace_valid</span></a><br/>
&nbsp;&nbsp;(<a id="is:344" class="idref" href="#is:344"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="target:345" class="idref" href="#target:345"><span class="id" title="binder">target</span></a> <a id="helper:346" class="idref" href="#helper:346"><span class="id" title="binder">helper</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) (<a id="round:347" class="idref" href="#round:347"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:345"><span class="id" title="variable">target</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:346"><span class="id" title="variable">helper</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:347"><span class="id" title="variable">round</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:345"><span class="id" title="variable">target</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#is:344"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#target:345"><span class="id" title="variable">target</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#helper:346"><span class="id" title="variable">helper</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:347"><span class="id" title="variable">round</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">Hcons</span> <span class="id" title="var">Htarget</span> <span class="id" title="var">Hhelper</span> <span class="id" title="var">Hround</span> <span class="id" title="var">Hsizemuddy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdiff</span> : <span class="id" title="var">target</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">helper</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">round</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">round</span> <span class="id" title="var">IHround</span>]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">helper</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinithelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinithelper</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinithelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinittarget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinittarget</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinittarget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmuddyunion</span> <span class="id" title="var">Hconsobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsobs</span> <span class="id" title="var">helper</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconshelper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hconsobs</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hconstarget</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to_alt_equiv"><span class="id" title="lemma">finite_valid_trace_init_to_alt_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#mvt_extend"><span class="id" title="constructor">mvt_extend</span></a>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">o_helper</span> []] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hishelper</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">o_helper</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>)) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hishelper</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hconsobs</span>, <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hso</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">elem_of_subseteq_singleton</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">o_target</span> [|]] <span class="id" title="var">eqn</span>: <span class="id" title="var">Histarget</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> <span class="id" title="var">o_target</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; [<span class="id" title="var">lia</span> | <span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">replace</span> <span class="id" title="var">o_target</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Histarget</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hconsobs</span>, <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsizeintersect</span> : <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">target</span><span class="id" title="notation">]}</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f9"><span class="id" title="notation">&gt;=</span></a> 2) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hintersectleq1</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">target</span><span class="id" title="notation">]}</span> <span class="id" title="notation">⊆</span> <span class="id" title="notation">{[</span><span class="id" title="var">target</span><span class="id" title="notation">]}</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">subseteq_size</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintersectleq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hintersectleq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_obs_equiv_preserves_consistency"><span class="id" title="lemma">MC_obs_equiv_preserves_consistency</span></a> <span class="id" title="keyword">is</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_state_update_preserves_obs_equiv"><span class="id" title="lemma">MC_state_update_preserves_obs_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#mvt_empty"><span class="id" title="constructor">mvt_empty</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">spec</span> <span class="id" title="var">IHround</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHround</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">IH</span> <span class="id" title="var">IHinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace_last_helper"><span class="id" title="lemma">MC_build_clean_muddy_trace_last_helper</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">target</span> <span class="id" title="var">helper</span> <span class="id" title="var">round</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">obs</span> &amp; <span class="id" title="var">Hlasthelper</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace_last_target"><span class="id" title="lemma">MC_build_clean_muddy_trace_last_target</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">target</span> <span class="id" title="var">helper</span> <span class="id" title="var">round</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">obs'</span> &amp; <span class="id" title="var">Hlast</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hvalidtr1</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">helper</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">target</span> <span class="id" title="var">helper</span> <span class="id" title="var">round</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">target</span> <span class="id" title="var">round</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">target</span> <span class="id" title="var">helper</span> <span class="id" title="var">round</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">helper</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace"><span class="id" title="definition">MC_build_clean_muddy_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">is</span> <span class="id" title="var">target</span> <span class="id" title="var">helper</span> <span class="id" title="var">round</span>) <span class="id" title="var">helper</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> <span class="id" title="var">round</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfinal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlasthelper</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlasthelper</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hobsequiv</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">helper</span>) <span class="id" title="notation">≡</span> <span class="id" title="var">obs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs_finite_valid_trace_from_to"><span class="id" title="lemma">st_obs_finite_valid_trace_from_to</span></a>, <span class="id" title="var">Hlasthelper</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htargetobs</span> : <span class="id" title="var">target</span> <span class="id" title="notation">∉</span> <span class="id" title="var">obs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobsequiv</span>, <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">round</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_True</span>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span>, <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobsequiv</span>, <span class="id" title="var">Hcons</span>, <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_singleton"><span class="id" title="lemma">finite_valid_trace_from_to_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hfinal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">final</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_out"><span class="id" title="lemma">input_valid_transition_out</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">helper</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#emit"><span class="id" title="constructor">emit</span></a>) (<span class="id" title="var">s</span> := <span class="id" title="var">final</span>) (<span class="id" title="var">s'</span> := <span class="id" title="var">final</span>) (<span class="id" title="var">om</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_5"><span class="id" title="definition">MC_transition_equation_5</span></a>, <a class="idref" href="VLSM.Core.Composition.html#state_update_twice"><span class="id" title="lemma">state_update_twice</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlasthelper</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hobsequiv</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">target</span>) <span class="id" title="notation">≡</span> <span class="id" title="var">obs'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs_finite_valid_trace_from_to"><span class="id" title="lemma">st_obs_finite_valid_trace_from_to</span></a>, <span class="id" title="var">Hlast</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htargetobs</span> : <span class="id" title="var">helper</span> <span class="id" title="notation">∈</span> <span class="id" title="var">obs'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobsequiv</span>, <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">replace</span> (<span class="id" title="var">round</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">round</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hobsequiv</span>, <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_build_valid_message" class="idref" href="#MC_build_valid_message"><span class="id" title="lemma">MC_build_valid_message</span></a> (<a id="s:348" class="idref" href="#s:348"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="round:349" class="idref" href="#round:349"><span class="id" title="binder">round</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:348"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:350" class="idref" href="#i:350"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:349"><span class="id" title="variable">round</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:348"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:350"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:350"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#round:349"><span class="id" title="variable">round</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hlength</span> <span class="id" title="var">i</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hcons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hnoninit</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Hfromto</span> &amp; <span class="id" title="var">Hinit</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hcons</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnemptys</span> <span class="id" title="var">Hconss</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_consistency"><span class="id" title="lemma">MC_in_futures_preserves_consistency</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcons</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hcons</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmuddyis</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_in_futures_preserves_muddy"><span class="id" title="lemma">MC_in_futures_preserves_muddy</span></a>; <span class="id" title="tactic">exists</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hconss</span>, &lt;- <span class="id" title="var">Hmuddyis</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:351" class="idref" href="#j:351"><span class="id" title="binder"><span id="j:352" class="id">j</span></span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:351"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">j</span> &amp; <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hcons'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set_choose</span>, <span class="id" title="lemma">size_non_empty_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion_elem"><span class="id" title="lemma">MuddyUnion_elem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hhelper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdiff</span> : <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">j</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace_last_target"><span class="id" title="lemma">MC_build_muddy_muddy_trace_last_target</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">round</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">obsf</span> &amp; <span class="id" title="var">Hlasti</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_muddy_muddy_trace_valid"><span class="id" title="lemma">MC_build_muddy_muddy_trace_valid</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">round</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">Hcons</span> <span class="id" title="var">e</span> <span class="id" title="var">Hhelper</span> <span class="id" title="var">Hdiff</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_difference</span>, <span class="id" title="lemma">size_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>; [| <span class="id" title="var">set_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> 1)); <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace_last_target"><span class="id" title="lemma">MC_build_clean_muddy_trace_last_target</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">round</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">obsf</span> &amp; <span class="id" title="var">Hlasti</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_clean_muddy_trace_valid"><span class="id" title="lemma">MC_build_clean_muddy_trace_valid</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">round</span> <span class="id" title="var">Hinit</span> <span class="id" title="var">Hcons</span> <span class="id" title="var">n</span> <span class="id" title="var">Hhelper</span>); [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hcons'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> <span class="id" title="var">round</span> <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_difference_alt</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">obs</span> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">l</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) (<span class="id" title="var">s</span> := <span class="id" title="keyword">is</span>) (<span class="id" title="var">om</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) (<span class="id" title="var">om'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hcons'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hisi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hisi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>))) <span class="id" title="keyword">with</span> 1; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons'</span>, <span class="id" title="lemma">size_difference_alt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span> <span class="id" title="notation">∩</span> <span class="id" title="notation">{[</span><span class="id" title="var">i</span><span class="id" title="notation">]}</span> <span class="id" title="notation">≡</span> <span class="id" title="notation">∅</span>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="keyword">is</span>)) <span class="id" title="var">eqn</span>: <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_empty_inv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">size_empty</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_initial_state_prop_not_None" class="idref" href="#composite_initial_state_prop_not_None"><span class="id" title="lemma">composite_initial_state_prop_not_None</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="s:353" class="idref" href="#s:353"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:354" class="idref" href="#i:354"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:353"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:354"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:353"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">Hneq</span> <span class="id" title="var">Hforall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_finite</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hforall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_not_Forall</span>, <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_valid_noequiv_valid" class="idref" href="#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> (<a id="s:355" class="idref" href="#s:355"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="m:356" class="idref" href="#m:356"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#Message"><span class="id" title="record">Message</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:355"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:355"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:356"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_message_prop"><span class="id" title="definition">valid_message_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#m:356"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hnoequiv</span> <span class="id" title="var">Hlength</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnoequiv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">j</span> <span class="id" title="var">rm</span> <span class="id" title="var">statusm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">oj</span> [[<span class="id" title="var">rj</span> <span class="id" title="var">statusj</span>] |]] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsjf</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnoequiv</span> <span class="id" title="keyword">as</span> [[-&gt; -&gt;] | [-&gt; <span class="id" title="var">Hrm</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_message_from_valid_state"><span class="id" title="lemma">MC_valid_message_from_valid_state</span></a> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnivs</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#composite_initial_state_prop_not_None"><span class="id" title="lemma">composite_initial_state_prop_not_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsjf</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcons</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hinvariants</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hinvariants</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hinvariant</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsjf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsjf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_build_valid_message"><span class="id" title="lemma">MC_build_valid_message</span></a> <span class="id" title="var">s</span>); [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">oj</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <span class="id" title="tactic">in</span> *; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsjf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab288"></a><h2 class="section">Progress</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_undecided_muddy_to_muddy_increase_round" class="idref" href="#MC_undecided_muddy_to_muddy_increase_round"><span class="id" title="lemma">MC_undecided_muddy_to_muddy_increase_round</span></a><br/>
&nbsp;&nbsp;(<a id="s:357" class="idref" href="#s:357"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:358" class="idref" href="#item:358"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:359" class="idref" href="#i:359"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:357"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:359"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:359"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:357"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:359"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:357"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:359"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:357"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:358"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:359"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:357"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:359"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="var">Hmmuddy</span> <span class="id" title="var">Hmindex</span> <span class="id" title="var">Hmround</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_undecided_receive_muddy_round_obs"><span class="id" title="lemma">MC_transition_undecided_receive_muddy_round_obs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>) <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>, <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrounds</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noninitial_state_undecided_round_less_obs"><span class="id" title="lemma">MC_valid_noninitial_state_undecided_round_less_obs</span></a>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">rs</span>, <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_undecided_muddy_to_clean_increase_round" class="idref" href="#MC_undecided_muddy_to_clean_increase_round"><span class="id" title="lemma">MC_undecided_muddy_to_clean_increase_round</span></a><br/>
&nbsp;&nbsp;(<a id="s:360" class="idref" href="#s:360"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:361" class="idref" href="#item:361"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:362" class="idref" href="#i:362"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:362"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:362"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:362"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:362"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:361"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:362"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:360"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:362"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="var">Hmmuddy</span> <span class="id" title="var">Hmindex</span> <span class="id" title="var">Hmround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_undecided_receive_muddy_round_obs_minus_one"><span class="id" title="lemma">MC_transition_undecided_receive_muddy_round_obs_minus_one</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>) <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="var">item</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>, <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrounds</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noninitial_state_undecided_round_less_obs"><span class="id" title="lemma">MC_valid_noninitial_state_undecided_round_less_obs</span></a>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">rs</span>, <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_undecided_muddy_increase_round" class="idref" href="#MC_undecided_muddy_increase_round"><span class="id" title="lemma">MC_undecided_muddy_increase_round</span></a><br/>
&nbsp;&nbsp;(<a id="s:363" class="idref" href="#s:363"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:364" class="idref" href="#item:364"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:365" class="idref" href="#i:365"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:363"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:363"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:363"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:363"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:363"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:364"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:363"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:365"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="var">Hmmuddy</span> <span class="id" title="var">Hmindex</span> [].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_muddy_to_clean_increase_round"><span class="id" title="lemma">MC_undecided_muddy_to_clean_increase_round</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_muddy_to_muddy_increase_round"><span class="id" title="lemma">MC_undecided_muddy_to_muddy_increase_round</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_undecided_undecided_increase_round" class="idref" href="#MC_undecided_undecided_increase_round"><span class="id" title="lemma">MC_undecided_undecided_increase_round</span></a><br/>
&nbsp;&nbsp;(<a id="s:366" class="idref" href="#s:366"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:367" class="idref" href="#item:367"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:368" class="idref" href="#i:368"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:367"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:366"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:368"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="var">Hmmuddy</span> <span class="id" title="var">Hmindex</span> <span class="id" title="var">Hmround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>, <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrounds</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noninitial_state_undecided_round_less_obs"><span class="id" title="lemma">MC_valid_noninitial_state_undecided_round_less_obs</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_undecided_receive_undecided_round_lt_obs_minus_one"><span class="id" title="lemma">MC_transition_undecided_receive_undecided_round_lt_obs_minus_one</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> <span class="id" title="var">input</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> <span class="id" title="var">input</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> <span class="id" title="var">input</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">rs</span>, <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_undecided_undecided_to_muddy_increase_round" class="idref" href="#MC_undecided_undecided_to_muddy_increase_round"><span class="id" title="lemma">MC_undecided_undecided_to_muddy_increase_round</span></a><br/>
&nbsp;&nbsp;(<a id="s:369" class="idref" href="#s:369"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:370" class="idref" href="#item:370"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:371" class="idref" href="#i:371"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:369"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:369"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:371"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:371"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:369"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:371"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:369"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:371"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:370"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:371"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:369"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:371"><span class="id" title="variable">i</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">Hsundecided</span> <span class="id" title="var">Hmmuddy</span> <span class="id" title="var">Hmindex</span> <span class="id" title="var">Hmround</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>, <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrounds</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noninitial_state_undecided_round_less_obs"><span class="id" title="lemma">MC_valid_noninitial_state_undecided_round_less_obs</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; [| <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_undecided_receive_undecided_round_obs_minus_one"><span class="id" title="lemma">MC_transition_undecided_receive_undecided_round_obs_minus_one</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_index"><span class="id" title="definition">message_index</span></a> <span class="id" title="var">input</span> <span class="id" title="var">i</span>) (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_round"><span class="id" title="definition">message_round</span></a> <span class="id" title="var">input</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#message_status"><span class="id" title="definition">message_status</span></a> <span class="id" title="var">input</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsundecided</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H9</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">rs</span>, <span class="id" title="var">m</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MC_transition_item_update" class="idref" href="#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <a id="s:372" class="idref" href="#s:372"><span class="id" title="binder">s</span></a> <a id="j:373" class="idref" href="#j:373"><span class="id" title="binder">j</span></a> <a id="i:374" class="idref" href="#i:374"><span class="id" title="binder">i</span></a> <a id="st:375" class="idref" href="#st:375"><span class="id" title="binder">st</span></a> <a id="rs:376" class="idref" href="#rs:376"><span class="id" title="binder">rs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> :=<br/>
{|<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:374"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>;<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:373"><span class="id" title="variable">j</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:372"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:373"><span class="id" title="variable">j</span></a>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st:375"><span class="id" title="variable">st</span></a>);<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> := <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:372"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:374"><span class="id" title="variable">i</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:372"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:374"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#rs:376"><span class="id" title="variable">rs</span></a>));<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
|}.<br/>

<br/>
</div>

<div class="doc">
  The progress lemma <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_progress"><span class="id" title="lemma">MC_progress</span></a></span> ensures that from any valid non-initial
  composite state, there is a valid transition to a new composite state, in
  which at least one component has greater round than before the transition.

<div class="paragraph"> </div>

  This result will be further used in the proof of the correctness theorem.
  To prove the progress lemma, we proceed by case analysis. We distinguish
  two main cases:
<ul class="doclist">
<li> at least one component is in an initial state, so we can use an init
    transition to prove our goal;

</li>
<li> else, we have to obtain two convenient components and build a transition
    between them, that results in an increased round number.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="MC_progress" class="idref" href="#MC_progress"><span class="id" title="lemma">MC_progress</span></a> (<a id="s:377" class="idref" href="#s:377"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:377"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_final_state"><span class="id" title="definition">MC_final_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:377"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="item:378" class="idref" href="#item:378"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:379" class="idref" href="#i:379"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:378"><span class="id" title="variable">item</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a>) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:377"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:378"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#item:378"><span class="id" title="variable">item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:379"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:377"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:379"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_final_state"><span class="id" title="definition">MC_final_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">Forall_finite</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:380" class="idref" href="#i:380"><span class="id" title="binder"><span id="i:381" class="id">i</span></span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:380"><span class="id" title="variable">i</span></a>))) <span class="id" title="keyword">as</span> [(<span class="id" title="var">i</span> &amp; <span class="id" title="var">He</span>) |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hobssi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">st_obs0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>); <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> []; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">funelim</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> <span class="id" title="var">st_obs0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqcall</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_Forall_Exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hall</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hi</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hundecided</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcons</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_consistent"><span class="id" title="lemma">MC_non_initial_valid_consistent</span></a>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:382" class="idref" href="#j:382"><span class="id" title="binder"><span id="j:383" class="id">j</span></span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:382"><span class="id" title="variable">j</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [(<span class="id" title="var">j</span> &amp; <span class="id" title="var">He</span>) |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hnoninitial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_muddy"><span class="id" title="lemma">MC_valid_noequiv_muddy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [| <span class="id" title="var">done</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundj</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmuddy</span> <span class="id" title="var">Hobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_muddy_to_muddy_increase_round"><span class="id" title="lemma">MC_undecided_muddy_to_muddy_increase_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> |- *; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">clear</span> - <span class="id" title="var">Hj</span> <span class="id" title="var">n</span> <span class="id" title="var">e</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hroundj</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a>; [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hobs</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">clear</span> - <span class="id" title="var">e</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnoequiv</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; [<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>, &lt;- <span class="id" title="var">He</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st_rs0</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ri</span> <span class="id" title="var">sti</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hundecided</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_8"><span class="id" title="definition">MC_transition_equation_8</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_4"><span class="id" title="definition">MC_transition_clause_4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hinvariant</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvariant</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundj</span> <span class="id" title="var">Hobsj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobsj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen_iff"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobsj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hjmuddy</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hroundj</span>, <span class="id" title="var">Hobsj</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen_iff"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen_iff</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion_elem"><span class="id" title="lemma">MuddyUnion_elem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> | <span class="id" title="var">set_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hnoninitial</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hcons</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmuddy</span> <span class="id" title="var">Hobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#clean"><span class="id" title="constructor">clean</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_muddy"><span class="id" title="lemma">MC_valid_noequiv_muddy</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; [| <span class="id" title="var">done</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundj</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_muddy_to_clean_increase_round"><span class="id" title="lemma">MC_undecided_muddy_to_clean_increase_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span>; [| <span class="id" title="var">done</span>.. | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hundecided</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">clear</span> - <span class="id" title="var">Hj</span> <span class="id" title="var">n</span> <span class="id" title="var">n1</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hroundj</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_clean_number_of_muddy_seen"><span class="id" title="lemma">MC_clean_number_of_muddy_seen</span></a>; [<span class="id" title="var">done</span> .. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hobs</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">congruence</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">clear</span> - <span class="id" title="var">n0</span> <span class="id" title="var">n1</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnoequiv</span> :  <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; [<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>, &lt;- <span class="id" title="var">He</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st_rs0</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ri</span> <span class="id" title="var">sti</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hundecided</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_8"><span class="id" title="definition">MC_transition_equation_8</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_4"><span class="id" title="definition">MC_transition_clause_4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hinvariant</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">He</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariant</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinvariant</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundj</span> <span class="id" title="var">Hobsj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobsj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen_iff"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hobsj</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hjmuddy</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hroundj</span>, <span class="id" title="var">Hobsj</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> |] |]; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt; |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HinotinMuddy</span> : <span class="id" title="var">i</span> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_clean_number_of_muddy_seen"><span class="id" title="lemma">MC_clean_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinotinMuddy</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HinotinMuddy</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt; |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HinotinMuddy</span> : <span class="id" title="var">i</span> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_clean_number_of_muddy_seen"><span class="id" title="lemma">MC_clean_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HinotinMuddy</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)); [<span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt; |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcons</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmuddy</span> <span class="id" title="var">Hobs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="j:384" class="idref" href="#j:384"><span class="id" title="binder"><span id="j:385" class="id">j</span></span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#j:384"><span class="id" title="variable">j</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion"><span class="id" title="definition">MuddyUnion</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">j</span> &amp; <span class="id" title="var">Hjmuddyunion</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set_choose</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmuddy</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvalid</span> <span class="id" title="var">Hnoninit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hvalid</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hvalid'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation_inductive"><span class="id" title="lemma">MC_composite_invariant_preservation_inductive</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="k:386" class="idref" href="#k:386"><span class="id" title="binder"><span id="k:387" class="id">k</span></span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#k:386"><span class="id" title="variable">k</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">k</span> &amp; <span class="id" title="var">Hkobs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">set_choose</span>, <span class="id" title="lemma">size_non_empty_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid'</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hinvariant</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradiction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinvariant</span>; [<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjmuddyunion</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmuddy</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hkundecided</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid'</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hinvariantk</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariantk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinvariantk</span>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion_elem"><span class="id" title="lemma">MuddyUnion_elem</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkobs</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmuddy</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hkinvariant</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid'</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hkinvariant</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hkinvariant</span>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion_elem"><span class="id" title="lemma">MuddyUnion_elem</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkobs</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkobs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmuddy</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hjundecided</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_status"><span class="id" title="definition">state_status</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid'</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hinvariantj</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinvariantj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hinvariantj</span>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjmuddyunion</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmuddy</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hjinvariant</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid'</span> <span class="id" title="var">j</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hjinvariant</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hjinvariant</span>; [<span class="id" title="var">done</span> | | <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">eexists</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjmuddyunion</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjmuddyunion</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">size_non_empty_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmuddy</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hjk_eq_size_muddy</span> : <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjmuddyunion</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MuddyUnion_elem"><span class="id" title="lemma">MuddyUnion_elem</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_muddy_number_of_muddy_seen"><span class="id" title="lemma">MC_muddy_number_of_muddy_seen</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkobs</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hjmuddyunion</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hjobs</span> : <span class="id" title="var">j</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">k</span>)) <span class="id" title="keyword">as</span> [-&gt; |]; [| <span class="id" title="var">set_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkobs</span>; <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Heqobsminus1</span> | <span class="id" title="var">Hneqobsminus1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">k</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <span class="id" title="var">s</span> <span class="id" title="var">k</span> <span class="id" title="var">j</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundk</span> <span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_undecided_to_muddy_increase_round"><span class="id" title="lemma">MC_undecided_undecided_to_muddy_increase_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_match</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">roundk</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnoequiv</span> :  <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">k</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span> | <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hjundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hjundecided'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjundecided'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st_rs0</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rj</span> <span class="id" title="var">stj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">only</span> 1,4: <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>; <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hjundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hjundecided''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjundecided</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjundecided</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjundecided</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">rj</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_True</span>; [| <span class="id" title="var">lia</span> .. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">j</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">k</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <span class="id" title="var">s</span> <span class="id" title="var">k</span> <span class="id" title="var">j</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundk</span> <span class="id" title="var">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_undecided_increase_round"><span class="id" title="lemma">MC_undecided_undecided_increase_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>; <span class="id" title="var">case_match</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">roundk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">split</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjk_eq_size_muddy</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnoequiv</span> :  <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">k</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hjundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hjundecided'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjundecided'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st_rs0</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rj</span> <span class="id" title="var">stj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">only</span> 1,4: <span class="id" title="var">done</span>; <span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>; <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hjundecided</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hjundecided''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjundecided</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hjundecided</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hjundecided</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">rj</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_True</span>; [| <span class="id" title="var">lia</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">k</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">k</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundj</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_undecided_to_muddy_increase_round"><span class="id" title="lemma">MC_undecided_undecided_to_muddy_increase_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnoequiv</span> :  <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span> | <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hkundecided'</span> := <span class="id" title="var">Hkundecided</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkundecided'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st_rs0</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rk</span> <span class="id" title="var">stk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hkundecided''</span> := <span class="id" title="var">Hkundecided'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkundecided</span> |- *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkundecided</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkundecided</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">rk</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_True</span>; [| | <span class="id" title="var">lia</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">k</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#receive"><span class="id" title="constructor">receive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">k</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_item"><span class="id" title="definition">input_valid_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_item_update"><span class="id" title="definition">MC_transition_item_update</span></a> <span class="id" title="var">s</span> <span class="id" title="var">j</span> <span class="id" title="var">k</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">Hm</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span>) <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_constraint"><span class="id" title="definition">MC_constraint</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hroundj</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_undecided_undecided_increase_round"><span class="id" title="lemma">MC_undecided_undecided_increase_round</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">done</span>.. | <span class="id" title="tactic">by</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hnoequiv</span> :  <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkMsg"><span class="id" title="constructor">mkMsg</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">j</span>))) <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_no_equivocation"><span class="id" title="definition">MC_no_equivocation</span></a>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H10</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hkundecided'</span> := <span class="id" title="var">Hkundecided</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkundecided'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">st_rs0</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">rk</span> <span class="id" title="var">stk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> | | | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_valid_noequiv_valid"><span class="id" title="lemma">MC_valid_noequiv_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hjundecided'</span> := <span class="id" title="var">Hjundecided</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkundecided</span> |- *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hkundecided</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hkundecided</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_7"><span class="id" title="definition">MC_transition_equation_7</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_5"><span class="id" title="definition">MC_transition_clause_5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_obs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">rk</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round"><span class="id" title="definition">state_round</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">k</span>))); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span>, <span class="id" title="lemma">decide_False</span>, <span class="id" title="lemma">decide_True</span>; [| <span class="id" title="var">lia</span>.. |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab289"></a><h2 class="section">Safety</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MC_round_bound" class="idref" href="#MC_round_bound"><span class="id" title="lemma">MC_round_bound</span></a> (<a id="s:388" class="idref" href="#s:388"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:388"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:389" class="idref" href="#i:389"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:388"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:389"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:388"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:389"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hvalid</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant_preservation"><span class="id" title="lemma">MC_composite_invariant_preservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_invariant"><span class="id" title="definition">MC_composite_invariant</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hvalid</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit</span> | <span class="id" title="var">Hinv</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant"><span class="id" title="definition">MC_component_invariant</span></a>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_component_invariant_helper"><span class="id" title="definition">MC_component_invariant_helper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [[<span class="id" title="var">round</span> <span class="id" title="var">status</span>] |]; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; [| <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">status</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="steps_until_final_component" class="idref" href="#steps_until_final_component"><span class="id" title="definition">steps_until_final_component</span></a> (<a id="s:390" class="idref" href="#s:390"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#State"><span class="id" title="record">State</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:390"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:390"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="steps_until_final_composite" class="idref" href="#steps_until_final_composite"><span class="id" title="definition">steps_until_final_composite</span></a> (<a id="s:391" class="idref" href="#s:391"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">sum_list_with</span> (<span class="id" title="keyword">fun</span> <a id="i:392" class="idref" href="#i:392"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#steps_until_final_component"><span class="id" title="definition">steps_until_final_component</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:391"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:392"><span class="id" title="variable">i</span></a>)) (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>).<br/>

<br/>
</div>

<div class="doc">
  The main result states that, from any non-initial valid state,
  there is a trace to a final state.

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="MC_safety" class="idref" href="#MC_safety"><span class="id" title="lemma">MC_safety</span></a> (<a id="Hindex:393" class="idref" href="#Hindex:393"><span class="id" title="binder">Hindex</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1) (<a id="s:394" class="idref" href="#s:394"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:394"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="tr:395" class="idref" href="#tr:395"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)) (<a id="sf:396" class="idref" href="#sf:396"><span class="id" title="binder">sf</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to"><span class="id" title="inductive">finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:394"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sf:396"><span class="id" title="variable">sf</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:395"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_final_state"><span class="id" title="definition">MC_final_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sf:396"><span class="id" title="variable">sf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#steps_until_final_composite"><span class="id" title="definition">steps_until_final_composite</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">nr_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">Heqnr_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">nr_steps</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">nr_steps</span> <span class="id" title="var">Hind</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">Wf_nat.lt_wf</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">Hnoninitvalid</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_final_state"><span class="id" title="definition">MC_final_state</span></a> <span class="id" title="var">s</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">s</span>; <span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hnoninitvalid</span> |] |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrounds</span> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_round_bound"><span class="id" title="lemma">MC_round_bound</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hnoninitvalid</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_progress"><span class="id" title="lemma">MC_progress</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnoninitvalid</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hprogress</span>; [| <span class="id" title="var">done</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprogress</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">item</span> &amp; <span class="id" title="var">Hitem</span> &amp; <span class="id" title="var">Hround</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hdest</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hrounddest</span> := <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_round_bound"><span class="id" title="lemma">MC_round_bound</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item</span>) <span class="id" title="var">Hdest</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hdestvalid</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hinit</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">destination</span> <span class="id" title="var">x</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#state_round_inc"><span class="id" title="definition">state_round_inc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hround</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hind</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdestvalid</span>; [.. | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestvalid</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tr</span> &amp; <span class="id" title="var">sf</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hsf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">tr</span>), <span class="id" title="var">sf</span>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>; <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>, <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="projection">transition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_trans_preserves_obs_equiv"><span class="id" title="lemma">MC_trans_preserves_obs_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition"><span class="id" title="definition">MC_transition</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span> (<span class="id" title="var">s</span> <span class="id" title="var">x</span>)) <span class="id" title="var">eqn</span>: <span class="id" title="var">Htx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hround</span> <span class="id" title="var">Hobs</span> <span class="id" title="var">Hrounds</span> <span class="id" title="var">Hrounddest</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#steps_until_final_composite"><span class="id" title="definition">steps_until_final_composite</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hxelem</span> : <span class="id" title="var">x</span> <span class="id" title="notation">∈</span> <span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hnodup</span> := <span class="id" title="method">NoDup_enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hxelem</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="keyword">is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1 |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_cons</span>, <span class="id" title="lemma">NoDup_cons</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [-&gt; | <span class="id" title="var">Hx</span>] [<span class="id" title="var">Ha</span> <span class="id" title="var">Hnodup</span>]; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHis</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hnodup</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hobs</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrounds</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hrounddest</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="definition">sum_list_with</span> (<span class="id" title="keyword">fun</span> <a id="i:397" class="idref" href="#i:397"><span class="id" title="binder"><span id="i:399" class="id">i</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#steps_until_final_component"><span class="id" title="definition">steps_until_final_component</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">s0</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:397"><span class="id" title="variable">i</span></a>)) <span class="id" title="keyword">is</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">sum_list_with</span> (<span class="id" title="keyword">fun</span> <a id="i:398" class="idref" href="#i:398"><span class="id" title="binder"><span id="i:400" class="id">i</span></span></a> =&gt; <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#steps_until_final_component"><span class="id" title="definition">steps_until_final_component</span></a> (<span class="id" title="var">s</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#i:398"><span class="id" title="variable">i</span></a>)) <span class="id" title="keyword">is</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#steps_until_final_component"><span class="id" title="definition">steps_until_final_component</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">obs0</span> &amp; [[<span class="id" title="var">round0</span> <span class="id" title="var">status0</span>] |]),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">s</span> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">obsa</span> &amp; [[<span class="id" title="var">rounda</span> <span class="id" title="var">statusa</span>] |]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hobs</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">IHis</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="var">cbn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">not_elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hdiff</span> <span class="id" title="var">Hnotelem</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHis</span>; [<span class="id" title="var">state_update_simpl</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  This corollary states that final states are reachable from initial consistent states.
  This is weaker then the <span class="inlinecode"><a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_safety"><span class="id" title="lemma">MC_safety</span></a></span> result, and is proved using it.

</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="MC_safety_initial" class="idref" href="#MC_safety_initial"><span class="id" title="lemma">MC_safety_initial</span></a><br/>
&nbsp;&nbsp;(<a id="Hindex:401" class="idref" href="#Hindex:401"><span class="id" title="binder">Hindex</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 1) (<a id="s:402" class="idref" href="#s:402"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>) (<a id="i:403" class="idref" href="#i:403"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy.index"><span class="id" title="variable">index</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:402"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#consistent"><span class="id" title="definition">consistent</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:402"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="tr:404" class="idref" href="#tr:404"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sf:405" class="idref" href="#sf:405"><span class="id" title="binder">sf</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#s:402"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sf:405"><span class="id" title="variable">sf</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#tr:404"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_final_state"><span class="id" title="definition">MC_final_state</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sf:405"><span class="id" title="variable">sf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinit</span> [<span class="id" title="var">Hnempty</span> <span class="id" title="var">Hcons</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsi</span> : <span class="id" title="var">s</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_initial_state_prop"><span class="id" title="definition">MC_initial_state_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hinit</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">st_rs0</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_rs"><span class="id" title="projection">st_rs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)); [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">size</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0)).<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hvalidtr</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>)))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [| | | <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hvalids'</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#muddy"><span class="id" title="constructor">muddy</span></a>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#composite_initial_state_prop_not_None"><span class="id" title="lemma">composite_initial_state_prop_not_None</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_safety"><span class="id" title="lemma">MC_safety</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalids'</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalids'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tr</span> &amp; <span class="id" title="var">sf</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hsf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>), <span class="id" title="var">sf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_singleton"><span class="id" title="lemma">finite_valid_trace_from_to_singleton</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#Build_transition_item"><span class="id" title="constructor">Build_transition_item</span></a> (<span class="id" title="var">T</span> := <a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hvalidtr</span> : <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition"><span class="id" title="definition">input_valid_transition</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_composite_vlsm"><span class="id" title="definition">MC_composite_vlsm</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#init"><span class="id" title="constructor">init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>)))<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">cbn</span>; [| | | <span class="id" title="var">done</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hcons</span>.. |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsi</span>, <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_equation_3"><span class="id" title="definition">MC_transition_equation_3</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_transition_clause_1"><span class="id" title="definition">MC_transition_clause_1</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">case_match</span>; [<span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hvalids'</span> : <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_non_initial_valid_state"><span class="id" title="definition">MC_non_initial_valid_state</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MCVLSM"><span class="id" title="definition">MCVLSM</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkSt"><span class="id" title="constructor">mkSt</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#st_obs"><span class="id" title="projection">st_obs</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#mkRS"><span class="id" title="constructor">mkRS</span></a> 0 <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#undecided"><span class="id" title="constructor">undecided</span></a>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#input_valid_transition_destination"><span class="id" title="lemma">input_valid_transition_destination</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#composite_initial_state_prop_not_None"><span class="id" title="lemma">composite_initial_state_prop_not_None</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">state_update_simpl</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#MC_safety"><span class="id" title="lemma">MC_safety</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvalids'</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hvalids'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tr</span> &amp; <span class="id" title="var">sf</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">Hsf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>), <span class="id" title="var">sf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_app"><span class="id" title="lemma">finite_valid_trace_from_to_app</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_to_singleton"><span class="id" title="lemma">finite_valid_trace_from_to_singleton</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Examples.Tutorial.MuddyChildrenRounds.html#sec_muddy"><span class="id" title="section">sec_muddy</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
