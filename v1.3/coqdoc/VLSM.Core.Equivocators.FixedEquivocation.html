<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">StdppListSet</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">VLSMProjections</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Equivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#"><span class="id" title="library">Equivocation.NoEquivocation</span></a> <a class="idref" href="VLSM.Core.Equivocation.FullNode.html#"><span class="id" title="library">Equivocation.FullNode</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#"><span class="id" title="library">Equivocation.FixedSetEquivocation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#"><span class="id" title="library">SubProjectionTraces</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">ProjectionTraces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#"><span class="id" title="library">Equivocators.Equivocators</span></a> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#"><span class="id" title="library">Equivocators.EquivocatorsProjections</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.MessageProperties.html#"><span class="id" title="library">Equivocators.MessageProperties</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#"><span class="id" title="library">Equivocators.EquivocatorsComposition</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#"><span class="id" title="library">Equivocators.EquivocatorsCompositionProjections</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab231"></a><h1 class="section">Core: VLSM Equivocators Fixed Equivocation</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_equivocators_fixed_equivocations_vlsm" class="idref" href="#sec_equivocators_fixed_equivocations_vlsm"><span class="id" title="section">sec_equivocators_fixed_equivocations_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:4" class="idref" href="#H:4"><span class="id" title="binder">finite.Finite</span></a> <a id="index:2" class="idref" href="#index:2"><span class="id" title="binder"><span id="H:4" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:5" class="idref" href="#IM:5"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">forall</span></a> <a id="i:6" class="idref" href="#i:6"><span class="id" title="binder"><span id="H0:7" class="id">i</span></span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">:</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">index</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">,</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">(</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">IM</span></a> <a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">i</span></a><a id="H0:7" class="idref" href="#H0:7"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="equivocator_IM:8" class="idref" href="#equivocator_IM:8"><span class="id" title="binder">equivocator_IM</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:5"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocating:9" class="idref" href="#equivocating:9"><span class="id" title="binder">equivocating</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:2"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
Definition of fixed-equivocation for states of the composition of equivocators. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="state_has_fixed_equivocation" class="idref" href="#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a><br/>
&nbsp;&nbsp;(<a id="s:10" class="idref" href="#s:10"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocating_indices"><span class="id" title="definition">equivocating_indices</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:10"><span class="id" title="variable">s</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocating"><span class="id" title="variable">equivocating</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="equivocators_fixed_equivocations_constraint" class="idref" href="#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:11" class="idref" href="#l:11"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:12" class="idref" href="#som:12"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="som':13" class="idref" href="#som':13"><span class="id" title="binder">som'</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:11"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#som:12"><span class="id" title="variable">som</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_constraint"><span class="id" title="definition">equivocators_no_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:11"><span class="id" title="variable">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#som:12"><span class="id" title="variable">som</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#som':13"><span class="id" title="variable">som'</span></a>).<br/>

<br/>
</div>

<div class="doc">
  If the starting <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a></span> and the transition is made
  on an equivocating index, then the resulting <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocating_transition_preserves_fixed_equivocation" class="idref" href="#equivocating_transition_preserves_fixed_equivocation"><span class="id" title="lemma">equivocating_transition_preserves_fixed_equivocation</span></a> <a id="l:14" class="idref" href="#l:14"><span class="id" title="binder">l</span></a> <a id="s:15" class="idref" href="#s:15"><span class="id" title="binder">s</span></a> <a id="om:16" class="idref" href="#om:16"><span class="id" title="binder">om</span></a> <a id="s':17" class="idref" href="#s':17"><span class="id" title="binder">s'</span></a> <a id="om':18" class="idref" href="#om':18"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:19" class="idref" href="#Ht:19"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:14"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:15"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#om:16"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s':17"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#om':18"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:20" class="idref" href="#Hs:20"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:15"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="Heqv:21" class="idref" href="#Heqv:21"><span class="id" title="binder">Heqv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:14"><span class="id" title="variable">l</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s':17"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <span class="id" title="var">l</span>)); <span class="id" title="tactic">subst</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_transition"><span class="id" title="definition">equivocator_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>, <span class="id" title="lemma">elem_of_list_filter</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If the starting <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a></span> and the transition is made
  on the original copy, then the resulting <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="zero_descriptor_transition_preserves_fixed_equivocation" class="idref" href="#zero_descriptor_transition_preserves_fixed_equivocation"><span class="id" title="lemma">zero_descriptor_transition_preserves_fixed_equivocation</span></a> <a id="l:22" class="idref" href="#l:22"><span class="id" title="binder">l</span></a> <a id="s:23" class="idref" href="#s:23"><span class="id" title="binder">s</span></a> <a id="om:24" class="idref" href="#om:24"><span class="id" title="binder">om</span></a> <a id="s':25" class="idref" href="#s':25"><span class="id" title="binder">s'</span></a> <a id="om':26" class="idref" href="#om':26"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:27" class="idref" href="#Ht:27"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:22"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:23"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#om:24"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s':25"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#om':26"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:28" class="idref" href="#Hs:28"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:23"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a id="li:29" class="idref" href="#li:29"><span class="id" title="binder">li</span></a><br/>
&nbsp;&nbsp;(<a id="Hzero:30" class="idref" href="#Hzero:30"><span class="id" title="binder">Hzero</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:22"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#ContinueWith"><span class="id" title="constructor">ContinueWith</span></a> 0 <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#li:29"><span class="id" title="variable">li</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s':25"><span class="id" title="variable">s'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">eqv</span>, <span class="id" title="var">leqv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_transition"><span class="id" title="definition">equivocator_transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">eqv</span>)); <span class="id" title="tactic">subst</span>; <span class="id" title="var">state_update_simpl</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#zero_descriptor_transition_reflects_equivocating_state"><span class="id" title="lemma">zero_descriptor_transition_reflects_equivocating_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">eqv</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hti</span> <span class="id" title="var">_</span> <span class="id" title="var">Hzero</span> <span class="id" title="var">Hi</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a future state has fixed equivocation, then so must the current state. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="in_futures_reflects_fixed_equivocation" class="idref" href="#in_futures_reflects_fixed_equivocation"><span class="id" title="lemma">in_futures_reflects_fixed_equivocation</span></a><br/>
&nbsp;&nbsp;(<a id="s1:31" class="idref" href="#s1:31"><span class="id" title="binder">s1</span></a> <a id="s2:32" class="idref" href="#s2:32"><span class="id" title="binder">s2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hfutures:33" class="idref" href="#Hfutures:33"><span class="id" title="binder">Hfutures</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s1:31"><span class="id" title="variable">s1</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s2:32"><span class="id" title="variable">s2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s2:32"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s1:31"><span class="id" title="variable">s1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hfutures</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHtr</span> <span class="id" title="var">Hf</span>). <span class="id" title="var">revert</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#transitivity"><span class="id" title="definition">transitivity</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">rapply</span> @<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_transition_preserves_equivocating_indices"><span class="id" title="lemma">equivocators_transition_preserves_equivocating_indices</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Composition of equivocators with no message equivocation and a
  fixed set of machines allowed to state-equivocate.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="equivocators_fixed_equivocations_vlsm" class="idref" href="#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_equivocating_index_has_singleton_state" class="idref" href="#not_equivocating_index_has_singleton_state"><span class="id" title="lemma">not_equivocating_index_has_singleton_state</span></a><br/>
&nbsp;&nbsp;(<a id="s:34" class="idref" href="#s:34"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:35" class="idref" href="#Hs:35"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:34"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hi:37" class="idref" href="#Hi:37"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:36"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#is_singleton_state"><span class="id" title="definition">is_singleton_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:36"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:34"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:36"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> (<span class="id" title="keyword">is</span> &amp; <span class="id" title="var">tr</span> &amp; <span class="id" title="var">Htr</span> &amp; <span class="id" title="var">His</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#is_singleton_state"><span class="id" title="definition">is_singleton_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) (<span class="id" title="keyword">is</span> <span class="id" title="var">i</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">His</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hfixed</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ht</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfixed</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_n"><span class="id" title="definition">equivocator_state_n</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">i</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1)); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfixed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_has_fixed_equivocation" class="idref" href="#valid_state_has_fixed_equivocation"><span class="id" title="lemma">valid_state_has_fixed_equivocation</span></a><br/>
&nbsp;&nbsp;(<a id="s:38" class="idref" href="#s:38"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:39" class="idref" href="#Hs:39"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:38"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:38"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a> <span class="id" title="keyword">is</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">His</span>. {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_filter</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">His</span> <span class="id" title="var">Hin</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#is_equivocating_state"><span class="id" title="definition">is_equivocating_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hinit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Htr</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHHtr</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHHtr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span>) <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Ht</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Inclusion in the free composition. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_fixed_equivocations_vlsm_incl_free" class="idref" href="#equivocators_fixed_equivocations_vlsm_incl_free"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_free</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#VLSM_incl_constrained_vlsm"><span class="id" title="lemma">VLSM_incl_constrained_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Inclusion into the preloaded free composition. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_fixed_equivocations_vlsm_incl_PreFree" class="idref" href="#equivocators_fixed_equivocations_vlsm_incl_PreFree"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_PreFree</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_incl"><span class="id" title="lemma">constrained_preloaded_incl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Inclusion of preloaded machine into the preloaded free composition. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocators_fixed_equivocations_vlsm_incl_free" class="idref" href="#preloaded_equivocators_fixed_equivocations_vlsm_incl_free"><span class="id" title="lemma">preloaded_equivocators_fixed_equivocations_vlsm_incl_free</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.equivocator_IM"><span class="id" title="variable">equivocator_IM</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#basic_VLSM_incl_preloaded"><span class="id" title="lemma">basic_VLSM_incl_preloaded</span></a>; [<span class="id" title="tactic">intro</span> | <span class="id" title="tactic">inversion</span> 1 | <span class="id" title="tactic">intro</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Inclusion in the composition of equivocators with no message equivocation
  (no restriction on state equivocation).

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_fixed_equivocations_vlsm_incl_no_equivocations" class="idref" href="#equivocators_fixed_equivocations_vlsm_incl_no_equivocations"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_no_equivocations</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_vlsm"><span class="id" title="definition">equivocators_no_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm.IM"><span class="id" title="variable">IM</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> [<span class="id" title="var">s</span> <span class="id" title="var">om</span>] <span class="id" title="var">Hv</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_equivocators_fixed_equivocations_vlsm"><span class="id" title="section">sec_equivocators_fixed_equivocations_vlsm</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocators_fixed_equivocations_vlsm_subset_incl" class="idref" href="#equivocators_fixed_equivocations_vlsm_subset_incl"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_subset_incl</span></a><br/>
&nbsp;&nbsp;{<a id="message:40" class="idref" href="#message:40"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:43" class="idref" href="#H:43"><span class="id" title="binder">finite.Finite</span></a> <a id="index:41" class="idref" href="#index:41"><span class="id" title="binder"><span id="H:43" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:44" class="idref" href="#IM:44"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:41"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:40"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">forall</span></a> <a id="i:45" class="idref" href="#i:45"><span class="id" title="binder"><span id="H0:46" class="id">i</span></span></a> <a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">:</span></a> <a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">index</span></a><a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">,</span></a> <a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">(</span></a><a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">IM</span></a> <a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">i</span></a><a id="H0:46" class="idref" href="#H0:46"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="equivocator_IM:47" class="idref" href="#equivocator_IM:47"><span class="id" title="binder">equivocator_IM</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:44"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocating1:48" class="idref" href="#equivocating1:48"><span class="id" title="binder">equivocating1</span></a> <a id="equivocating2:49" class="idref" href="#equivocating2:49"><span class="id" title="binder">equivocating2</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:41"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hincl:50" class="idref" href="#Hincl:50"><span class="id" title="binder">Hincl</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocating1:48"><span class="id" title="variable">equivocating1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocating2:49"><span class="id" title="variable">equivocating2</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:44"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocating1:48"><span class="id" title="variable">equivocating1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:44"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocating2:49"><span class="id" title="variable">equivocating2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#preloaded_constraint_subsumption_stronger"><span class="id" title="lemma">preloaded_constraint_subsumption_stronger</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption_strongest"><span class="id" title="lemma">strong_constraint_subsumption_strongest</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> (<span class="id" title="var">_s</span>, <span class="id" title="var">om</span>) [<span class="id" title="var">Hmsg</span> <span class="id" title="var">Hfixed</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#state_has_fixed_equivocation"><span class="id" title="definition">state_has_fixed_equivocation</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_fixed_equivocation_with_fullnode" class="idref" href="#sec_fixed_equivocation_with_fullnode"><span class="id" title="section">sec_fixed_equivocation_with_fullnode</span></a>.<br/>

<br/>
</div>

<div class="doc">
  This section instantiates the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FullNode.html#full_node_condition_for_admissible_equivocators"><span class="id" title="definition">full_node_condition_for_admissible_equivocators</span></a></span>
  by choosing the admissible indices to be the fixed set of components allowed to
  equivocate, and then shows that this constraint is stronger than the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a></span>.

<div class="paragraph"> </div>

  Context setting the stage for, and instantiating the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FullNode.html#full_node_condition_for_admissible_equivocators"><span class="id" title="definition">full_node_condition_for_admissible_equivocators</span></a></span>.
  It requires that the components have <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> and <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_received"><span class="id" title="projection">has_been_received</span></a></span>
  capabilities, that the number of components is finite.

<div class="paragraph"> </div>

  Additionally to the above we require that equality on messages is decidable
  and that the set of VLSMs allowed to equivocate is non-empty.

</div>
<div class="code">
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:52" class="idref" href="#EqDecision0:52"><span class="id" title="binder">EqDecision</span></a> <a id="message:51" class="idref" href="#message:51"><span class="id" title="binder"><span id="EqDecision0:52" class="id">message</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="H6:63" class="idref" href="#H6:63"><span class="id" title="binder">FinSet</span></a> <a id="index:53" class="idref" href="#index:53"><span class="id" title="binder"><span id="H6:63" class="id">index</span></span></a> <a id="Ci:54" class="idref" href="#Ci:54"><span class="id" title="binder"><span id="H6:63" class="id">Ci</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="H7:65" class="idref" href="#H7:65"><span class="id" title="binder">finite.Finite</span></a> <a id="H7:65" class="idref" href="#H7:65"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:66" class="idref" href="#IM:66"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:53"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:51"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">forall</span></a> <a id="i:67" class="idref" href="#i:67"><span class="id" title="binder"><span id="H8:68" class="id">i</span></span></a> <a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">:</span></a> <a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">index</span></a><a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">,</span></a> <a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">(</span></a><a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">IM</span></a> <a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">i</span></a><a id="H8:68" class="idref" href="#H8:68"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">forall</span></a> <a id="i:69" class="idref" href="#i:69"><span class="id" title="binder"><span id="H9:70" class="id">i</span></span></a> <a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">:</span></a> <a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">index</span></a><a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">,</span></a> <a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">(</span></a><a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">IM</span></a> <a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">i</span></a><a id="H9:70" class="idref" href="#H9:70"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="equivocating:71" class="idref" href="#equivocating:71"><span class="id" title="binder">equivocating</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#Ci:54"><span class="id" title="variable">Ci</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><span class="id" title="var">full_node_constraint_alt</span></span> is stronger than the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="fixed_equivocation_constraint_subsumption_alt" class="idref" href="#fixed_equivocation_constraint_subsumption_alt"><span class="id" title="lemma">fixed_equivocation_constraint_subsumption_alt</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption"><span class="id" title="definition">strong_constraint_subsumption</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.FullNode.html#full_node_condition_for_admissible_equivocators_alt"><span class="id" title="definition">full_node_condition_for_admissible_equivocators_alt</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="i:72" class="idref" href="#i:72"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:72"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.equivocating"><span class="id" title="variable">equivocating</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.equivocating"><span class="id" title="variable">equivocating</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> (<span class="id" title="var">s</span>, [<span class="id" title="var">m</span> |]) <span class="id" title="var">Hc</span> ; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hno_equiv</span> | [<span class="id" title="var">i</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">Hm</span>]]]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.FullNode.html#node_generated_without_further_equivocation_alt"><span class="id" title="definition">node_generated_without_further_equivocation_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Composition.html#can_emit_composite_free_lift"><span class="id" title="lemma">can_emit_composite_free_lift</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">j</span> := <span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>); [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  If all components have the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a></span>erty, then the
  full node condition is stronger than the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a></span>
  (by reduction to the result above).

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="fixed_equivocation_constraint_subsumption" class="idref" href="#fixed_equivocation_constraint_subsumption"><span class="id" title="lemma">fixed_equivocation_constraint_subsumption</span></a><br/>
&nbsp;&nbsp;(<a id="Hno_resend:74" class="idref" href="#Hno_resend:74"><span class="id" title="binder">Hno_resend</span></a> : <span class="id" title="notation">forall</span> <a id="i:73" class="idref" href="#i:73"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#cannot_resend_message_stepwise_prop"><span class="id" title="definition">cannot_resend_message_stepwise_prop</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:73"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#preloaded_constraint_subsumption"><span class="id" title="definition">preloaded_constraint_subsumption</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.FullNode.html#full_node_condition_for_admissible_equivocators"><span class="id" title="definition">full_node_condition_for_admissible_equivocators</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="i:75" class="idref" href="#i:75"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:75"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.equivocating"><span class="id" title="variable">equivocating</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode.equivocating"><span class="id" title="variable">equivocating</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> (<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#fixed_equivocation_constraint_subsumption_alt"><span class="id" title="lemma">fixed_equivocation_constraint_subsumption_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.FullNode.html#full_node_condition_for_admissible_equivocators_subsumption"><span class="id" title="lemma">full_node_condition_for_admissible_equivocators_subsumption</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_fixed_equivocation_with_fullnode"><span class="id" title="section">sec_fixed_equivocation_with_fullnode</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_from_equivocators_to_components" class="idref" href="#sec_from_equivocators_to_components"><span class="id" title="section">sec_from_equivocators_to_components</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab232"></a><h2 class="section">From composition of equivocators to composition of simple components</h2>


<div class="paragraph"> </div>

  In this section we show that the projection of <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s of a
  composition of equivocators with a fixed equivocation constraint are
  <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span>s for the composition with a similar fixed equivocation
  constraint.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:77" class="idref" href="#EqDecision0:77"><span class="id" title="binder">EqDecision</span></a> <a id="message:76" class="idref" href="#message:76"><span class="id" title="binder"><span id="EqDecision0:77" class="id">message</span></span></a>}<br/>
&nbsp;&nbsp;{<a id="index:78" class="idref" href="#index:78"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H6:88" class="idref" href="#H6:88"><span class="id" title="binder">FinSet</span></a> <a id="H6:88" class="idref" href="#H6:88"><span class="id" title="binder">index</span></a> <a id="Ci:79" class="idref" href="#Ci:79"><span class="id" title="binder"><span id="H6:88" class="id">Ci</span></span></a>}<br/>
&nbsp;&nbsp;`{<a id="H7:90" class="idref" href="#H7:90"><span class="id" title="binder">finite.Finite</span></a> <a id="H7:90" class="idref" href="#H7:90"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:91" class="idref" href="#IM:91"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:78"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:76"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">forall</span></a> <a id="i:92" class="idref" href="#i:92"><span class="id" title="binder"><span id="H8:93" class="id">i</span></span></a> <a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">:</span></a> <a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">index</span></a><a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">,</span></a> <a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">(</span></a><a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">IM</span></a> <a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">i</span></a><a id="H8:93" class="idref" href="#H8:93"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;`{<a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">forall</span></a> <a id="i:94" class="idref" href="#i:94"><span class="id" title="binder"><span id="H9:95" class="id">i</span></span></a> <a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">:</span></a> <a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">index</span></a><a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">,</span></a> <a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">HasBeenReceivedCapability</span></a> <a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">(</span></a><a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">IM</span></a> <a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">i</span></a><a id="H9:95" class="idref" href="#H9:95"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="equivocating:96" class="idref" href="#equivocating:96"><span class="id" title="binder">equivocating</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#Ci:79"><span class="id" title="variable">Ci</span></a>)<br/>
&nbsp;&nbsp;(<a id="XE:97" class="idref" href="#XE:97"><span class="id" title="binder">XE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:76"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:91"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocating:96"><span class="id" title="variable">equivocating</span></a>))<br/>
&nbsp;&nbsp;(<a id="X:98" class="idref" href="#X:98"><span class="id" title="binder">X</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:76"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_vlsm_composition"><span class="id" title="definition">fixed_equivocation_vlsm_composition</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:91"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocating:96"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;(<a id="FreeE:99" class="idref" href="#FreeE:99"><span class="id" title="binder">FreeE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:76"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:91"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hdec_init:101" class="idref" href="#Hdec_init:101"><span class="id" title="binder">Hdec_init</span></a> : <span class="id" title="notation">forall</span> <a id="i:100" class="idref" href="#i:100"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.VLSM.html#decidable_initial_messages_prop"><span class="id" title="definition">decidable_initial_messages_prop</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:91"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:100"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="Free:102" class="idref" href="#Free:102"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:91"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#proper_equivocator_descriptors"><span class="id" title="definition">proper_equivocator_descriptors</span></a></span> strengthen for fixed-equivocation.
  We require that if the index is not equivocating, than the corresponding
  descriptor is a <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="proper_fixed_equivocator_descriptors" class="idref" href="#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a><br/>
&nbsp;&nbsp;(<a id="eqv_descriptors:103" class="idref" href="#eqv_descriptors:103"><span class="id" title="binder">eqv_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:104" class="idref" href="#s:104"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#proper_equivocator_descriptors"><span class="id" title="definition">proper_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#eqv_descriptors:103"><span class="id" title="variable">eqv_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:104"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:105" class="idref" href="#i:105"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:105"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#eqv_descriptors:103"><span class="id" title="variable">eqv_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:105"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> 0.<br/>

<br/>
</div>

<div class="doc">
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#not_equivocating_equivocator_descriptors"><span class="id" title="definition">not_equivocating_equivocator_descriptors</span></a></span> satisfy the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a></span> property.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="not_equivocating_equivocator_descriptors_proper_fixed" class="idref" href="#not_equivocating_equivocator_descriptors_proper_fixed"><span class="id" title="lemma">not_equivocating_equivocator_descriptors_proper_fixed</span></a><br/>
&nbsp;&nbsp;(<a id="s:106" class="idref" href="#s:106"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hs:107" class="idref" href="#Hs:107"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:106"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="eqv_descriptors:108" class="idref" href="#eqv_descriptors:108"><span class="id" title="binder">eqv_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Heqv_descriptors:109" class="idref" href="#Heqv_descriptors:109"><span class="id" title="binder">Heqv_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#not_equivocating_equivocator_descriptors"><span class="id" title="definition">not_equivocating_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#eqv_descriptors:108"><span class="id" title="variable">eqv_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:106"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#eqv_descriptors:108"><span class="id" title="variable">eqv_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:106"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#not_equivocating_equivocator_descriptors_proper"><span class="id" title="lemma">not_equivocating_equivocator_descriptors_proper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv_descriptors</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="method">elem_of_elements</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hzero</span> := <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#not_equivocating_index_has_singleton_state"><span class="id" title="lemma">not_equivocating_index_has_singleton_state</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Hi</span>); <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#is_singleton_state"><span class="id" title="definition">is_singleton_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hzero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heqv_descriptors</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">destruct</span> (<span class="id" title="var">eqv_descriptors</span> <span class="id" title="var">i</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqv_descriptors</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s_i_n</span> <span class="id" title="var">Heqv_descriptors</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_Some_rev"><span class="id" title="lemma">equivocator_state_project_Some_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqv_descriptors</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Projections of (valid) traces of the composition of equivocators preserve
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors" class="idref" href="#equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors"><span class="id" title="lemma">equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors</span></a><br/>
&nbsp;&nbsp;(<a id="is:110" class="idref" href="#is:110"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:111" class="idref" href="#tr:111"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Htr:112" class="idref" href="#Htr:112"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:110"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:111"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:113" class="idref" href="#s:113"><span class="id" title="binder">s</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:110"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:111"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="descriptors:114" class="idref" href="#descriptors:114"><span class="id" title="binder">descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="idescriptors:115" class="idref" href="#idescriptors:115"><span class="id" title="binder">idescriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="trX:116" class="idref" href="#trX:116"><span class="id" title="binder">trX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="HtrX:117" class="idref" href="#HtrX:117"><span class="id" title="binder">HtrX</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project"><span class="id" title="definition">equivocators_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:114"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:111"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:116"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#idescriptors:115"><span class="id" title="variable">idescriptors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:114"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:113"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#idescriptors:115"><span class="id" title="variable">idescriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:110"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hproper</span> <span class="id" title="var">Hfixed</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#preloaded_equivocators_valid_trace_project_proper_initial"><span class="id" title="lemma">preloaded_equivocators_valid_trace_project_proper_initial</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HtrX</span> <span class="id" title="var">Hproper</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hiproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hfixed</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hfixed</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hi</span>. <span class="id" title="var">revert</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_preserves_zero_descriptors"><span class="id" title="lemma">equivocators_trace_project_preserves_zero_descriptors</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fixed_equivocators_initial_state_project" class="idref" href="#fixed_equivocators_initial_state_project"><span class="id" title="lemma">fixed_equivocators_initial_state_project</span></a><br/>
&nbsp;&nbsp;(<a id="es:118" class="idref" href="#es:118"><span class="id" title="binder">es</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hes:119" class="idref" href="#Hes:119"><span class="id" title="binder">Hes</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#es:118"><span class="id" title="variable">es</span></a>)<br/>
&nbsp;&nbsp;(<a id="eqv_descriptors:120" class="idref" href="#eqv_descriptors:120"><span class="id" title="binder">eqv_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Heqv:121" class="idref" href="#Heqv:121"><span class="id" title="binder">Heqv</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#proper_equivocator_descriptors"><span class="id" title="definition">proper_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#eqv_descriptors:120"><span class="id" title="variable">eqv_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#es:118"><span class="id" title="variable">es</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#eqv_descriptors:120"><span class="id" title="variable">eqv_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#es:118"><span class="id" title="variable">es</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">eqv</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hes</span> <span class="id" title="var">eqv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hes</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heqv</span> <span class="id" title="var">eqv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">eqv_descriptors</span> <span class="id" title="var">eqv</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">sn</span> | <span class="id" title="var">i</span>]; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heqv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">esi</span> <span class="id" title="var">Heqsi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqsi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_vlsm_initial_state_preservation_rev"><span class="id" title="lemma">equivocator_vlsm_initial_state_preservation_rev</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  This is a property of the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a></span> which also
  trivially holds for the free constraint.  This property is sufficient for
  proving the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#_equivocators_valid_trace_project"><span class="id" title="lemma">_equivocators_valid_trace_project</span></a></span> lemma,
  which lets that lemma be used for both the composition of equivocators with
  fixed state-equivocation and the free composition.

<div class="paragraph"> </div>

  It basically says that if a message has_been_sent for a state of the
  composition of equivocators with no-message equivocations and fixed
  state-equivocations, then any of its projections should be allowed to receive it.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="constraint_has_been_sent_prop" class="idref" href="#constraint_has_been_sent_prop"><span class="id" title="definition">constraint_has_been_sent_prop</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:122" class="idref" href="#constraint:122"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a id="s:123" class="idref" href="#s:123"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hs:124" class="idref" href="#Hs:124"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:123"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="descriptors:125" class="idref" href="#descriptors:125"><span class="id" title="binder">descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hdescriptors:126" class="idref" href="#Hdescriptors:126"><span class="id" title="binder">Hdescriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:125"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:123"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sX:127" class="idref" href="#sX:127"><span class="id" title="binder">sX</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:125"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:123"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hm:129" class="idref" href="#Hm:129"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:123"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:128"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="l:130" class="idref" href="#l:130"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint:122"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:130"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sX:127"><span class="id" title="variable">sX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:128"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
  Generic proof that the projection of a trace of the composition of equivocators
  with no message equivocation and fixed state equivocation is valid w.r.t.
  the composition of the regular components constrained by any constraint satisfying
  several properties, including the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint_has_been_sent_prop"><span class="id" title="definition">constraint_has_been_sent_prop</span></a></span>erty.

<div class="paragraph"> </div>

  The proof proceeds by well founded induction on the length of the trace,
  performing an analysis on the final transition item of the trace.

<div class="paragraph"> </div>

  It uses the fact that the trace has no message equivocation to extract a
  subtrace producing the message being received at the last transition and
  proves that it's a valid message for the destination machine by using
  the induction hypothesis (that is why well-founded induction is used rather
  than a simpler induction principle).

<div class="paragraph"> </div>

  The constraint satisfaction for the projection of the final transition is
  for now assumes as hypothesis <code>Hconstraint_hbs</code>.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="_equivocators_valid_trace_project" class="idref" href="#_equivocators_valid_trace_project"><span class="id" title="lemma">_equivocators_valid_trace_project</span></a><br/>
&nbsp;&nbsp;(<a id="final_descriptors:131" class="idref" href="#final_descriptors:131"><span class="id" title="binder">final_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:132" class="idref" href="#is:132"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:133" class="idref" href="#tr:133"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="final_state:134" class="idref" href="#final_state:134"><span class="id" title="binder">final_state</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:132"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:133"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hproper:135" class="idref" href="#Hproper:135"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:131"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_state:134"><span class="id" title="variable">final_state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:136" class="idref" href="#Htr:136"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:132"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:133"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="constraint:137" class="idref" href="#constraint:137"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="HconstraintNone:140" class="idref" href="#HconstraintNone:140"><span class="id" title="binder">HconstraintNone</span></a> : <span class="id" title="notation">forall</span> <a id="l:138" class="idref" href="#l:138"><span class="id" title="binder">l</span></a> <a id="s:139" class="idref" href="#s:139"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint:137"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#l:138"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:139"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hconstraint_hbs:141" class="idref" href="#Hconstraint_hbs:141"><span class="id" title="binder">Hconstraint_hbs</span></a> :  <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint_has_been_sent_prop"><span class="id" title="definition">constraint_has_been_sent_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint:137"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="X':142" class="idref" href="#X':142"><span class="id" title="binder">X'</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint:137"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="trX:143" class="idref" href="#trX:143"><span class="id" title="binder">trX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="initial_descriptors:144" class="idref" href="#initial_descriptors:144"><span class="id" title="binder">initial_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="isX:145" class="idref" href="#isX:145"><span class="id" title="binder">isX</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:144"><span class="id" title="variable">initial_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:132"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="final_stateX:146" class="idref" href="#final_stateX:146"><span class="id" title="binder">final_stateX</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#isX:145"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:143"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:144"><span class="id" title="variable">initial_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:132"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project"><span class="id" title="definition">equivocators_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:131"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:133"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:143"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:144"><span class="id" title="variable">initial_descriptors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:131"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_state:134"><span class="id" title="variable">final_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_stateX:146"><span class="id" title="variable">final_stateX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#X':142"><span class="id" title="variable">X'</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#isX:145"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:143"><span class="id" title="variable">trX</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">tr</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">len_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span> <span class="id" title="var">Heqlen_tr</span> <span class="id" title="var">final_state</span> <span class="id" title="var">final_descriptors</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">len_tr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">len_tr</span> <span class="id" title="var">IHlen</span>] <span class="id" title="keyword">using</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Wf.html#well_founded_induction"><span class="id" title="lemma">well_founded_induction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">Wf_nat.lt_wf</span></a>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">len_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_list_last</span> <span class="id" title="var">tr</span> <span class="id" title="var">tr'</span> <span class="id" title="var">lst</span> <span class="id" title="var">Htr_lst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">IHlen</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <span class="id" title="var">final_descriptors</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">final_descriptors</span> <span class="id" title="keyword">is</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">isx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="VLSM.Core.VLSM.html#initial_state_prop"><span class="id" title="projection">initial_state_prop</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">isx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">His</span>. <span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>]. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop_iff"><span class="id" title="lemma">valid_state_prop_iff</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">His</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#fixed_equivocators_initial_state_project"><span class="id" title="lemma">fixed_equivocators_initial_state_project</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">Htr</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlen</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">tr'</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">IH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IH'</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">lia</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hlst</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH'</span> <span class="id" title="var">tr'</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_transition_item_project_proper_characterization"><span class="id" title="lemma">equivocators_transition_item_project_proper_characterization</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">final_descriptors</span> <span class="id" title="var">lst</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproperx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_transition_item_project_preserves_zero_descriptors"><span class="id" title="lemma">equivocators_transition_item_project_preserves_zero_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">final_descriptors</span> <span class="id" title="var">lst</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hzero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">final_state</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr_lst</span>, <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproperx</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hproper</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproperx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">oitem</span> [<span class="id" title="var">final_descriptors'</span> [<span class="id" title="var">Hprojectx</span> [<span class="id" title="var">Hitemx</span> <span class="id" title="var">Hproperx</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproperx</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project"><span class="id" title="definition">equivocators_trace_project</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">fld</span> <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">fld</span> <span class="id" title="keyword">as</span> <span class="id" title="var">foldx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqfoldx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hprojectx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqfoldx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lst</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>, <span class="id" title="var">iom</span>, <span class="id" title="var">s</span>, <span class="id" title="var">oom</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hlst</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> [<span class="id" title="var">Hiom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hzero</span> <span class="id" title="var">oitem</span> <span class="id" title="var">final_descriptors'</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hprojectx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproperx</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproperx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_Hproper'</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hx</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hproper'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <span class="id" title="var">final_descriptors'</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hzero</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hzero</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproper</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hzero</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hzero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">_Hproper'</span> <span class="id" title="var">Hzero</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH'</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproper'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">trX'</span> &amp; <span class="id" title="var">initial_descriptors</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Htr_project</span> &amp; <span class="id" title="var">Hstate_project</span> &amp; <span class="id" title="var">HtrX'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr'</span> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Htr</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm_incl_free"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_free</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htr'pre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a> <span class="id" title="var">Hincl</span>), <span class="id" title="var">Htr'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors"><span class="id" title="lemma">equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr'pre</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr_project</span> <span class="id" title="var">Hproper'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproper_initial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">oitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+  <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitemx</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitemx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hl</span> [<span class="id" title="var">Hinput</span> [<span class="id" title="var">Houtput</span> [<span class="id" title="var">Hdestination</span> <span class="id" title="var">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hvx</span> <span class="id" title="var">Htx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">trX'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>), <span class="id" title="var">initial_descriptors</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">foldx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_folder_additive"><span class="id" title="lemma">equivocators_trace_project_folder_additive</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">trX</span> := <span class="id" title="var">trX'</span>) (<span class="id" title="var">eqv_descriptors</span> := <span class="id" title="var">initial_descriptors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">final_state</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HtrX'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HtrX'</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hplst</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <span class="id" title="var">X'</span> <span class="id" title="var">lst</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX'</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#extend_right_finite_trace_from"><span class="id" title="lemma">extend_right_finite_trace_from</span></a> <span class="id" title="var">X'</span>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hno_equiv</span> <span class="id" title="var">_</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htx</span>, <span class="id" title="var">Hvx</span>, <span class="id" title="var">Hstate_project</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstate_project</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hvx</span>, <span class="id" title="var">Htx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">input</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">input</span> |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> | | <span class="id" title="tactic">apply</span> <span class="id" title="var">HconstraintNone</span> |]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hno_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">or_comm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hno_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hno_equiv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinit_input</span> | <span class="id" title="var">Hno_equiv</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hs_free</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_om</span> <span class="id" title="var">Hs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">_om</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state_message"><span class="id" title="lemma">VLSM_incl_valid_state_message</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm_spec"><span class="id" title="lemma">free_composite_vlsm_spec</span></a> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constraint_subsumption_valid_state_message_preservation"><span class="id" title="lemma">constraint_subsumption_valid_state_message_preservation</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#specialized_proper_sent_rev"><span class="id" title="lemma">specialized_proper_sent_rev</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hs_free</span> <span class="id" title="var">_</span> <span class="id" title="var">Hno_equiv</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hall</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="var">Htr'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_output_reflecting_inv"><span class="id" title="lemma">equivocators_trace_project_output_reflecting_inv</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr'pre</span>) <span class="id" title="var">_</span> <span class="id" title="var">Hall</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">final_descriptors_m</span> [<span class="id" title="var">initial_descriptors_m</span> [<span class="id" title="var">trXm</span> [<span class="id" title="var">_Hfinal_descriptors_m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hproject_trXm</span> <span class="id" title="var">Hex</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfinal_descriptors_m</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <span class="id" title="var">final_descriptors_m</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#not_equivocating_equivocator_descriptors_proper_fixed"><span class="id" title="lemma">not_equivocating_equivocator_descriptors_proper_fixed</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlen</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <span class="id" title="var">tr'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHlen</span>. { <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlen</span> <span class="id" title="var">tr'</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Htr</span> <span class="id" title="var">Hinit</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">final_descriptors_m</span> <span class="id" title="var">Hfinal_descriptors_m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">trXm'</span> &amp; <span class="id" title="var">initial_descriptors_m'</span> &amp; <span class="id" title="var">Hproper_initial_m</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hproject_trXm'</span> &amp; <span class="id" title="var">Hpr_fin_tr'</span> &amp; <span class="id" title="var">HtrXm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hproject_trXm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproject_trXm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hproject_trXm'</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">trXm'</span> <span class="id" title="var">initial_descriptors_m'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hproject_trXm'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> | | <span class="id" title="var">done</span> | | <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_output_is_valid"><span class="id" title="lemma">valid_trace_output_is_valid</span></a>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">HtrXm</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstate_project</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstraint_hbs</span>; [<span class="id" title="var">done</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper'</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst'pre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a>, <span class="id" title="var">Htr'pre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="lemma">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'pre</span>; <span class="id" title="tactic">exists</span> <span class="id" title="keyword">is</span>, <span class="id" title="var">tr'</span>, (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="var">Htr'pre</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">trX'</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">initial_descriptors</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">foldx</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Htr_project</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hstate_project</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">final_state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstate_project</span>, &lt;- <span class="id" title="var">Hx</span>, <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Instantiating the lemma above with the free constraint. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="free_equivocators_valid_trace_project" class="idref" href="#free_equivocators_valid_trace_project"><span class="id" title="lemma">free_equivocators_valid_trace_project</span></a><br/>
&nbsp;&nbsp;(<a id="final_descriptors:147" class="idref" href="#final_descriptors:147"><span class="id" title="binder">final_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:148" class="idref" href="#is:148"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:149" class="idref" href="#tr:149"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="final_state:150" class="idref" href="#final_state:150"><span class="id" title="binder">final_state</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:148"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:149"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hproper:151" class="idref" href="#Hproper:151"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:147"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_state:150"><span class="id" title="variable">final_state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:152" class="idref" href="#Htr:152"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:148"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:149"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="trX:153" class="idref" href="#trX:153"><span class="id" title="binder">trX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="initial_descriptors:154" class="idref" href="#initial_descriptors:154"><span class="id" title="binder">initial_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="isX:155" class="idref" href="#isX:155"><span class="id" title="binder">isX</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:154"><span class="id" title="variable">initial_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:148"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="final_stateX:156" class="idref" href="#final_stateX:156"><span class="id" title="binder">final_stateX</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#isX:155"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:153"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:154"><span class="id" title="variable">initial_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:148"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project"><span class="id" title="definition">equivocators_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:147"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:149"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:153"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:154"><span class="id" title="variable">initial_descriptors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:147"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_state:150"><span class="id" title="variable">final_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_stateX:156"><span class="id" title="variable">final_stateX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#isX:155"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:153"><span class="id" title="variable">trX</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#_equivocators_valid_trace_project"><span class="id" title="lemma">_equivocators_valid_trace_project</span></a> <span class="id" title="var">final_descriptors</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Htr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">trX</span> &amp; <span class="id" title="var">idesc</span> &amp; <span class="id" title="var">Hex</span>); [<span class="id" title="var">done</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">trX</span>, <span class="id" title="var">idesc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">split_and</span>!; [<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (@<a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))); [| <span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm_spec"><span class="id" title="lemma">free_composite_vlsm_spec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  A message sent by a non-state-equivocating machine can be directly observed
  in any projection of the final state.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="not_equivocating_sent_message_has_been_directly_observed_in_projection" class="idref" href="#not_equivocating_sent_message_has_been_directly_observed_in_projection"><span class="id" title="lemma">not_equivocating_sent_message_has_been_directly_observed_in_projection</span></a><br/>
&nbsp;&nbsp;(<a id="is:157" class="idref" href="#is:157"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:158" class="idref" href="#tr:158"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Htr:159" class="idref" href="#Htr:159"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:157"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:158"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="lst:160" class="idref" href="#lst:160"><span class="id" title="binder">lst</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:157"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:158"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:161" class="idref" href="#item:161"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitem:162" class="idref" href="#Hitem:162"><span class="id" title="binder">Hitem</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:161"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:158"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hitem_not_equiv:163" class="idref" href="#Hitem_not_equiv:163"><span class="id" title="binder">Hitem_not_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:161"><span class="id" title="variable">item</span></a>) <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:164" class="idref" href="#m:164"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm:165" class="idref" href="#Hm:165"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:164"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:161"><span class="id" title="variable">item</span></a>)<br/>
&nbsp;&nbsp;(<a id="descriptors:166" class="idref" href="#descriptors:166"><span class="id" title="binder">descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hdescriptors:167" class="idref" href="#Hdescriptors:167"><span class="id" title="binder">Hdescriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:166"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#lst:160"><span class="id" title="variable">lst</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="method">has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:166"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#lst:160"><span class="id" title="variable">lst</span></a>) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:164"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#free_equivocators_valid_trace_project"><span class="id" title="lemma">free_equivocators_valid_trace_project</span></a> <span class="id" title="var">descriptors</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hdescriptors</span> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">initial_descriptors</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Htr_project</span> [<span class="id" title="var">Hfinal_state</span> <span class="id" title="var">HtrX_Free</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfinal_state</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr_Pre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_incl"><span class="id" title="lemma">constrained_preloaded_incl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HtrX_Pre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">initial_descriptors</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">trX</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HtrX_Free</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst_preX</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">initial_descriptors</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">trX</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrX_Pre</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">has_been_directly_observed_sent_received_iff</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="lemma">proper_sent</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX_Pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">initial_descriptors</span> <span class="id" title="keyword">is</span>), <span class="id" title="var">trX</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="var">HtrX_Pre</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">suf</span> <span class="id" title="var">Hitem</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suf</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsingleton_d_item</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#is_singleton_state"><span class="id" title="definition">is_singleton_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">VLSM.l</span></a> <span class="id" title="var">item</span>))) (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">VLSM.l</span></a> <span class="id" title="var">item</span>)))).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#not_equivocating_index_has_singleton_state"><span class="id" title="lemma">not_equivocating_index_has_singleton_state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_app_iff"><span class="id" title="lemma">equivocators_trace_project_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_project</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_project</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">preX'</span> [<span class="id" title="var">sufX'</span> [<span class="id" title="var">eqv_descriptors'</span> [<span class="id" title="var">Hpr_suf</span> [<span class="id" title="var">Hpr_pre</span> <span class="id" title="var">HpreX</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">trX</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_Pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_Pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_Pre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre'_free</span> <span class="id" title="var">Hsuf'_free</span>].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_app_iff"><span class="id" title="lemma">equivocators_trace_project_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_suf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpr_suf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre_itemX</span> [<span class="id" title="var">sufX''</span> [<span class="id" title="var">eqv_descriptors''</span> [<span class="id" title="var">Hpr_suf'</span> [<span class="id" title="var">Hpr_pre_item</span> <span class="id" title="var">HsufX'</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sufX'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">left</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf'_free</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsuf'_free</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre_item_free</span> <span class="id" title="var">Hsuf'_free</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heqv_descriptors''</span> : <span class="id" title="notation">forall</span> <a id="i:168" class="idref" href="#i:168"><span class="id" title="binder"><span id="i:169" class="id">i</span></span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:168"><span class="id" title="variable">i</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">eqv_descriptors''</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:168"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#Existing"><span class="id" title="constructor">Existing</span></a> 0).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_preserves_zero_descriptors"><span class="id" title="lemma">equivocators_trace_project_preserves_zero_descriptors</span></a>, <span class="id" title="var">Hdescriptors</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Heqv_descriptors''</span> <span class="id" title="var">_</span> <span class="id" title="var">Hitem_not_equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_transition_item_project"><span class="id" title="definition">equivocators_transition_item_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">eqv_descriptors''</span> <span class="id" title="var">item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [(<span class="id" title="var">o</span>, <span class="id" title="var">odescriptor</span>) |] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hpr</span><br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_item_free</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_item_free</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre_item_free</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hv</span>]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">l</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_transition"><span class="id" title="definition">equivocator_transition</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">l</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">si'</span> <span class="id" title="var">om'</span>] <span class="id" title="var">eqn</span>: <span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_transition_no_equivocation_zero_descriptor"><span class="id" title="lemma">equivocator_transition_no_equivocation_zero_descriptor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hti</span> <span class="id" title="var">Hsingleton_d_item</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">li</span> <span class="id" title="var">Hsndv</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_transition_item_project"><span class="id" title="definition">equivocators_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection"><span class="id" title="definition">ProjectionTraces.composite_transition_item_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection_from_eq"><span class="id" title="definition">ProjectionTraces.composite_transition_item_projection_from_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#eq_rect_r"><span class="id" title="definition">eq_rect_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqv_descriptors''</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">state_update_simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Equivocators.Equivocators.html#equivocator_state_project_zero"><span class="id" title="lemma">equivocator_state_project_zero</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpr</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpr_pre_item</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hpr_pre_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Consider a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_trace"><span class="id" title="definition">valid_trace</span></a></span> for the composition of equivocators with
  no message equivocation and fixed state equivocation.

<div class="paragraph"> </div>

  Because any of its projections to the composition of original components contains
  all transitions from components not allowed to equivocate, then a final state of
  such a projection will be able to observe all messages sent or received by
  non-equivocating components in the initial trace.

<div class="paragraph"> </div>

  Therefore if seeding the composition of equivocating components with these
  messages, the restriction of the initial trace to only the equivocating
  components will satisfy the <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a></span>
  property w.r.t. these messages, a sufficient condition for it being
  valid (<span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a></span>).

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocators_trace_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#equivocators_trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="lemma">equivocators_trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="is:170" class="idref" href="#is:170"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:171" class="idref" href="#tr:171"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#transition_item"><span class="id" title="record">transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a>))<br/>
&nbsp;&nbsp;(<a id="s:172" class="idref" href="#s:172"><span class="id" title="binder">s</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:170"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:171"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:173" class="idref" href="#Htr:173"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:170"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:171"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="descriptors:174" class="idref" href="#descriptors:174"><span class="id" title="binder">descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hproper:175" class="idref" href="#Hproper:175"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:174"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:172"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="lst_trX:176" class="idref" href="#lst_trX:176"><span class="id" title="binder">lst_trX</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:174"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:172"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#lst_trX:176"><span class="id" title="variable">lst_trX</span></a>) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:171"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> <span class="id" title="var">suf</span> <span class="id" title="var">m</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#free_equivocators_valid_trace_project"><span class="id" title="lemma">free_equivocators_valid_trace_project</span></a> <span class="id" title="var">descriptors</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">initial_descriptors</span> [<span class="id" title="var">Hinitial_descriptors</span> [<span class="id" title="var">Htr_project</span> [<span class="id" title="var">Hfinal_state</span> <span class="id" title="var">HtrXFree</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HtrXPre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">initial_descriptors</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">trX</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HtrXFree</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst_trX</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a> <span class="id" title="var">lst_trX</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lst_trX</span> <span class="id" title="var">s</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfinal_state</span> |- *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfinal_state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a>, <span class="id" title="var">HtrXPre</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr_free</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_incl"><span class="id" title="lemma">constrained_preloaded_incl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hsuf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsuf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hsuf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">Hivt</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hivt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_dec"><span class="id" title="lemma">composite_has_been_directly_observed_dec</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">lst_trX</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Heqv</span>]<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsuf_free</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suf</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_incl"><span class="id" title="lemma">constrained_preloaded_incl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hs_free</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf_free</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>, <span class="id" title="var">iom</span>, <span class="id" title="var">s0</span>, <span class="id" title="var">oom</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">iom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hivt</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [[<span class="id" title="var">Hc</span> <span class="id" title="var">_</span>] <span class="id" title="var">Hfixed</span>]]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>, <span class="id" title="var">Hfixed</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Ht</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfixed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> | <span class="id" title="var">Hinit</span>]; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre_free</span> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hpre</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm_incl_free"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_free</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre_lst_free</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a>), <span class="id" title="var">Hpre_free</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#specialized_proper_sent_rev"><span class="id" title="lemma">specialized_proper_sent_rev</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hpre_lst_free</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper_sent</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper_sent</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hproper_sent</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hc</span>  <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="var">Hpre_free</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre_item</span> [<span class="id" title="var">Hpre_item</span> <span class="id" title="var">Hpre_m</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">pre_item</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_app_iff"><span class="id" title="lemma">equivocators_trace_project_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_project</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_project</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">preX</span> [<span class="id" title="var">sufX</span> [<span class="id" title="var">final_descriptors'</span> [<span class="id" title="var">Hsuf_project</span> [<span class="id" title="var">Htr_project</span> <span class="id" title="var">Heq</span>]]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hfinal'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <span class="id" title="var">final_descriptors'</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproper</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#preloaded_equivocators_valid_trace_from_project"><span class="id" title="lemma">preloaded_equivocators_valid_trace_from_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Hsuf_free</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_sufX</span> [<span class="id" title="var">_final_descriptors'</span> [<span class="id" title="var">_Hsuf_project</span> [<span class="id" title="var">Hproper'</span> <span class="id" title="var">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsuf_project</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_Hsuf_project</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">_Hsuf_project</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_preserves_zero_descriptors"><span class="id" title="lemma">equivocators_trace_project_preserves_zero_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsuf_free</span> <span class="id" title="var">descriptors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hpr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hpr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsuf_project</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hpr</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Hproper</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hfutures</span> : <a class="idref" href="VLSM.Core.VLSM.html#in_futures"><span class="id" title="definition">in_futures</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">pre_item</span>) <span class="id" title="var">s0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre_item</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre_pre</span> [<span class="id" title="var">pre_suf</span> <span class="id" title="var">Hpre_item</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">pre_item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">pre_suf</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">pre_item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">pre_suf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre_item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_free</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_free</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr_free</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_free</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_free</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr_s0</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">pre</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">Htr_s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> (<a class="idref" href="VLSM.Core.PreloadedVLSM.html#preloaded_with_all_messages_vlsm"><span class="id" title="definition">preloaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_s0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_s0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hfuture</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfuture</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfuture</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#in_futures_reflects_fixed_equivocation"><span class="id" title="lemma">in_futures_reflects_fixed_equivocation</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hfutures</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#free_equivocators_valid_trace_project"><span class="id" title="lemma">free_equivocators_valid_trace_project</span></a> <span class="id" title="var">final_descriptors'</span> <span class="id" title="keyword">is</span> <span class="id" title="var">pre</span> <span class="id" title="var">Hfinal'</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#conj"><span class="id" title="constructor">conj</span></a> <span class="id" title="var">Hpre</span> <span class="id" title="var">His</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_preX</span> [<span class="id" title="var">_initial_descriptors</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_Htr_project</span> [<span class="id" title="var">Hpre_final_state</span> <span class="id" title="var">_</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr_project</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_Htr_project</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">_Htr_project</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">_preX</span> <span class="id" title="var">_initial_descriptors</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">_Htr_project</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a>, <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hl</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_free_iff"><span class="id" title="lemma">composite_has_been_directly_observed_free_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocation.html#in_futures_preserving_oracle_from_stepwise"><span class="id" title="lemma">in_futures_preserving_oracle_from_stepwise</span></a>; <span class="id" title="var">cycle</span> 2<br/>
&nbsp;&nbsp;; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed_stepwise_props"><span class="id" title="method">has_been_directly_observed_stepwise_props</span></a> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#not_equivocating_sent_message_has_been_directly_observed_in_projection"><span class="id" title="lemma">not_equivocating_sent_message_has_been_directly_observed_in_projection</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">only</span> 3: <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">lst_trX</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfinal_state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hfinal_state</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">trX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">sufX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrXPre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrXPre</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpre_final_state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HtrXPre</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Because any of its projections to the composition of original components contains
  all transitions from components not allowed to equivocate, all messages
  sent by non-equivocating components in the original trace will also be sent
  in any projection.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="equivocator_vlsm_trace_project_reflect_non_equivocating" class="idref" href="#equivocator_vlsm_trace_project_reflect_non_equivocating"><span class="id" title="lemma">equivocator_vlsm_trace_project_reflect_non_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="is:177" class="idref" href="#is:177"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:178" class="idref" href="#tr:178"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Htr:179" class="idref" href="#Htr:179"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:177"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:178"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:180" class="idref" href="#m:180"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="final_descriptors:181" class="idref" href="#final_descriptors:181"><span class="id" title="binder">final_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hproper:182" class="idref" href="#Hproper:182"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:181"><span class="id" title="variable">final_descriptors</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:177"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:178"><span class="id" title="variable">tr</span></a>))<br/>
&nbsp;&nbsp;(<a id="trX:183" class="idref" href="#trX:183"><span class="id" title="binder">trX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="initial_descriptors:184" class="idref" href="#initial_descriptors:184"><span class="id" title="binder">initial_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr_project:185" class="idref" href="#Htr_project:185"><span class="id" title="binder">Htr_project</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project"><span class="id" title="definition">equivocators_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:181"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:178"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:183"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:184"><span class="id" title="variable">initial_descriptors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="item:186" class="idref" href="#item:186"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hitem:187" class="idref" href="#Hitem:187"><span class="id" title="binder">Hitem</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:186"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:178"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Houtput:188" class="idref" href="#Houtput:188"><span class="id" title="binder">Houtput</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:186"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:180"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno_equiv_item:189" class="idref" href="#Hno_equiv_item:189"><span class="id" title="binder">Hno_equiv_item</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:186"><span class="id" title="variable">item</span></a>) <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#field_selector"><span class="id" title="definition">field_selector</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a>) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:180"><span class="id" title="variable">m</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:183"><span class="id" title="variable">trX</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">suf</span> <span class="id" title="var">Heq_tr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">item</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">suf</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">item</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">suf</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_app_iff"><span class="id" title="lemma">equivocators_trace_project_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr_project</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr_project</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">preX</span> [<span class="id" title="var">item_sufX</span> [<span class="id" title="var">eqv_pre</span> [<span class="id" title="var">Hpr_item_suf</span> [<span class="id" title="var">Hpr_pre</span> <span class="id" title="var">Heq_trX</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">trX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_app_iff"><span class="id" title="lemma">equivocators_trace_project_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_item_suf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpr_item_suf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">itemXs</span> [<span class="id" title="var">sufX</span> [<span class="id" title="var">eqv_item</span> [<span class="id" title="var">Hpr_suf</span> [<span class="id" title="var">Hpr_item</span> <span class="id" title="var">Heq_item_sufX</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">item_sufX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">Hsuf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hitem</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>, <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_is_last"><span class="id" title="lemma">finite_trace_last_is_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuf</span>, <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsufpre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#destination"><span class="id" title="projection">destination</span></a> <span class="id" title="var">item</span>) <span class="id" title="var">suf</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_incl"><span class="id" title="lemma">constrained_preloaded_incl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors"><span class="id" title="lemma">equivocators_trace_project_preserves_proper_fixed_equivocator_descriptors</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsufpre</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">final_descriptors</span> <span class="id" title="var">eqv_item</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpr_suf</span> <span class="id" title="var">Hproper</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproper_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hproper_item</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hproper_item</span> <span class="id" title="var">Hproper_fixed_item</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproper_fixed_item</span> <span class="id" title="var">_</span> <span class="id" title="var">Hno_equiv_item</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#no_equivocating_equivocators_transition_item_project"><span class="id" title="lemma">no_equivocating_equivocators_transition_item_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">eqv_item</span> <span class="id" title="var">item</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hproper_fixed_item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#not_equivocating_index_has_singleton_state"><span class="id" title="lemma">not_equivocating_index_has_singleton_state</span></a> <span class="id" title="var">_</span> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">item</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>, <span class="id" title="var">iom</span>, <span class="id" title="var">s</span>, <span class="id" title="var">oom</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#first_transition_valid"><span class="id" title="lemma">first_transition_valid</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hitem</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hs</span> [<span class="id" title="var">Hiom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]] <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hex</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hex'</span> <span class="id" title="var">Hex</span>]. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_item</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hex</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hpr_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  As a consequence of the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocator_vlsm_trace_project_reflect_non_equivocating"><span class="id" title="lemma">equivocator_vlsm_trace_project_reflect_non_equivocating</span></a></span>
  lemma, if a message emmitted by a trace cannot be directly observed in a
  projection of the trace's final state, then it must be that it was emitted by
  one of the components allowed to equivocate.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="projection_has_not_been_directly_observed_is_equivocating" class="idref" href="#projection_has_not_been_directly_observed_is_equivocating"><span class="id" title="lemma">projection_has_not_been_directly_observed_is_equivocating</span></a><br/>
&nbsp;&nbsp;(<a id="is:190" class="idref" href="#is:190"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:191" class="idref" href="#tr:191"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="Htr:192" class="idref" href="#Htr:192"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:190"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:191"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:193" class="idref" href="#s:193"><span class="id" title="binder">s</span></a> := @<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)) <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:190"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:191"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="descriptors:194" class="idref" href="#descriptors:194"><span class="id" title="binder">descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hproper:195" class="idref" href="#Hproper:195"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:194"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:193"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="sX:196" class="idref" href="#sX:196"><span class="id" title="binder">sX</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#descriptors:194"><span class="id" title="variable">descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#s:193"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:197" class="idref" href="#m:197"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno:198" class="idref" href="#Hno:198"><span class="id" title="binder">Hno</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sX:196"><span class="id" title="variable">sX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:197"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="item:199" class="idref" href="#item:199"><span class="id" title="binder">item</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:199"><span class="id" title="variable">item</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:191"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:199"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:197"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#item:199"><span class="id" title="variable">item</span></a>) <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#free_equivocators_valid_trace_project"><span class="id" title="lemma">free_equivocators_valid_trace_project</span></a> <span class="id" title="var">descriptors</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">trX</span> [<span class="id" title="var">initial_descriptors</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Htr_project</span> [<span class="id" title="var">Hlast_state</span> <span class="id" title="var">HtrX</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">item</span> <span class="id" title="var">Hitem</span> <span class="id" title="var">Houtput</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>) <span class="id" title="notation">∈</span> <span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">Hno</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hno</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_sent_received_iff"><span class="id" title="lemma">composite_has_been_directly_observed_sent_received_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HtrX_free</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.Free"><span class="id" title="variable">Free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">initial_descriptors</span> <span class="id" title="keyword">is</span>) <span class="id" title="var">trX</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">HtrX</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.PreloadedVLSM.html#vlsm_incl_preloaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_preloaded_with_all_messages_vlsm</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">HtrX_free</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hfree_lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sX</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlast_state</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_proper_sent"><span class="id" title="lemma">composite_proper_sent</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX_free</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">initial_descriptors</span> <span class="id" title="keyword">is</span>), <span class="id" title="var">trX</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_default_last"><span class="id" title="definition">valid_trace_add_default_last</span></a> <span class="id" title="var">HtrX_free</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HtrX</span> <span class="id" title="var">HtrX_free</span> <span class="id" title="var">Hfree_lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocator_vlsm_trace_project_reflect_non_equivocating"><span class="id" title="lemma">equivocator_vlsm_trace_project_reflect_non_equivocating</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[.. | <span class="id" title="var">contradict</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The next two lemmas are rather technical, but their basic meaning is that
  if we take the composition of a subset of equivocators, it doesn't matter
  the way we do it (either first obtain the indexed subset of components and then
  transform that into equivocators and take their composition, or we first
  start with the indexed full set of equivocators and then select a subset
  of them and take their composition).

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocators_composition_sub_projection_commute" class="idref" href="#preloaded_equivocators_composition_sub_projection_commute"><span class="id" title="lemma">preloaded_equivocators_composition_sub_projection_commute</span></a><br/>
&nbsp;&nbsp;(<a id="seed1:200" class="idref" href="#seed1:200"><span class="id" title="binder">seed1</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed2:201" class="idref" href="#seed2:201"><span class="id" title="binder">seed2</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hseed12:203" class="idref" href="#Hseed12:203"><span class="id" title="binder">Hseed12</span></a> : <span class="id" title="notation">forall</span> <a id="m:202" class="idref" href="#m:202"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed1:200"><span class="id" title="variable">seed1</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:202"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed2:201"><span class="id" title="variable">seed2</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:202"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_preloaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_preloaded</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed1:200"><span class="id" title="variable">seed1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_preloaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_preloaded</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed2:201"><span class="id" title="variable">seed2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">HmX</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> [<span class="id" title="var">Hs</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> | <span class="id" title="var">Hc</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hseed12</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">subi</span> <span class="id" title="var">Hibs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">subi</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hibs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance"><span class="id" title="lemma">has_been_sent_irrelevance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_valid_state_projection"><span class="id" title="lemma">preloaded_valid_state_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>))) <span class="id" title="var">subi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">constrained_preloaded_vlsm_incl_preloaded_with_all_messages</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_equivocators_composition_sub_projection_commute_inv" class="idref" href="#preloaded_equivocators_composition_sub_projection_commute_inv"><span class="id" title="lemma">preloaded_equivocators_composition_sub_projection_commute_inv</span></a><br/>
&nbsp;&nbsp;(<a id="seed1:204" class="idref" href="#seed1:204"><span class="id" title="binder">seed1</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="seed2:205" class="idref" href="#seed2:205"><span class="id" title="binder">seed2</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hseed12:207" class="idref" href="#Hseed12:207"><span class="id" title="binder">Hseed12</span></a> : <span class="id" title="notation">forall</span> <a id="m:206" class="idref" href="#m:206"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed1:204"><span class="id" title="variable">seed1</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:206"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed2:205"><span class="id" title="variable">seed2</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#m:206"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_preloaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_preloaded</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed1:204"><span class="id" title="variable">seed1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_preloaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_preloaded</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#seed2:205"><span class="id" title="variable">seed2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#basic_VLSM_incl"><span class="id" title="lemma">basic_VLSM_incl</span></a>; <span class="id" title="tactic">intros</span> ? *; [<span class="id" title="var">done</span> | | | <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">HmX</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">Hs</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">Hv</span> &amp; <span class="id" title="var">Hc</span> &amp; <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hc</span> | <span class="id" title="var">Hc</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hseed12</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">subi</span> <span class="id" title="var">Hibs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">subi</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Hibs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance"><span class="id" title="lemma">has_been_sent_irrelevance</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_valid_state_projection"><span class="id" title="lemma">preloaded_valid_state_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>))) <span class="id" title="var">subi</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_vlsm_incl_preloaded_with_all_messages"><span class="id" title="lemma">constrained_preloaded_vlsm_incl_preloaded_with_all_messages</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  The intermediary results above allow us to prove that the
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a></span> has the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint_has_been_sent_prop"><span class="id" title="definition">constraint_has_been_sent_prop</span></a></span>erty.

<div class="paragraph"> </div>

  The core of this result is proving that given a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#valid_state"><span class="id" title="definition">valid_state</span></a></span> <code>s</code> of the
  composition of equivocators with no message equivocation and fixed state
  equivocation, a message which <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="projection">has_been_sent</span></a></span> for that state but not
  <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocation.html#has_been_directly_observed"><span class="id" title="projection">has_been_directly_observed</span></a></span> for a projection of that state <code>sx</code>, can nevertheless be
  generated by the composition of the components allowed to equivocate, preloaded with
  the messages directly observed in the state <code>sx</code>.

<div class="paragraph"> </div>

  To prove that, we consider a trace witness for the message having been sent,
  we use <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#projection_has_not_been_directly_observed_is_equivocating"><span class="id" title="lemma">projection_has_not_been_directly_observed_is_equivocating</span></a></span> to derive that
  it must have been sent by one of the machines allowed to equivocate, from this
  we derive that it can be sent by the restriction of the composition of
  equivocators to just the equivocating components, preloaded with the messages
  directly observed in the projection, then we use
  the <span class="inlinecode"><a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#seeded_equivocators_valid_trace_project"><span class="id" title="lemma">seeded_equivocators_valid_trace_project</span></a></span> result to reach our conclusion.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="fixed_equivocation_constraint_has_constraint_has_been_sent_prop" class="idref" href="#fixed_equivocation_constraint_has_constraint_has_been_sent_prop"><span class="id" title="lemma">fixed_equivocation_constraint_has_constraint_has_been_sent_prop</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint_has_been_sent_prop"><span class="id" title="definition">constraint_has_been_sent_prop</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#fixed_equivocation_constraint"><span class="id" title="definition">fixed_equivocation_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#constraint_has_been_sent_prop"><span class="id" title="definition">constraint_has_been_sent_prop</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed_dec"><span class="id" title="lemma">composite_has_been_directly_observed_dec</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">sX</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#no_additional_equivocations"><span class="id" title="definition">no_additional_equivocations</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Phase&nbsp;I:&nbsp;exhibiting&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">valid_trace</span></span>&nbsp;ending&nbsp;in&nbsp;tr&nbsp;s&nbsp;and&nbsp;sending&nbsp;m&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Htr'pre</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_init_to"><span class="id" title="definition">finite_constrained_trace_init_to</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constrained_preloaded_incl"><span class="id" title="lemma">constrained_preloaded_incl</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hplst</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#constrained_state_prop"><span class="id" title="definition">constrained_state_prop</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'pre</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'pre</span>; <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="lemma">proper_sent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; [| <span class="id" title="var">done</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hplst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr'pre</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Phase&nbsp;II&nbsp;(a):&nbsp;The&nbsp;restriction&nbsp;of&nbsp;tr&nbsp;to&nbsp;the&nbsp;equivocators&nbsp;allowed&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;&nbsp;state-equivocate&nbsp;is&nbsp;valid&nbsp;for&nbsp;the&nbsp;corresponding&nbsp;composition<br/>
&nbsp;&nbsp;&nbsp;&nbsp;preloaded&nbsp;with&nbsp;the&nbsp;messages&nbsp;directly&nbsp;observed&nbsp;in&nbsp;the&nbsp;projection&nbsp;sX&nbsp;of&nbsp;s.<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">sX</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproject</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproject</span> <span class="id" title="keyword">is</span> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproject</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">sX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hdescriptors</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="lemma">equivocators_trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="var">descriptors</span> <span class="id" title="var">Hdescriptors</span>).<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproject</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="var">Htr</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqsX</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HeqsX</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Phase&nbsp;III&nbsp;(a):&nbsp;Obtain&nbsp;a&nbsp;projection&nbsp;trXm&nbsp;of&nbsp;tr&nbsp;outputing&nbsp;m&nbsp;using&nbsp;a&nbsp;final_descriptor_m&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr'pre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_output_reflecting_iff"><span class="id" title="lemma">equivocators_trace_project_output_reflecting_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="var">Htr'pre</span>))) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">final_descriptors_m</span> &amp; <span class="id" title="var">initial_descriptors_m</span> &amp; <span class="id" title="var">trXm</span> &amp; <span class="id" title="var">Hfinal_descriptors_m</span> &amp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hproject_trXm</span> &amp; <span class="id" title="var">Hex</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Identify&nbsp;the&nbsp;item&nbsp;outputing&nbsp;m&nbsp;in&nbsp;trXm&nbsp;an&nbsp;its&nbsp;corresponding&nbsp;item&nbsp;in&nbsp;tr.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hex</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">output_itemX</span> [<span class="id" title="var">Hin</span> <span class="id" title="var">Houtput_select</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_split</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">preX</span> [<span class="id" title="var">sufX</span> <span class="id" title="var">Heq_trXm</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">output_itemX</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">sufX</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">output_itemX</span><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">sufX</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_trXm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpr_item</span> := <span class="id" title="var">Hproject_trXm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_trXm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_app_inv_item"><span class="id" title="lemma">equivocators_trace_project_app_inv_item</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpr_item</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">suf</span> [<span class="id" title="var">item</span> [<span class="id" title="var">item_descriptors</span> [<span class="id" title="var">pre_descriptors</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">_</span> [<span class="id" title="var">Hpr_item</span> [<span class="id" title="var">_</span> <span class="id" title="var">Heqtr</span>]]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_transition_item_project"><span class="id" title="definition">equivocators_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpr_item</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsProjections.html#equivocator_vlsm_transition_item_project"><span class="id" title="definition">equivocator_vlsm_transition_item_project</span></a> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_transition_item_projection"><span class="id" title="definition">composite_transition_item_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">item_descriptors</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#l"><span class="id" title="projection">l</span></a> <span class="id" title="var">item</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [(<span class="id" title="var">o</span>, <span class="id" title="var">deqv'</span>) |]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">item'</span> |]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpr_item</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">output_itemX</span> <span class="id" title="var">pre_descriptors</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hpr_item</span> <span class="id" title="var">deqv'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Houtput_select</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;show&nbsp;that&nbsp;that&nbsp;item&nbsp;must&nbsp;be&nbsp;specifying&nbsp;a&nbsp;transition&nbsp;for&nbsp;an&nbsp;equivocating&nbsp;component&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="var">Htr</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hdescriptors</span>, <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#projection_has_not_been_directly_observed_is_equivocating"><span class="id" title="lemma">projection_has_not_been_directly_observed_is_equivocating</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">Hdescriptors</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">n</span> <span class="id" title="var">item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hitem_equivocating</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hdescriptors</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hitem_equivocating</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtr</span>, !<span class="id" title="lemma">elem_of_app</span>, <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="tactic">auto</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hitem_equivocating</span> <span class="id" title="var">Houtput_select</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Phase&nbsp;III&nbsp;(b):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Consider&nbsp;a&nbsp;projection&nbsp;trX'&nbsp;obtained&nbsp;using&nbsp;the&nbsp;final_descriptor_m&nbsp;as&nbsp;above,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;first&nbsp;restricting&nbsp;the&nbsp;components&nbsp;to&nbsp;just&nbsp;the&nbsp;equivocators&nbsp;allowed&nbsp;to&nbsp;equivocate.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;will&nbsp;show&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">seeded_equivocators_valid_trace_project</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;leverage&nbsp;the&nbsp;result&nbsp;from&nbsp;Phase&nbsp;II&nbsp;(a)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;derive&nbsp;that&nbsp;the&nbsp;resulting&nbsp;projection&nbsp;is&nbsp;valid.<br/>
&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#equivocators_composition_for_directly_observed"><span class="id" title="definition">equivocators_composition_for_directly_observed</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.FixedSetEquivocation.html#preloaded_free_equivocating_vlsm_composition"><span class="id" title="definition">preloaded_free_equivocating_vlsm_composition</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#seeded_equivocators_valid_trace_project"><span class="id" title="lemma">seeded_equivocators_valid_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_directly_observed"><span class="id" title="definition">composite_has_been_directly_observed</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">sX</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>) <span class="id" title="keyword">is</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>) <span class="id" title="var">tr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hproject</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:208" class="idref" href="#i:208"><span class="id" title="binder"><span id="i:209" class="id">i</span></span></a> =&gt; <span class="id" title="var">final_descriptors_m</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#i:208"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hsub_project</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsub_project</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsub_project</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="var">Htr</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Heq_lst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq_lst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq_lst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#not_equivocating_equivocator_descriptors_proper"><span class="id" title="lemma">not_equivocating_equivocator_descriptors_proper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfinal_descriptors_m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinal_descriptors_m</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsub_project</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">trX'</span> [<span class="id" title="var">initial_descriptors'</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hpr_tr'</span> [<span class="id" title="var">_</span> <span class="id" title="var">HtrX</span>]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Htr'pre</span> <span class="id" title="var">Hproject</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*<br/>
&nbsp;&nbsp;&nbsp;&nbsp;State&nbsp;that&nbsp;by&nbsp;restricting&nbsp;trXm&nbsp;to&nbsp;the&nbsp;subset&nbsp;of&nbsp;equivocating&nbsp;components<br/>
&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;obtain&nbsp;the&nbsp;same&nbsp;trX'&nbsp;trace.<br/>
&nbsp;&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project_finite_trace_sub_projection_commute"><span class="id" title="lemma">equivocators_trace_project_finite_trace_sub_projection_commute</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">final_descriptors_m</span> <span class="id" title="var">initial_descriptors_m</span> <span class="id" title="var">initial_descriptors'</span> <span class="id" title="var">tr</span> <span class="id" title="var">trXm</span> <span class="id" title="var">trX'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hproject_trXm</span> <span class="id" title="var">Hpr_tr'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">HeqtrX</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hproject_trXm</span> <span class="id" title="var">Hpr_tr'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;reduce&nbsp;the&nbsp;goal&nbsp;to&nbsp;showing&nbsp;that&nbsp;the&nbsp;message&nbsp;appears&nbsp;in&nbsp;trX'.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>)) <span class="id" title="var">initial_descriptors'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<span class="id" title="definition">elements</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.equivocating"><span class="id" title="variable">equivocating</span></a>) <span class="id" title="keyword">is</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">isX</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">HeqisX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Core.VLSM.html#can_emit_from_valid_trace"><span class="id" title="lemma">can_emit_from_valid_trace</span></a>; [<span class="id" title="var">done</span> |].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <span class="id" title="lemma">Exists_app</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">simpl</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_elements</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hitem_equivocating</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">constructor</span> |].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  Main result of this section, stating that traces which are valid for the
  equivocator-based definition of fixed equivocation project to traces which are
  valid for the simple-components definition of fixed equivocation.

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="fixed_equivocators_valid_trace_project" class="idref" href="#fixed_equivocators_valid_trace_project"><span class="id" title="lemma">fixed_equivocators_valid_trace_project</span></a><br/>
&nbsp;&nbsp;(<a id="final_descriptors:210" class="idref" href="#final_descriptors:210"><span class="id" title="binder">final_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="is:211" class="idref" href="#is:211"><span class="id" title="binder">is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="tr:212" class="idref" href="#tr:212"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;(<a id="final_state:213" class="idref" href="#final_state:213"><span class="id" title="binder">final_state</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:211"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:212"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hproper:214" class="idref" href="#Hproper:214"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:210"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_state:213"><span class="id" title="variable">final_state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:215" class="idref" href="#Htr:215"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:211"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:212"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="trX:216" class="idref" href="#trX:216"><span class="id" title="binder">trX</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="initial_descriptors:217" class="idref" href="#initial_descriptors:217"><span class="id" title="binder">initial_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="isX:218" class="idref" href="#isX:218"><span class="id" title="binder">isX</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:217"><span class="id" title="variable">initial_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:211"><span class="id" title="variable">is</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="final_stateX:219" class="idref" href="#final_stateX:219"><span class="id" title="binder">final_stateX</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#isX:218"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:216"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#proper_fixed_equivocator_descriptors"><span class="id" title="definition">proper_fixed_equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:217"><span class="id" title="variable">initial_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#is:211"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_trace_project"><span class="id" title="definition">equivocators_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:210"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#tr:212"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:216"><span class="id" title="variable">trX</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#initial_descriptors:217"><span class="id" title="variable">initial_descriptors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:210"><span class="id" title="variable">final_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_state:213"><span class="id" title="variable">final_state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_stateX:219"><span class="id" title="variable">final_stateX</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#isX:218"><span class="id" title="variable">isX</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#trX:216"><span class="id" title="variable">trX</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#_equivocators_valid_trace_project"><span class="id" title="lemma">_equivocators_valid_trace_project</span></a>; [<span class="id" title="var">done</span> | <span class="id" title="var">done</span> | <span class="id" title="var">done</span> |]; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#fixed_equivocation_constraint_has_constraint_has_been_sent_prop"><span class="id" title="lemma">fixed_equivocation_constraint_has_constraint_has_been_sent_prop</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fixed_equivocators_vlsm_partial_projection" class="idref" href="#fixed_equivocators_vlsm_partial_projection"><span class="id" title="lemma">fixed_equivocators_vlsm_partial_projection</span></a><br/>
&nbsp;&nbsp;(<a id="final_descriptors:220" class="idref" href="#final_descriptors:220"><span class="id" title="binder">final_descriptors</span></a> : <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_descriptors"><span class="id" title="definition">equivocator_descriptors</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMPartialProjection.html#VLSM_partial_projection"><span class="id" title="record">VLSM_partial_projection</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_partial_trace_project"><span class="id" title="definition">equivocators_partial_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#final_descriptors:220"><span class="id" title="variable">final_descriptors</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">split</span> |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">Hpr_tr</span> <span class="id" title="var">s_pre</span> <span class="id" title="var">pre</span> <span class="id" title="var">Hs_lst</span> <span class="id" title="var">Hpre_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HPreFree_pre_tr</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace_from"><span class="id" title="definition">finite_constrained_trace_from</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">s_pre</span> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hpre_tr</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm_incl_PreFree"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_PreFree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hpre_tr</span>. <span class="id" title="var">revert</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">Hpr_tr</span> <span class="id" title="var">s_pre</span> <span class="id" title="var">pre</span> <span class="id" title="var">Hs_lst</span> <span class="id" title="var">HPreFree_pre_tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_partial_trace_project_extends_left"><span class="id" title="lemma">equivocators_partial_trace_project_extends_left</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">Hpr_tr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#destruct_equivocators_partial_trace_project"><span class="id" title="lemma">destruct_equivocators_partial_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">Hpr_tr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hnot_equiv</span> [<span class="id" title="var">initial_descriptors</span> [<span class="id" title="var">Htr_project</span> <span class="id" title="var">Hs_project</span>]]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#not_equivocating_equivocator_descriptors_proper_fixed"><span class="id" title="lemma">not_equivocating_equivocator_descriptors_proper_fixed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnot_equiv</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#fixed_equivocators_valid_trace_project"><span class="id" title="lemma">fixed_equivocators_valid_trace_project</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">_trX</span> [<span class="id" title="var">_initial_descriptors</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_Htr_project</span> [<span class="id" title="var">_</span> <span class="id" title="var">HtrX</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Htr_project</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_Htr_project</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">_Htr_project</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fixed_equivocators_vlsm_projection" class="idref" href="#fixed_equivocators_vlsm_projection"><span class="id" title="lemma">fixed_equivocators_vlsm_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_label_project"><span class="id" title="definition">equivocators_total_label_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_state_project"><span class="id" title="definition">equivocators_total_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">constructor</span> |]; <span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#PreFreeE_Free_vlsm_projection_type"><span class="id" title="lemma">PreFreeE_Free_vlsm_projection_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace_from"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm_incl_PreFree"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_PreFree</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre_tr</span> : <a class="idref" href="VLSM.Core.PreloadedVLSM.html#finite_constrained_trace"><span class="id" title="definition">finite_constrained_trace</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.FreeE"><span class="id" title="variable">FreeE</span></a> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.VLSMInclusion.html#VLSM_incl_finite_valid_trace"><span class="id" title="lemma">VLSM_incl_finite_valid_trace</span></a>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm_incl_PreFree"><span class="id" title="lemma">equivocators_fixed_equivocations_vlsm_incl_PreFree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMPartialProjection.html#VLSM_partial_projection_finite_valid_trace"><span class="id" title="lemma">VLSM_partial_projection_finite_valid_trace</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#fixed_equivocators_vlsm_partial_projection"><span class="id" title="lemma">fixed_equivocators_vlsm_partial_projection</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sX</span> <span class="id" title="var">trX</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_state_project"><span class="id" title="definition">equivocators_state_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#zero_descriptor"><span class="id" title="definition">zero_descriptor</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">sX</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">trX</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_True</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#zero_descriptor_not_equivocating"><span class="id" title="lemma">zero_descriptor_not_equivocating</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project_characterization"><span class="id" title="lemma">equivocators_total_trace_project_characterization</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hpre_tr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsim</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSMProjections.VLSMTotalProjection.html#pre_VLSM_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_projection_finite_trace_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">tr</span> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_trace_project"><span class="id" title="definition">equivocators_total_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">trX</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsCompositionProjections.html#equivocators_total_VLSM_projection_finite_trace_project"><span class="id" title="lemma">equivocators_total_VLSM_projection_finite_trace_project</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hpre_tr</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_from_equivocators_to_components"><span class="id" title="section">sec_from_equivocators_to_components</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_all_equivocating" class="idref" href="#sec_all_equivocating"><span class="id" title="section">sec_all_equivocating</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab233"></a><h2 class="section">Fixed Equivocation for all Equivocators</h2>


<div class="paragraph"> </div>

  In this section we show that if the set of components allowed to equivocate in the
  fixed set equivocation is the entire set of components, then the composition
  under the fixed-set equivocation constraint is the same as the composition
  with only the no-message-equivocation constraint.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:221" class="idref" href="#message:221"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="H:224" class="idref" href="#H:224"><span class="id" title="binder">finite.Finite</span></a> <a id="index:222" class="idref" href="#index:222"><span class="id" title="binder"><span id="H:224" class="id">index</span></span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:225" class="idref" href="#IM:225"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:222"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:221"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">forall</span></a> <a id="i:226" class="idref" href="#i:226"><span class="id" title="binder"><span id="H0:227" class="id">i</span></span></a> <a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">:</span></a> <a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">index</span></a><a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">,</span></a> <a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">HasBeenSentCapability</span></a> <a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">(</span></a><a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">IM</span></a> <a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">i</span></a><a id="H0:227" class="idref" href="#H0:227"><span class="id" title="binder">)</span></a>}<br/>
&nbsp;&nbsp;(<a id="XE:228" class="idref" href="#XE:228"><span class="id" title="binder">XE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:221"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_vlsm"><span class="id" title="definition">equivocators_fixed_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:225"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#index:222"><span class="id" title="variable">index</span></a>))<br/>
&nbsp;&nbsp;(<a id="NE:229" class="idref" href="#NE:229"><span class="id" title="binder">NE</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="record">VLSM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#message:221"><span class="id" title="variable">message</span></a> := <a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_vlsm"><span class="id" title="definition">equivocators_no_equivocations_vlsm</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#IM:225"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strong_constraint_subsumption_fixed_all" class="idref" href="#strong_constraint_subsumption_fixed_all"><span class="id" title="lemma">strong_constraint_subsumption_fixed_all</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption"><span class="id" title="definition">strong_constraint_subsumption</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_constraint"><span class="id" title="definition">equivocators_no_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.index"><span class="id" title="variable">index</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="strong_constraint_subsumption_all_fixed" class="idref" href="#strong_constraint_subsumption_all_fixed"><span class="id" title="lemma">strong_constraint_subsumption_all_fixed</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption"><span class="id" title="definition">strong_constraint_subsumption</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.index"><span class="id" title="variable">index</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_constraint"><span class="id" title="definition">equivocators_no_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> [<span class="id" title="var">s</span> <span class="id" title="var">om</span>] <span class="id" title="var">Hv</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="equivocators_fixed_equivocations_all_eq" class="idref" href="#equivocators_fixed_equivocations_all_eq"><span class="id" title="lemma">equivocators_fixed_equivocations_all_eq</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.VLSMEquality.html#VLSM_eq"><span class="id" title="abbreviation">VLSM_eq</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.XE"><span class="id" title="variable">XE</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.NE"><span class="id" title="variable">NE</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#preloaded_constraint_subsumption_stronger"><span class="id" title="lemma">preloaded_constraint_subsumption_stronger</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption_strongest"><span class="id" title="lemma">strong_constraint_subsumption_strongest</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#strong_constraint_subsumption_all_fixed"><span class="id" title="lemma">strong_constraint_subsumption_all_fixed</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.ConstrainedVLSM.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocator_IM"><span class="id" title="definition">equivocator_IM</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.EquivocatorsComposition.html#equivocators_no_equivocations_constraint"><span class="id" title="definition">equivocators_no_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#equivocators_fixed_equivocations_constraint"><span class="id" title="definition">equivocators_fixed_equivocations_constraint</span></a> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating.index"><span class="id" title="variable">index</span></a>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#preloaded_constraint_subsumption_stronger"><span class="id" title="lemma">preloaded_constraint_subsumption_stronger</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.ConstrainedVLSM.html#strong_constraint_subsumption_strongest"><span class="id" title="lemma">strong_constraint_subsumption_strongest</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#strong_constraint_subsumption_fixed_all"><span class="id" title="lemma">strong_constraint_subsumption_fixed_all</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.Equivocators.FixedEquivocation.html#sec_all_equivocating"><span class="id" title="section">sec_all_equivocating</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
