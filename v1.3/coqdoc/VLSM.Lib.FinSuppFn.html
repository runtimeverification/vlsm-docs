<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
	<script>
	  if (document.title === "Table of Contents") {
	      document.write("<a href='map.svg'>File dependency graph</a>");
	  } else if (document.title !== "Index") {
              document.write("<a href='" + document.title + ".svg'>" + document.title + " dependency graph</a>");
	  }
	</script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Itauto.html#"><span class="id" title="library">Itauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM.Lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Preamble</span></a> <a class="idref" href="VLSM.Lib.StdppExtras.html#"><span class="id" title="library">StdppExtras</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">ListExtras</span></a> <a class="idref" href="VLSM.Lib.FinSetExtras.html#"><span class="id" title="library">FinSetExtras</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h1 class="section">Utility: Finitely Supported Functions</h1>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

  The support of a function (w.r.t. a specified codomain value) is the type of
  elements of its domain that are not mapped to the specified value.

<div class="paragraph"> </div>

  Note that we require the codomain to have decidable equality, because it
  allows for a straight-forward approach to proving equality of elements
  of the support.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="support" class="idref" href="#support"><span class="id" title="definition">support</span></a> {<a id="A:1" class="idref" href="#A:1"><span class="id" title="binder">A</span></a> <a id="B:2" class="idref" href="#B:2"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="s:3" class="idref" href="#s:3"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#B:2"><span class="id" title="variable">B</span></a>) (<a id="f:4" class="idref" href="#f:4"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#A:1"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#B:2"><span class="id" title="variable">B</span></a>) `{<a id="EqDecision0:5" class="idref" href="#EqDecision0:5"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:5" class="idref" href="#EqDecision0:5"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dsig</span> (<span class="id" title="keyword">fun</span> <a id="a:6" class="idref" href="#a:6"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:4"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:6"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#s:3"><span class="id" title="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
  A function is finitely supported if its <span class="inlinecode"><a class="idref" href="VLSM.Lib.FinSuppFn.html#support"><span class="id" title="definition">support</span></a></span> is <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#Finite"><span class="id" title="constructor">Finite</span></a></span>.
  We define a type to encapsulate functions of finite support.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="fsfun" class="idref" href="#fsfun"><span class="id" title="definition">fsfun</span></a> (<a id="A:7" class="idref" href="#A:7"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) `(<a id="s:9" class="idref" href="#s:9"><span class="id" title="binder">s</span></a> : <a id="B:8" class="idref" href="#B:8"><span class="id" title="binder">B</span></a>) `{<a id="EqDecision0:10" class="idref" href="#EqDecision0:10"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:10" class="idref" href="#EqDecision0:10"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:11" class="idref" href="#EqDecision1:11"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:11" class="idref" href="#EqDecision1:11"><span class="id" title="binder">B</span></a>} : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><a id="f:12" class="idref" href="#f:12"><span class="id" title="binder">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#A:7"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#B:8"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> <span class="id" title="class">Finite</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#support"><span class="id" title="definition">support</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#s:9"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:12"><span class="id" title="variable">f</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fsfun_project" class="idref" href="#fsfun_project"><span class="id" title="definition">fsfun_project</span></a><br/>
&nbsp;&nbsp;{<a id="A:13" class="idref" href="#A:13"><span class="id" title="binder">A</span></a> <a id="B:14" class="idref" href="#B:14"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} {<a id="b:15" class="idref" href="#b:15"><span class="id" title="binder">b</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#B:14"><span class="id" title="variable">B</span></a>} `{<a id="EqDecision0:16" class="idref" href="#EqDecision0:16"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:16" class="idref" href="#EqDecision0:16"><span class="id" title="binder">A</span></a>, <a id="EqDecision1:17" class="idref" href="#EqDecision1:17"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision1:17" class="idref" href="#EqDecision1:17"><span class="id" title="binder">B</span></a>} : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#A:13"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b:15"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#A:13"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#B:14"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">:</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">Funclass</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>] <span class="id" title="var">Arguments</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_fsfun_fixed_domain" class="idref" href="#sec_fsfun_fixed_domain"><span class="id" title="section">sec_fsfun_fixed_domain</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision0:19" class="idref" href="#EqDecision0:19"><span class="id" title="binder">EqDecision</span></a> <a id="A:18" class="idref" href="#A:18"><span class="id" title="binder"><span id="EqDecision0:19" class="id">A</span></span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value" class="idref" href="#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value"><span class="id" title="section">sec_fsfun_fixed_supp_value</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;`{<a id="EqDecision1:21" class="idref" href="#EqDecision1:21"><span class="id" title="binder">EqDecision</span></a> <a id="B:20" class="idref" href="#B:20"><span class="id" title="binder"><span id="EqDecision1:21" class="id">B</span></span></a>}<br/>
&nbsp;&nbsp;{<a id="b:22" class="idref" href="#b:22"><span class="id" title="binder">b</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#B:20"><span class="id" title="variable">B</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fsfun_equiv" class="idref" href="#fsfun_equiv"><span class="id" title="instance">fsfun_equiv</span></a> : <span class="id" title="class">Equiv</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="f:23" class="idref" href="#f:23"><span class="id" title="binder">f</span></a> <a id="g:24" class="idref" href="#g:24"><span class="id" title="binder">g</span></a> =&gt; <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:23"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#g:24"><span class="id" title="variable">g</span></a>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fsfun_equivalence" class="idref" href="#fsfun_equivalence"><span class="id" title="instance">fsfun_equivalence</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <span class="id" title="notation">(≡@{</span><a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a><span class="id" title="notation">})</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">equiv</span>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv"><span class="id" title="instance">fsfun_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">done</span> | ..].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#symmetry"><span class="id" title="definition">symmetry</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.RelationClasses.html#transitivity"><span class="id" title="definition">transitivity</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fsfun_project_proper" class="idref" href="#fsfun_project_proper"><span class="id" title="instance">fsfun_project_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heqv</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqv</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="projT1_proper" class="idref" href="#projT1_proper"><span class="id" title="instance">projT1_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡@{</span><a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a><span class="id" title="notation">})</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project_proper"><span class="id" title="instance">fsfun_project_proper</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fsfun_equiv_unfold" class="idref" href="#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a> (<a id="f:25" class="idref" href="#f:25"><span class="id" title="binder">f</span></a> <a id="g:26" class="idref" href="#g:26"><span class="id" title="binder">g</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#f:25"><span class="id" title="variable">f</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#g:26"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:25"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#g:26"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fsfun_has_fin_supp" class="idref" href="#fsfun_has_fin_supp"><span class="id" title="instance">fsfun_has_fin_supp</span></a><br/>
&nbsp;&nbsp;(<a id="f:27" class="idref" href="#f:27"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) : <span class="id" title="class">Finite</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#support"><span class="id" title="definition">support</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:27"><span class="id" title="variable">f</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <span class="id" title="var">f</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fin_supp" class="idref" href="#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a id="f:28" class="idref" href="#f:28"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<span class="id" title="method">enum</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#support"><span class="id" title="definition">support</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:28"><span class="id" title="variable">f</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_fin_supp" class="idref" href="#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a> (<a id="f:29" class="idref" href="#f:29"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:30" class="idref" href="#a:30"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:30"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:29"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:29"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:30"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_fmap</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">asupp</span> &amp; -&gt; &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">asupp</span> <span class="id" title="var">_a</span> <span class="id" title="var">H_a</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>); <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_elem_of_fin_supp" class="idref" href="#not_elem_of_fin_supp"><span class="id" title="lemma">not_elem_of_fin_supp</span></a> (<a id="f:31" class="idref" href="#f:31"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:32" class="idref" href="#a:32"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:32"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:31"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:32"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>)); <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fin_supp_NoDup" class="idref" href="#fin_supp_NoDup"><span class="id" title="lemma">fin_supp_NoDup</span></a> (<a id="f:33" class="idref" href="#f:33"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) : <span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:33"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#dsig_NoDup_map"><span class="id" title="lemma">dsig_NoDup_map</span></a>, <span class="id" title="method">NoDup_enum</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fin_supp_proper" class="idref" href="#fin_supp_proper"><span class="id" title="instance">fin_supp_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡ₚ)</span>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_Permutation</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_NoDup"><span class="id" title="lemma">fin_supp_NoDup</span></a>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>, <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="fsfun_eq_dec" class="idref" href="#fsfun_eq_dec"><span class="id" title="instance">fsfun_eq_dec</span></a> : <span class="id" title="class">RelDecision</span> <span class="id" title="notation">(≡@{</span><a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a><span class="id" title="notation">})</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="VLSM.Lib.FinSetExtras.html#finset_equiv_dec"><span class="id" title="instance">finset_equiv_dec</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> (<span class="id" title="record">listset</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">list_to_set</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>)) (<span class="id" title="definition">list_to_set</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">g</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heqv</span> | <span class="id" title="var">Hneqv</span>]; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hneqv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="definition">set_Forall</span> (<span class="id" title="keyword">fun</span> <a id="a:34" class="idref" href="#a:34"><span class="id" title="binder"><span id="a:35" class="id">a</span></span></a> =&gt; <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <span class="id" title="var">f</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:34"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_project"><span class="id" title="definition">fsfun_project</span></a> <span class="id" title="var">g</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:34"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">list_to_set</span> (<span class="id" title="var">C</span> := <span class="id" title="record">listset</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">Hall</span> | <span class="id" title="var">Hall</span>]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="var">contradict</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hall</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hf</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span>, <span class="id" title="lemma">elem_of_list_to_set</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">g</span>)) <span class="id" title="keyword">as</span> [| <span class="id" title="var">Hg</span>]; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqv</span>, <span class="id" title="lemma">elem_of_list_to_set</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#not_elem_of_fin_supp"><span class="id" title="lemma">not_elem_of_fin_supp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hf</span>, <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">transitivity</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="empty_fsfun" class="idref" href="#empty_fsfun"><span class="id" title="definition">empty_fsfun</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#const"><span class="id" title="definition">const</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) {| <span class="id" title="method">enum</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Heq</span>; <span class="id" title="var">contradiction</span> <span class="id" title="var">Ha</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="empty_fsfun_supp" class="idref" href="#empty_fsfun_supp"><span class="id" title="lemma">empty_fsfun_supp</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#empty_fsfun"><span class="id" title="definition">empty_fsfun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="empty_fsfun_supp_inv" class="idref" href="#empty_fsfun_supp_inv"><span class="id" title="lemma">empty_fsfun_supp_inv</span></a> (<a id="f:36" class="idref" href="#f:36"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:36"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:36"><span class="id" title="variable">f</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#empty_fsfun"><span class="id" title="definition">empty_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#not_elem_of_fin_supp"><span class="id" title="lemma">not_elem_of_fin_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_nil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_supp" class="idref" href="#update_supp"><span class="id" title="definition">update_supp</span></a> (<a id="f:37" class="idref" href="#f:37"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<a id="n:38" class="idref" href="#n:38"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="b':39" class="idref" href="#b':39"><span class="id" title="binder">b'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.B"><span class="id" title="variable">B</span></a>) : <span class="id" title="record">listset</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#b':39"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:37"><span class="id" title="variable">f</span></a>) <span class="id" title="notation">∖</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Lib.FinSuppFn.html#n:38"><span class="id" title="variable">n</span></a><span class="id" title="notation">]}</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="notation">{[</span><a class="idref" href="VLSM.Lib.FinSuppFn.html#n:38"><span class="id" title="variable">n</span></a><span class="id" title="notation">]}</span> <span class="id" title="notation">∪</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:37"><span class="id" title="variable">f</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_supp_all" class="idref" href="#update_supp_all"><span class="id" title="lemma">update_supp_all</span></a> (<a id="f:40" class="idref" href="#f:40"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<a id="n:41" class="idref" href="#n:41"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="b':42" class="idref" href="#b':42"><span class="id" title="binder">b'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:43" class="idref" href="#a:43"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="VLSM.Lib.Preamble.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:40"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:41"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':42"><span class="id" title="variable">b'</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:43"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_supp"><span class="id" title="definition">update_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:40"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:41"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':42"><span class="id" title="variable">b'</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_supp"><span class="id" title="definition">update_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_difference</span>, <span class="id" title="method">elem_of_singleton</span>, <span class="id" title="lemma">elem_of_list_to_set</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.Preamble.html#update_neq"><span class="id" title="lemma">update_neq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, <span class="id" title="method">elem_of_singleton</span>, <span class="id" title="lemma">elem_of_list_to_set</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.Preamble.html#update"><span class="id" title="definition">update</span></a>; <span class="id" title="var">case_decide</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">intros</span> [].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="update_fsfun" class="idref" href="#update_fsfun"><span class="id" title="definition">update_fsfun</span></a><br/>
&nbsp;&nbsp;(<a id="f:44" class="idref" href="#f:44"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<a id="n:45" class="idref" href="#n:45"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="b':46" class="idref" href="#b':46"><span class="id" title="binder">b'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#update"><span class="id" title="definition">update</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:45"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':46"><span class="id" title="variable">b'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="method">enum</span> := <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate"><span class="id" title="definition">list_annotate</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_supp_all"><span class="id" title="lemma">update_supp_all</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:44"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:45"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':46"><span class="id" title="variable">b'</span></a>) |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate_NoDup"><span class="id" title="lemma">list_annotate_NoDup</span></a>, <span class="id" title="method">NoDup_elements</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_list_annotate"><span class="id" title="lemma">elem_of_list_annotate</span></a>, <span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_supp"><span class="id" title="definition">update_supp</span></a>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_difference</span>, <span class="id" title="lemma">elem_of_list_to_set</span>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">elem_of_singleton</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.Preamble.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, <span class="id" title="lemma">elem_of_list_to_set</span>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">elem_of_singleton</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.Preamble.html#update"><span class="id" title="definition">update</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_fsfun_eq" class="idref" href="#update_fsfun_eq"><span class="id" title="lemma">update_fsfun_eq</span></a> (<a id="f:47" class="idref" href="#f:47"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="b':49" class="idref" href="#b':49"><span class="id" title="binder">b'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun"><span class="id" title="definition">update_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:47"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':49"><span class="id" title="variable">b'</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':49"><span class="id" title="variable">b'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Lib.Preamble.html#update_eq"><span class="id" title="lemma">update_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_fsfun_neq" class="idref" href="#update_fsfun_neq"><span class="id" title="lemma">update_fsfun_neq</span></a> (<a id="f:50" class="idref" href="#f:50"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<a id="n:51" class="idref" href="#n:51"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="b':52" class="idref" href="#b':52"><span class="id" title="binder">b'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.B"><span class="id" title="variable">B</span></a>):<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:53" class="idref" href="#m:53"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:53"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:51"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun"><span class="id" title="definition">update_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:50"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:51"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':52"><span class="id" title="variable">b'</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:53"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:50"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:53"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Lib.Preamble.html#update_neq"><span class="id" title="lemma">update_neq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="update_fsfun_proper" class="idref" href="#update_fsfun_proper"><span class="id" title="instance">update_fsfun_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun"><span class="id" title="definition">update_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heqv</span> <span class="id" title="var">_n</span> <span class="id" title="var">n</span> -&gt; <span class="id" title="var">_b'</span> <span class="id" title="var">b'</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [-&gt; |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_eq"><span class="id" title="lemma">update_fsfun_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_neq"><span class="id" title="lemma">update_fsfun_neq</span></a>, <span class="id" title="var">Heqv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_update_fsfun" class="idref" href="#elem_of_update_fsfun"><span class="id" title="lemma">elem_of_update_fsfun</span></a> (<a id="f:54" class="idref" href="#f:54"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a>) (<a id="n:55" class="idref" href="#n:55"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="b':56" class="idref" href="#b':56"><span class="id" title="binder">b'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:57" class="idref" href="#a:57"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#a:57"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun"><span class="id" title="definition">update_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#b':56"><span class="id" title="variable">b'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#b':56"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:57"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:55"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#b':56"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value.b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.FinSuppFn.html#a:57"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:54"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:57"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:55"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate_forget"><span class="id" title="lemma">list_annotate_forget</span></a>, <span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_supp"><span class="id" title="definition">update_supp</span></a>; <span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_difference</span>, <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="method">elem_of_singleton</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">itauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, <span class="id" title="lemma">elem_of_list_to_set</span>, <span class="id" title="method">elem_of_singleton</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.sec_fsfun_fixed_supp_value"><span class="id" title="section">sec_fsfun_fixed_supp_value</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab25"></a><h2 class="section">Finitely supported functions on naturals</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="zero_fsfun" class="idref" href="#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0 := <a class="idref" href="VLSM.Lib.FinSuppFn.html#empty_fsfun"><span class="id" title="definition">empty_fsfun</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="zero_fsfun_rew" class="idref" href="#zero_fsfun_rew"><span class="id" title="lemma">zero_fsfun_rew</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="n:58" class="idref" href="#n:58"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="succ_fsfun" class="idref" href="#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> (<a id="f:59" class="idref" href="#f:59"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:60" class="idref" href="#n:60"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0 :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun"><span class="id" title="definition">update_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:60"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#f:59"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:60"><span class="id" title="variable">n</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="succ_fsfun_eq" class="idref" href="#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a> (<a id="f:61" class="idref" href="#f:61"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:61"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#f:61"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:62"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_eq"><span class="id" title="lemma">update_fsfun_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="succ_fsfun_neq" class="idref" href="#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a> (<a id="f:63" class="idref" href="#f:63"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:63"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:65"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:63"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:65"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_neq"><span class="id" title="lemma">update_fsfun_neq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="succ_fsfun_proper" class="idref" href="#succ_fsfun_proper"><span class="id" title="instance">succ_fsfun_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heqv</span> <span class="id" title="var">_n</span> <span class="id" title="var">n</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_proper"><span class="id" title="instance">update_fsfun_proper</span></a>; [.. | <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqv</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_succ_fsfun" class="idref" href="#elem_of_succ_fsfun"><span class="id" title="lemma">elem_of_succ_fsfun</span></a> (<a id="f:66" class="idref" href="#f:66"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:68" class="idref" href="#a:68"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#a:68"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:67"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:68"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:67"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:68"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:66"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_update_fsfun"><span class="id" title="lemma">elem_of_update_fsfun</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">itauto</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="succ_fsfun_supp_in" class="idref" href="#succ_fsfun_supp_in"><span class="id" title="lemma">succ_fsfun_supp_in</span></a> (<a id="f:69" class="idref" href="#f:69"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#n:70"><span class="id" title="variable">n</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:69"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:70"><span class="id" title="variable">n</span></a>) <span class="id" title="notation">≡ₚ</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:69"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_Permutation</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_NoDup"><span class="id" title="lemma">fin_supp_NoDup</span></a>.. |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_succ_fsfun"><span class="id" title="lemma">elem_of_succ_fsfun</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="succ_fsfun_supp_not_in" class="idref" href="#succ_fsfun_supp_not_in"><span class="id" title="lemma">succ_fsfun_supp_not_in</span></a> (<a id="f:71" class="idref" href="#f:71"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:72" class="idref" href="#n:72"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#n:72"><span class="id" title="variable">n</span></a> <span class="id" title="notation">∉</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:71"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:71"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:72"><span class="id" title="variable">n</span></a>) <span class="id" title="notation">≡ₚ</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:72"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:71"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate_forget"><span class="id" title="lemma">list_annotate_forget</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_supp"><span class="id" title="definition">update_supp</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">decide_False</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> @<span class="id" title="lemma">elements_union_singleton</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_to_set</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eapply</span> @<span class="id" title="lemma">elements_list_to_set</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_NoDup"><span class="id" title="lemma">fin_supp_NoDup</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="delta_nat_fsfun" class="idref" href="#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a> (<a id="n:73" class="idref" href="#n:73"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0 :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:73"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delta_nat_fsfun_eq" class="idref" href="#delta_nat_fsfun_eq"><span class="id" title="lemma">delta_nat_fsfun_eq</span></a> (<a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="delta_nat_fsfun_neq" class="idref" href="#delta_nat_fsfun_neq"><span class="id" title="lemma">delta_nat_fsfun_neq</span></a> (<a id="n:75" class="idref" href="#n:75"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:76" class="idref" href="#m:76"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:76"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:75"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:75"><span class="id" title="variable">n</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#m:76"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_delta_nat_fsfun" class="idref" href="#elem_of_delta_nat_fsfun"><span class="id" title="lemma">elem_of_delta_nat_fsfun</span></a> (<a id="n:77" class="idref" href="#n:77"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:78" class="idref" href="#a:78"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#a:78"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:77"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:78"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:77"><span class="id" title="variable">n</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#delta_nat_fsfun"><span class="id" title="definition">delta_nat_fsfun</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_succ_fsfun"><span class="id" title="lemma">elem_of_succ_fsfun</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_nil</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">itauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fsfun_sum" class="idref" href="#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a> (<a id="f:79" class="idref" href="#f:79"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">sum_list_with</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:79"><span class="id" title="variable">f</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:79"><span class="id" title="variable">f</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fsfun_sum_proper" class="idref" href="#fsfun_sum_proper"><span class="id" title="lemma">fsfun_sum_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(=)</span>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Lib.StdppExtras.html#sum_list_with_proper"><span class="id" title="instance">sum_list_with_proper</span></a> <span class="id" title="var">f</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>) (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#sum_list_with_ext_forall"><span class="id" title="lemma">sum_list_with_ext_forall</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_proper"><span class="id" title="instance">fin_supp_proper</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fsfun_sum_zero_inv" class="idref" href="#fsfun_sum_zero_inv"><span class="id" title="lemma">fsfun_sum_zero_inv</span></a> (<a id="f:80" class="idref" href="#f:80"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:80"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:80"><span class="id" title="variable">f</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#sum_list_with_zero"><span class="id" title="lemma">sum_list_with_zero</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dec_stable</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Ha'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fsfun_sum_succ" class="idref" href="#fsfun_sum_succ"><span class="id" title="lemma">fsfun_sum_succ</span></a> (<a id="f:81" class="idref" href="#f:81"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="n:82" class="idref" href="#n:82"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:81"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#n:82"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:81"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">n</span> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_supp_in"><span class="id" title="lemma">succ_fsfun_supp_in</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hnodup</span> := <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp_NoDup"><span class="id" title="lemma">fin_supp_NoDup</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">e</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 2 |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">list.NoDup_cons</span>, <span class="id" title="lemma">elem_of_cons</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Ha</span> <span class="id" title="var">Hnodup</span>] [&lt;- | <span class="id" title="var">Hn</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#sum_list_with_ext_forall"><span class="id" title="lemma">sum_list_with_ext_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_supp_not_in"><span class="id" title="lemma">succ_fsfun_supp_not_in</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n0</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#sum_list_with_ext_forall"><span class="id" title="lemma">sum_list_with_ext_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a>; [| <span class="id" title="var">set_solver</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The component-wise sum of two functions 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="add_fsfun_supp" class="idref" href="#add_fsfun_supp"><span class="id" title="definition">add_fsfun_supp</span></a> (<a id="f1:83" class="idref" href="#f1:83"><span class="id" title="binder">f1</span></a> <a id="f2:84" class="idref" href="#f2:84"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) : <span class="id" title="record">listset</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">list_to_set</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:83"><span class="id" title="variable">f1</span></a>) <span class="id" title="notation">∪</span> <span class="id" title="definition">list_to_set</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:84"><span class="id" title="variable">f2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_fsfun_supp_all" class="idref" href="#add_fsfun_supp_all"><span class="id" title="lemma">add_fsfun_supp_all</span></a> (<a id="f1:85" class="idref" href="#f1:85"><span class="id" title="binder">f1</span></a> <a id="f2:86" class="idref" href="#f2:86"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="a:87" class="idref" href="#a:87"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:85"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:87"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:86"><span class="id" title="variable">f2</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:87"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">elements</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_supp"><span class="id" title="definition">add_fsfun_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:85"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:86"><span class="id" title="variable">f2</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_supp"><span class="id" title="definition">add_fsfun_supp</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span>, <span class="id" title="method">elem_of_union</span>, !<span class="id" title="lemma">elem_of_list_to_set</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;!<a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="add_fsfun" class="idref" href="#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> (<a id="f1:88" class="idref" href="#f1:88"><span class="id" title="binder">f1</span></a> <a id="f2:89" class="idref" href="#f2:89"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0 :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<span class="id" title="keyword">fun</span> <a id="a:90" class="idref" href="#a:90"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:88"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:90"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:89"><span class="id" title="variable">f2</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:90"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="method">enum</span> := <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate"><span class="id" title="definition">list_annotate</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_supp_all"><span class="id" title="lemma">add_fsfun_supp_all</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:88"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:89"><span class="id" title="variable">f2</span></a>) |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate_NoDup"><span class="id" title="lemma">list_annotate_NoDup</span></a>, <span class="id" title="method">NoDup_elements</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_list_annotate"><span class="id" title="lemma">elem_of_list_annotate</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_supp"><span class="id" title="definition">add_fsfun_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_elements</span>, !<span class="id" title="method">elem_of_union</span>, !<span class="id" title="lemma">elem_of_list_to_set</span>, !<a class="idref" href="VLSM.Lib.FinSuppFn.html#elem_of_fin_supp"><span class="id" title="lemma">elem_of_fin_supp</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_fsfun_rew" class="idref" href="#add_fsfun_rew"><span class="id" title="lemma">add_fsfun_rew</span></a> (<a id="f1:91" class="idref" href="#f1:91"><span class="id" title="binder">f1</span></a> <a id="f2:92" class="idref" href="#f2:92"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="a:93" class="idref" href="#a:93"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:91"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:92"><span class="id" title="variable">f2</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:93"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:91"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:93"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:92"><span class="id" title="variable">f2</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:93"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="add_fsfun_proper" class="idref" href="#add_fsfun_proper"><span class="id" title="instance">add_fsfun_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="notation">(≡)</span>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f1</span> <span class="id" title="var">g1</span> <span class="id" title="var">Heqv1</span> <span class="id" title="var">f2</span> <span class="id" title="var">g2</span> <span class="id" title="var">Heqv2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_rew"><span class="id" title="lemma">add_fsfun_rew</span></a>, <span class="id" title="var">Heqv1</span>, <span class="id" title="var">Heqv2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="elem_of_add_fsfun" class="idref" href="#elem_of_add_fsfun"><span class="id" title="lemma">elem_of_add_fsfun</span></a> (<a id="f1:94" class="idref" href="#f1:94"><span class="id" title="binder">f1</span></a> <a id="f2:95" class="idref" href="#f2:95"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:96" class="idref" href="#a:96"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#a:96"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:94"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:95"><span class="id" title="variable">f2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#a:96"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:94"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:96"><span class="id" title="variable">a</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:95"><span class="id" title="variable">f2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="tactic">at</span> 1; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.ListExtras.html#list_annotate_forget"><span class="id" title="lemma">list_annotate_forget</span></a>, <span class="id" title="method">elem_of_elements</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_supp"><span class="id" title="definition">add_fsfun_supp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">elem_of_union</span>, !<span class="id" title="lemma">elem_of_list_to_set</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="add_fsfun_comm" class="idref" href="#add_fsfun_comm"><span class="id" title="instance">add_fsfun_comm</span></a> : <span class="id" title="class">Comm</span> <span class="id" title="notation">(≡)</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_rew"><span class="id" title="lemma">add_fsfun_rew</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="add_fsfun_left_id" class="idref" href="#add_fsfun_left_id"><span class="id" title="instance">add_fsfun_left_id</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="class">LeftId</span> <span class="id" title="notation">(≡)</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="add_fsfun_right_id" class="idref" href="#add_fsfun_right_id"><span class="id" title="instance">add_fsfun_right_id</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="class">RightId</span> <span class="id" title="notation">(≡)</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_rew"><span class="id" title="lemma">add_fsfun_rew</span></a>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun_rew"><span class="id" title="lemma">zero_fsfun_rew</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="add_fsfun_assoc" class="idref" href="#add_fsfun_assoc"><span class="id" title="instance">add_fsfun_assoc</span></a> : <span class="id" title="class">Assoc</span> <span class="id" title="notation">(≡)</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_rew"><span class="id" title="lemma">add_fsfun_rew</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_fsfun_succ_l" class="idref" href="#add_fsfun_succ_l"><span class="id" title="lemma">add_fsfun_succ_l</span></a> (<a id="f1:97" class="idref" href="#f1:97"><span class="id" title="binder">f1</span></a> <a id="f2:98" class="idref" href="#f2:98"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:99" class="idref" href="#a:99"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:97"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:99"><span class="id" title="variable">a</span></a>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:98"><span class="id" title="variable">f2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">≡</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:97"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:98"><span class="id" title="variable">f2</span></a>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:99"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_rew"><span class="id" title="lemma">add_fsfun_rew</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [-&gt; |].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_fsfun_succ_r" class="idref" href="#add_fsfun_succ_r"><span class="id" title="lemma">add_fsfun_succ_r</span></a> (<a id="f1:100" class="idref" href="#f1:100"><span class="id" title="binder">f1</span></a> <a id="f2:101" class="idref" href="#f2:101"><span class="id" title="binder">f2</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="a:102" class="idref" href="#a:102"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:101"><span class="id" title="variable">f2</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:100"><span class="id" title="variable">f1</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:102"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">≡</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f2:101"><span class="id" title="variable">f2</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f1:100"><span class="id" title="variable">f1</span></a>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:102"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="definition">comm</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>), <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun_succ_l"><span class="id" title="lemma">add_fsfun_succ_l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">comm</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#add_fsfun"><span class="id" title="definition">add_fsfun</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
  To be able to prove things by induction on finitely supported functions on
  naturals we define the following inductive property and then we show that it
  holds for all such functions.

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="NatFSFun" class="idref" href="#NatFSFun"><span class="id" title="definition, inductive"><span id="NatFSFun_ind" class="id"><span id="NatFSFun_sind" class="id">NatFSFun</span></span></span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="P_zero" class="idref" href="#P_zero"><span class="id" title="constructor">P_zero</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f':105" class="idref" href="#f':105"><span class="id" title="binder">f'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0<span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f':105"><span class="id" title="variable">f'</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#NatFSFun:103"><span class="id" title="inductive">NatFSFun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f':105"><span class="id" title="variable">f'</span></a><br/>
| <a id="P_succ" class="idref" href="#P_succ"><span class="id" title="constructor">P_succ</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:106" class="idref" href="#f:106"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0<span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#NatFSFun:103"><span class="id" title="inductive">NatFSFun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f':107" class="idref" href="#f':107"><span class="id" title="binder">f'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) (<a id="i:108" class="idref" href="#i:108"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f':107"><span class="id" title="variable">f'</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:106"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#i:108"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#NatFSFun:103"><span class="id" title="inductive">NatFSFun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f':107"><span class="id" title="variable">f'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NatFSFun_complete" class="idref" href="#NatFSFun_complete"><span class="id" title="lemma">NatFSFun_complete</span></a> (<a id="f:109" class="idref" href="#f:109"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :  <a class="idref" href="VLSM.Lib.FinSuppFn.html#NatFSFun"><span class="id" title="inductive">NatFSFun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:109"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">f</span> <span class="id" title="var">Heqn</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum_zero_inv"><span class="id" title="lemma">fsfun_sum_zero_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqn</span>; <span class="id" title="tactic">constructor</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hex</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<span class="id" title="keyword">fun</span> (<a id="i:110" class="idref" href="#i:110"><span class="id" title="binder"><span id="i:111" class="id">i</span></span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) =&gt; <span class="id" title="var">f</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#i:110"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> 0) (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fin_supp"><span class="id" title="definition">fin_supp</span></a> <span class="id" title="var">f</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dec_stable</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hex</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_Exists_Forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>; [| <span class="id" title="tactic">by</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum"><span class="id" title="definition">fsfun_sum</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">in</span> <span class="id" title="var">Heqn</span>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppExtras.html#sum_list_with_zero"><span class="id" title="lemma">sum_list_with_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hex</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hex</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hx</span> := <a class="idref" href="VLSM.Lib.ListExtras.html#Exists_choose_first_good"><span class="id" title="lemma">Exists_choose_first_good</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hex</span>); <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">x</span> := <a class="idref" href="VLSM.Lib.ListExtras.html#Exists_choose_first"><span class="id" title="definition">Exists_choose_first</span></a> <span class="id" title="var">Hex</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [| <span class="id" title="var">px</span>] <span class="id" title="var">eqn</span>: <span class="id" title="var">Heqx</span>; [<span class="id" title="var">done</span> |]; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">f'</span> := <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun"><span class="id" title="definition">update_fsfun</span></a> <span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">px</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <span class="id" title="var">f</span> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">f'</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_equiv_unfold"><span class="id" title="lemma">fsfun_equiv_unfold</span></a>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">as</span> [-&gt; |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_eq"><span class="id" title="lemma">succ_fsfun_eq</span></a>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_eq"><span class="id" title="lemma">update_fsfun_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun_neq"><span class="id" title="lemma">succ_fsfun_neq</span></a>, <a class="idref" href="VLSM.Lib.FinSuppFn.html#update_fsfun_neq"><span class="id" title="lemma">update_fsfun_neq</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">f'</span> <span class="id" title="var">x</span>; [| <span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">f'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum_proper"><span class="id" title="lemma">fsfun_sum_proper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqn</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun_sum_succ"><span class="id" title="lemma">fsfun_sum_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_fsfun_inv" class="idref" href="#nat_fsfun_inv"><span class="id" title="lemma">nat_fsfun_inv</span></a> (<a id="f:112" class="idref" href="#f:112"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0) :<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#f:112"><span class="id" title="variable">f</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="f':114" class="idref" href="#f':114"><span class="id" title="binder">f'</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:112"><span class="id" title="variable">f</span></a> <span class="id" title="notation">≡</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f':114"><span class="id" title="variable">f'</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#a:113"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hcomplete</span> := <a class="idref" href="VLSM.Lib.FinSuppFn.html#NatFSFun_complete"><span class="id" title="lemma">NatFSFun_complete</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hcomplete</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>,<span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nat_fsfun_ind" class="idref" href="#nat_fsfun_ind"><span class="id" title="lemma">nat_fsfun_ind</span></a> (<a id="P:115" class="idref" href="#P:115"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hproper:116" class="idref" href="#Hproper:116"><span class="id" title="binder">Hproper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="notation">(≡)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) <a class="idref" href="VLSM.Lib.FinSuppFn.html#P:115"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hzero:117" class="idref" href="#Hzero:117"><span class="id" title="binder">Hzero</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#P:115"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#zero_fsfun"><span class="id" title="definition">zero_fsfun</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsucc:120" class="idref" href="#Hsucc:120"><span class="id" title="binder">Hsucc</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="i:118" class="idref" href="#i:118"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a>) (<a id="f:119" class="idref" href="#f:119"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.FinSuppFn.html#P:115"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:119"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.18.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#P:115"><span class="id" title="variable">P</span></a> (<a class="idref" href="VLSM.Lib.FinSuppFn.html#succ_fsfun"><span class="id" title="definition">succ_fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:119"><span class="id" title="variable">f</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#i:118"><span class="id" title="variable">i</span></a>)) :<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:121" class="idref" href="#f:121"><span class="id" title="binder">f</span></a> : <a class="idref" href="VLSM.Lib.FinSuppFn.html#fsfun"><span class="id" title="definition">fsfun</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain.A"><span class="id" title="variable">A</span></a> 0<span class="id" title="notation">),</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#P:115"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Lib.FinSuppFn.html#f:121"><span class="id" title="variable">f</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hcomplete</span> := <a class="idref" href="VLSM.Lib.FinSuppFn.html#NatFSFun_complete"><span class="id" title="lemma">NatFSFun_complete</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">Hcomplete</span> <span class="id" title="keyword">as</span> [| ? ? ? ? ? -&gt;];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hproper</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsucc</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Lib.FinSuppFn.html#sec_fsfun_fixed_domain"><span class="id" title="section">sec_fsfun_fixed_domain</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
