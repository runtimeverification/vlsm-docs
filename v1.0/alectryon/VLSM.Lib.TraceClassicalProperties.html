<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>TraceClassicalProperties.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Classical ClassicalEpsilon.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Lib.SsrExport Lib.Traces Lib.TraceProperties.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Set Implicit Arguments</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Unset Strict Implicit</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Import</span> <span class="kn">Prenex Implicits</span>.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Properties of possibly-infinite traces requiring classical logic</h1>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">TraceClassicalProperties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span> <span class="nv">B</span> : <span class="kt">Type</span>}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">trace</span> := (@trace A B).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">propT</span> := (@propT A B).</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Relating finiteness and infiniteness</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk0"><span class="kn">Lemma</span> <span class="nf">not_infiniteT_finiteT</span> : <span class="kr">forall</span> <span class="nv">tr</span> : trace,
 ~ infiniteT tr -&gt; finiteT tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">tr</span> : trace, ~ infiniteT tr -&gt; finiteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">tr</span> : trace, ~ infiniteT tr -&gt; finiteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2"><span class="nb">move</span> =&gt; tr Hnot.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>Hnot</var><span class="hyp-type"><b>: </b><span>~ infiniteT tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finiteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk3"><span class="nb">case</span> (classic (finiteT tr)) =&gt; Hinf //.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>Hnot</var><span class="hyp-type"><b>: </b><span>~ infiniteT tr</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>~ finiteT tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finiteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk4"><span class="nb">case</span>: Hnot.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>~ finiteT tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infiniteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span>: not_finiteT_infiniteT.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk5"><span class="kn">Lemma</span> <span class="nf">finiteT_infiniteT</span> : <span class="kr">forall</span> <span class="nv">tr</span> : trace,
 finiteT tr \/ infiniteT tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">tr</span> : trace, finiteT tr \/ infiniteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">tr</span> : trace, finiteT tr \/ infiniteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk7"><span class="nb">move</span> =&gt; tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finiteT tr \/ infiniteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk8"><span class="nb">case</span> (classic (finiteT tr)) =&gt; Hinf; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>~ finiteT tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finiteT tr \/ infiniteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk9"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>~ finiteT tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infiniteT tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span>: not_finiteT_infiniteT.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">finiteT_infiniteT_dec</span> (<span class="nv">tr</span> : trace) : { finiteT tr }+{ infiniteT tr } :=
<span class="kr">match</span> excluded_middle_informative (finiteT tr) <span class="kr">with</span>
| <span class="nb">left</span> Hfin =&gt; <span class="nb">left</span> Hfin
| <span class="nb">right</span> Hfin =&gt; <span class="nb">right</span> (not_finiteT_infiniteT Hfin)
<span class="kr">end</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">Using midpoints to show the right associativity of the append property</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">CoFixpoint</span> <span class="nf">midp</span> (<span class="nv">p0</span> <span class="nv">p1</span>: trace -&gt; <span class="kt">Prop</span>) <span class="nv">tr0</span> <span class="nv">tr1</span> (<span class="nv">h</span>: followsT (appendT p0 p1) tr0 tr1) : trace :=
<span class="kr">match</span> followsT_dec h <span class="kr">with</span>
| inl (existT tr (exist a (conj _ (conj _ H)))) =&gt;
  <span class="kr">let</span>: exist x _ := constructive_indefinite_description _ H <span class="kr">in</span> x
| inr (existT tr (existT tr&#39; (existT a (exist b (conj _ (conj _ H)))))) =&gt;
  Tcons a b (@midp _ _ _ _ H)
<span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chka"><span class="kn">Lemma</span> <span class="nf">midpointT_midp</span> : <span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span>: trace -&gt; <span class="kt">Prop</span>) <span class="nv">tr0</span> <span class="nv">tr1</span> (<span class="nv">h</span> : followsT (appendT p0 p1) tr0 tr1),
 midpointT h (midp h).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
  (<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1),
midpointT h (midp h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chkb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
  (<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1),
midpointT h (midp h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chkc"><span class="kr">cofix</span> CIH.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
  (<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1),
midpointT h (midp h)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chkd"><span class="nb">dependent inversion</span> h; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tnil (hd tr1)) tr1</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>(p0 *+* p1) tr1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_nil eq_refl a0)
  (midp (followsT_nil eq_refl a0))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chke"><hr></label><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chkf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tnil (hd tr1)) tr1</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>(p0 *+* p1) tr1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_nil eq_refl a0)
  (midp (followsT_nil eq_refl a0))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk10" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk10"><hr></label><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk11"><span class="nb">rewrite</span> [midp _]trace_destr /=.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tnil (hd tr1)) tr1</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>(p0 *+* p1) tr1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_nil eq_refl a0)
  <span class="kr">match</span>
    (<span class="kr">let</span>
     &#39;@exist _ _ x _ :=
      constructive_indefinite_description
        (<span class="kr">fun</span> <span class="nv">tr&#39;</span> : trace =&gt;
         p0 tr&#39; /\ followsT p1 tr&#39; tr1) a0 <span class="kr">in</span> x)
  <span class="kr">with</span>
  | Tnil a =&gt; Tnil a
  | Tcons a b tr&#39; =&gt; Tcons a b tr&#39;
  <span class="kr">end</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk12" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk12"><hr></label><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk13"><span class="nb">case</span> (constructive_indefinite_description _ _) =&gt; /=.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tnil (hd tr1)) tr1</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>(p0 *+* p1) tr1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : trace,
p0 x /\ followsT p1 x tr1 -&gt;
midpointT (followsT_nil eq_refl a0)
  <span class="kr">match</span> x <span class="kr">with</span>
  | Tnil a0 =&gt; Tnil a0
  | Tcons a0 b tr&#39; =&gt; Tcons a0 b tr&#39;
  <span class="kr">end</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk14"><hr></label><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk15"><span class="nb">move</span> =&gt; x [a1 hm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tnil (hd tr1)) tr1</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>(p0 *+* p1) tr1</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>a1</var><span class="hyp-type"><b>: </b><span>p0 x</span></span></span><br><span><var>hm</var><span class="hyp-type"><b>: </b><span>followsT p1 x tr1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_nil eq_refl a0)
  <span class="kr">match</span> x <span class="kr">with</span>
  | Tnil a =&gt; Tnil a
  | Tcons a b tr&#39; =&gt; Tcons a b tr&#39;
  <span class="kr">end</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk16"><hr></label><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk17"><span class="bp">by</span> <span class="nb">apply</span> midpointT_nil =&gt; //; <span class="nb">destruct</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk18">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_delay a b f)
  (midp (followsT_delay a b f))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk19"><span class="nb">rewrite</span> [midp _]trace_destr /=.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>CIH</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">p0</span> <span class="nv">p1</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr0</span> <span class="nv">tr1</span> : trace)
(<span class="nv">h</span> : followsT (p0 *+* p1) tr0 tr1), midpointT h (midp h)</span></span></span><br><span><var>p0, p1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>tr, tr'</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) (Tcons a b tr)
  (Tcons a b tr&#39;)</span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>followsT (p0 *+* p1) tr tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">midpointT (followsT_delay a b f) (Tcons a b (midp f))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span>: (@midpointT_delay _ _ p0 p1 (Tcons a b tr) (Tcons a b tr&#39;) (followsT_delay a b f) tr tr&#39; f a b (midp f)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1a"><span class="kn">Lemma</span> <span class="nf">appendT_assoc_R</span>: <span class="kr">forall</span> <span class="nv">p1</span> <span class="nv">p2</span> <span class="nv">p3</span>,
 <span class="kr">forall</span> <span class="nv">tr</span> : trace, (appendT p1 (appendT p2 p3)) tr -&gt; (appendT (appendT p1 p2)  p3) tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">p1</span> <span class="nv">p2</span> <span class="nv">p3</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr</span> : trace),
(p1 *+* p2 *+* p3) tr -&gt; ((p1 *+* p2) *+* p3) tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">p1</span> <span class="nv">p2</span> <span class="nv">p3</span> : trace -&gt; <span class="kt">Prop</span>) (<span class="nv">tr</span> : trace),
(p1 *+* p2 *+* p3) tr -&gt; ((p1 *+* p2) *+* p3) tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1c"><span class="nb">move</span> =&gt; p1 p2 p3 tr0 h1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>(p1 *+* p2 *+* p3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((p1 *+* p2) *+* p3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1d"><span class="nb">move</span>: h1 =&gt; [tr1 [h1 h2]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((p1 *+* p2) *+* p3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1e"><span class="kr">exists</span> (<span class="nv">midp</span> <span class="nv">h2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p1 *+* p2) (midp h2) /\ followsT p3 (midp h2) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk1f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p1 *+* p2) (midp h2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk20"><hr></label><div class="goal-conclusion">followsT p3 (midp h2) tr0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk21">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p1 *+* p2) (midp h2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk22"><hr></label><div class="goal-conclusion">followsT p3 (midp h2) tr0</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk23"><span class="kr">exists</span> <span class="nv">tr1</span>; <span class="nb">split</span> =&gt; //.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">followsT p2 tr1 (midp h2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TraceClassicalProperties-v-chk24" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><label class="goal-separator" for="TraceClassicalProperties-v-chk24"><hr></label><div class="goal-conclusion">followsT p3 (midp h2) tr0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk25"><span class="bp">exact</span>: (midpointT_before (midpointT_midp h2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">followsT p3 (midp h2) tr0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>tr0, tr1</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>p1 tr1</span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>followsT (p2 *+* p3) tr1 tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">followsT p3 (midp h2) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span>: (midpointT_after (midpointT_midp h2)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk27"><span class="kn">Lemma</span> <span class="nf">AppendT_assoc_R</span>: <span class="kr">forall</span> (<span class="nv">p1</span> <span class="nv">p2</span> <span class="nv">p3</span> : propT), (p1 *** p2 *** p3) =&gt;&gt; (p1 *** p2) *** p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">p1</span> <span class="nv">p2</span> <span class="nv">p3</span> : propT,
(p1 *** p2 *** p3) =&gt;&gt; (p1 *** p2) *** p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk28"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">p1</span> <span class="nv">p2</span> <span class="nv">p3</span> : propT,
(p1 *** p2 *** p3) =&gt;&gt; (p1 *** p2) *** p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk29"><span class="nb">move</span> =&gt; p1 p2 p3 tr0 h1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p1, p2, p3</var><span class="hyp-type"><b>: </b><span>propT</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>satisfyT (p1 *** p2 *** p3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfyT ((p1 *** p2) *** p3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2a"><span class="nb">destruct</span> p1 <span class="kr">as</span> [f1 hf1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf1</var><span class="hyp-type"><b>: </b><span>setoidT f1</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>propT</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>satisfyT
  (exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1
     hf1 *** p2 *** p3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfyT
  ((exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1 hf1 ***
    p2) *** p3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2b"><span class="nb">destruct</span> p2 <span class="kr">as</span> [f2 hf2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf1</var><span class="hyp-type"><b>: </b><span>setoidT f1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf2</var><span class="hyp-type"><b>: </b><span>setoidT f2</span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>propT</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>satisfyT
  (exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1
     hf1 ***
   exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f2
     hf2 *** p3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfyT
  ((exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1 hf1 ***
    exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f2 hf2) ***
   p3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2c"><span class="nb">destruct</span> p3 <span class="kr">as</span> [f3 hf3].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf1</var><span class="hyp-type"><b>: </b><span>setoidT f1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf2</var><span class="hyp-type"><b>: </b><span>setoidT f2</span></span></span><br><span><var>f3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf3</var><span class="hyp-type"><b>: </b><span>setoidT f3</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>satisfyT
  (exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1
     hf1 ***
   exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f2
     hf2 ***
   exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f3
     hf3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">satisfyT
  ((exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1 hf1 ***
    exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f2 hf2) ***
   exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f3 hf3)
  tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf1</var><span class="hyp-type"><b>: </b><span>setoidT f1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf2</var><span class="hyp-type"><b>: </b><span>setoidT f2</span></span></span><br><span><var>f3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf3</var><span class="hyp-type"><b>: </b><span>setoidT f3</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>satisfyT
  (exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f1
     hf1 ***
   exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f2
     hf2 ***
   exist (<span class="kr">fun</span> <span class="nv">p</span> : trace -&gt; <span class="kt">Prop</span> =&gt; setoidT p) f3
     hf3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((f1 *+* f2) *+* f3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2e"><span class="nb">simpl</span> <span class="kr">in</span> h1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf1</var><span class="hyp-type"><b>: </b><span>setoidT f1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf2</var><span class="hyp-type"><b>: </b><span>setoidT f2</span></span></span><br><span><var>f3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf3</var><span class="hyp-type"><b>: </b><span>setoidT f3</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>(f1 *+* f2 *+* f3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((f1 *+* f2) *+* f3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TraceClassicalProperties-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="TraceClassicalProperties-v-chk2f"><span class="nb">apply</span> appendT_assoc_R.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A, B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f1</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf1</var><span class="hyp-type"><b>: </b><span>setoidT f1</span></span></span><br><span><var>f2</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf2</var><span class="hyp-type"><b>: </b><span>setoidT f2</span></span></span><br><span><var>f3</var><span class="hyp-type"><b>: </b><span>trace -&gt; <span class="kt">Prop</span></span></span></span><br><span><var>hf3</var><span class="hyp-type"><b>: </b><span>setoidT f3</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>trace</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>(f1 *+* f2 *+* f3) tr0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(f1 *+* f2 *+* f3) tr0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> h1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">TraceClassicalProperties</span>.</span></span></pre></article></body></html>