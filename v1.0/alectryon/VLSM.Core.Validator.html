<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Validator.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FinFun.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Lib.Preamble Core.VLSM Core.VLSMProjections Core.Composition Core.ProjectionTraces.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">VLSM Projection Validators</h1>
<div class="paragraph"> </div>

In the sequel we fix a composite VLSM <code>X</code> obtained from an indexed family
of VLSMs <code>IM</code> and a <code>constraint</code>, and an index <code>i</code>, corresponding to
component <code>IM i</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_validator</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    {<span class="nv">index</span> : <span class="kt">Type</span>}
    {<span class="nv">IndEqDec</span> : EqDecision index}
    (<span class="nv">IM</span> : index -&gt; VLSM message)
    (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
    (<span class="nv">X</span> := composite_vlsm IM constraint)
    (<span class="nv">i</span> : index)
    (<span class="nv">Xi</span> := composite_vlsm_constrained_projection IM constraint i)
    .</span></span></pre><div class="doc">
We say that the component <code>i</code> of X is a validator for received messages if
non-<span class="inlinecode"><span class="id" title="var">projection_valid</span></span>itiy implied non-component-<span class="inlinecode"><span class="id" title="var">valid</span></span>ity (or non-reachability).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_validator_received_messages_prop</span>
    :=
    <span class="kr">forall</span> (<span class="nv">li</span> : vlabel (IM i)) (<span class="nv">si</span> : vstate (IM i)) (<span class="nv">mi</span> : message),
        ~ vvalid Xi li (si, Some mi)
        -&gt; ~ input_valid (pre_loaded_with_all_messages_vlsm (IM i)) li (si, Some mi).</span></span></pre><div class="doc">
We can slightly generalize the definition above to also include empty messages
and state it in a positive manner as the <span class="inlinecode"><span class="id" title="var">projection_validator_prop</span></span>erty below,
requiring that <span class="inlinecode"><span class="id" title="var">valid</span></span>ity in the component (for reachable states) implies
<span class="inlinecode"><span class="id" title="var">projection_valid</span></span>ity.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_validator_prop</span> :=
    <span class="kr">forall</span> (<span class="nv">li</span> : vlabel (IM i)) (<span class="nv">siomi</span> : vstate (IM i) * option message),
        input_valid (pre_loaded_with_all_messages_vlsm (IM i)) li siomi -&gt;
        vvalid Xi li siomi.</span></span></pre><div class="doc">
An alternative formulation of the above property with a seemingly
stronger hypothesis, states that component (IM i) is a validator for the composition constraint
if for any <code>si</code> a valid state in the projection <code>Xi</code>, <code>li valid (IM i) (si, om)</code>
implies  that there exists a state <code>s</code> whose ith  component is <code>si</code>,
and <code>s</code> and <code>om</code> are valid in <code>X</code>, and <code>(i,li) valid (s,om)</code> in <code>X</code>, that is,
we have that <code>li valid (si, om)</code> in the projection <code>Xi</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_validator_prop_alt</span> :=
    <span class="kr">forall</span> (<span class="nv">li</span> : vlabel (IM i)) (<span class="nv">siom</span> : vstate (IM i) * option message),
        <span class="kr">let</span> (<span class="nv">si</span>, om) := siom <span class="kr">in</span>
        vvalid (IM i) li siom -&gt;
        valid_state_prop Xi si -&gt;
        vvalid Xi li siom.</span></span></pre><div class="doc">
Under validator assumptions, all reachable states for component <code>IM i</code> are
valid states in the projection <code>Xi</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk0"><span class="kn">Lemma</span> <span class="nf">validator_alt_free_states_are_projection_states</span>
    : projection_validator_prop_alt -&gt;
    <span class="kr">forall</span> <span class="nv">s</span>,
        valid_state_prop (pre_loaded_with_all_messages_vlsm (IM i)) s -&gt;
        valid_state_prop Xi s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
    valid_state_prop
      (pre_loaded_with_all_messages_vlsm (IM i)) s
    ‚Üí valid_state_prop Xi s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
    valid_state_prop
      (pre_loaded_with_all_messages_vlsm (IM i)) s
    ‚Üí valid_state_prop Xi s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2"><span class="nb">intros</span> Hvalidator s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM i)) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xi s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk3"><span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind;
    [<span class="nb">apply</span> initial_state_is_valid;<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i)) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xi s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4"><span class="nb">change</span> s&#39; <span class="kr">with</span> (fst (s&#39;,om&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i)) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xi (s&#39;, om&#39;).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5"><span class="nb">destruct</span> Ht <span class="kr">as</span> [[_ [_ Hvalid]] Htrans].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xi (s&#39;, om&#39;).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk6"><span class="nb">apply</span> (projection_valid_implies_destination_projection_valid_state IM constraint i) <span class="kr">with</span> l s om om&#39;
    ; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (composite_vlsm_constrained_projection IM constraint
     i) l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hvalidator l (s,om));<span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Below we show that the two definitions above are actually equivalent.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk7"><span class="kn">Lemma</span> <span class="nf">projection_validator_prop_alt_iff</span>
    : projection_validator_prop_alt &lt;-&gt; projection_validator_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üî projection_validator_prop</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üî projection_validator_prop</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk9"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üí projection_validator_prop</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Validator-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="Validator-v-chka"><hr></label><div class="goal-conclusion">projection_validator_prop
‚Üí projection_validator_prop_alt</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üí projection_validator_prop</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chkc"><span class="nb">intros</span> Hvalidator l (si, om) Hvalid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  l (si, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi l (si, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chkd"><span class="nb">destruct</span> Hvalid <span class="kr">as</span> [Hsi [_ Hvalid]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM i)) si</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (si, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi l (si, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chke"><span class="nb">apply</span> validator_alt_free_states_are_projection_states <span class="kr">in</span> Hsi
      ; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop_alt</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi si</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (si, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi l (si, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Hvalidator l (si,om) Hvalid Hsi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chkf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop
‚Üí projection_validator_prop_alt</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk10"><span class="nb">intros</span> Hvalidator l (si, om) Hvalid HXisi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) l (si, om)</span></span></span><br><span><var>HXisi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi l (si, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk11"><span class="nb">specialize</span> (Hvalidator l (si, om)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM i)) l (si, om)
‚Üí vvalid Xi l (si, om)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) l (si, om)</span></span></span><br><span><var>HXisi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi l (si, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk12"><span class="nb">apply</span> Hvalidator.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM i)) l (si, om)
‚Üí vvalid Xi l (si, om)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) l (si, om)</span></span></span><br><span><var>HXisi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid (pre_loaded_with_all_messages_vlsm (IM i))
  l (si, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk13"><span class="kp">repeat</span> <span class="nb">split</span>; [| <span class="nb">apply</span> any_message_is_valid_in_preloaded | <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM i)) l (si, om)
‚Üí vvalid Xi l (si, om)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) l (si, om)</span></span></span><br><span><var>HXisi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xi si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM i)) si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk14"><span class="nb">revert</span> HXisi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM i)) l (si, om)
‚Üí vvalid Xi l (si, om)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) l (si, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xi si
‚Üí valid_state_prop
    (pre_loaded_with_all_messages_vlsm (IM i)) si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk15"><span class="nb">apply</span> VLSM_incl_valid_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm
     (IM i)) l (si, om)
‚Üí vvalid Xi l (si, om)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) l (si, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (composite_vlsm_constrained_projection_machine IM
     constraint i)
  (pre_loaded_with_all_messages_vlsm_machine (IM i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> proj_pre_loaded_with_all_messages_incl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk16"><span class="kn">Lemma</span> <span class="nf">validator_free_states_are_projection_states</span>
    : projection_validator_prop -&gt;
    <span class="kr">forall</span> <span class="nv">s</span>,
        valid_state_prop (pre_loaded_with_all_messages_vlsm (IM i)) s -&gt;
        valid_state_prop Xi s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop
‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
    valid_state_prop
      (pre_loaded_with_all_messages_vlsm (IM i)) s
    ‚Üí valid_state_prop Xi s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop
‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
    valid_state_prop
      (pre_loaded_with_all_messages_vlsm (IM i)) s
    ‚Üí valid_state_prop Xi s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk18"><span class="nb">rewrite</span> &lt;- projection_validator_prop_alt_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop_alt
‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
    valid_state_prop
      (pre_loaded_with_all_messages_vlsm (IM i)) s
    ‚Üí valid_state_prop Xi s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> validator_alt_free_states_are_projection_states.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
It is easy to see that the <span class="inlinecode"><span class="id" title="var">projection_validator_prop</span></span>erty includes the
<span class="inlinecode"><span class="id" title="var">projection_validator_received_messages_prop</span></span>erty.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk19"><span class="kn">Lemma</span> <span class="nf">projection_validator_messages_received</span>
    : projection_validator_prop -&gt; projection_validator_received_messages_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop
‚Üí projection_validator_received_messages_prop</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop
‚Üí projection_validator_received_messages_prop</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1b"><span class="nb">unfold</span> projection_validator_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) (<span class="nv">siomi</span> : vstate (IM i) *
                                 option message),
   input_valid
     (pre_loaded_with_all_messages_vlsm (IM i)) li
     siomi ‚Üí vvalid Xi li siomi)
‚Üí projection_validator_received_messages_prop</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1c"><span class="nb">unfold</span> projection_validator_received_messages_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) (<span class="nv">siomi</span> : vstate (IM i) *
                                 option message),
   input_valid
     (pre_loaded_with_all_messages_vlsm (IM i)) li
     siomi ‚Üí vvalid Xi li siomi)
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) (<span class="nv">si</span> : vstate (IM i)) (<span class="nv">mi</span> : message),
    ¬¨ vvalid Xi li (si, Some mi)
    ‚Üí ¬¨ input_valid
          (pre_loaded_with_all_messages_vlsm (IM i))
          li (si, Some mi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1d"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) 
  (<span class="nv">siomi</span> : vstate (IM i) * option message),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    siomi ‚Üí vvalid Xi li siomi</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>mi</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ vvalid Xi li (si, Some mi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    (si, Some mi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1e"><span class="nb">intro</span> Hvalid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) 
  (<span class="nv">siomi</span> : vstate (IM i) * option message),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    siomi ‚Üí vvalid Xi li siomi</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>mi</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ vvalid Xi li (si, Some mi)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (si, Some mi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk1f"><span class="nb">elim</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) 
  (<span class="nv">siomi</span> : vstate (IM i) * option message),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    siomi ‚Üí vvalid Xi li siomi</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>mi</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ vvalid Xi li (si, Some mi)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (si, Some mi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, Some mi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk20"><span class="nb">clear</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">li</span> : vlabel (IM i)) 
  (<span class="nv">siomi</span> : vstate (IM i) * option message),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    siomi ‚Üí vvalid Xi li siomi</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>mi</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (si, Some mi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, Some mi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk21"><span class="nb">specialize</span> (H li (si, Some mi) Hvalid).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>mi</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid Xi li (si, Some mi)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (si, Some mi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, Some mi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
We say that component <code>i</code> is a <span class="inlinecode"><span class="id" title="var">transition_validator</span></span> if any <span class="inlinecode"><span class="id" title="var">valid</span></span>
transition (from a reachable state) in component <code>i</code> can be "lifted" to
an <span class="inlinecode"><span class="id" title="var">input_valid_transition</span></span> in <code>X</code>.

<div class="paragraph"> </div>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">transition_validator</span> :=
    <span class="kr">forall</span>
        (<span class="nv">si</span> : vstate (IM i))
        (<span class="nv">omi</span> : option message)
        (<span class="nv">li</span> : vlabel (IM i))
        ,
        input_valid (pre_loaded_with_all_messages_vlsm (IM i)) li (si, omi)
        -&gt;
        (<span class="kr">exists</span>
            (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X)
            (<span class="nv">om&#39;</span> : option message),
            si = s i
            /\
            input_valid_transition X (existT i li) (s, omi) (s&#39;, om&#39;)
        ).</span></span></pre><div class="doc">
Next two results show that the (simpler) <span class="inlinecode"><span class="id" title="var">projection_validator_prop</span></span>erty
is equivalent with the <span class="inlinecode"><span class="id" title="var">transition_validator</span></span> property.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk22"><span class="kn">Lemma</span> <span class="nf">projection_validator_messages_transitions</span>
    : projection_validator_prop -&gt; transition_validator.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop ‚Üí transition_validator</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk23"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_validator_prop ‚Üí transition_validator</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk24"><span class="nb">intros</span> Hvalidator si omi li Hpvi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hpvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i)) li
  (si, omi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : option message),
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk25"><span class="nb">specialize</span> (Hvalidator li (si, omi) Hpvi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>vvalid Xi li (si, omi)</span></span></span><br><span><var>Hpvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i)) li
  (si, omi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : option message),
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk26"><span class="nb">clear</span> Hpvi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>vvalid Xi li (si, omi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : option message),
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk27"><span class="nb">destruct</span> Hvalidator <span class="kr">as</span> [s [Hsi [Hps [Hopm [Hvalid Hctr]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  s</span></span></span><br><span><var>Hopm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) omi</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (s, omi)</span></span></span><br><span><var>Hctr</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (s, omi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : option message),
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk28"><span class="nb">destruct</span> (vtransition X (existT i li) (s, omi)) <span class="kr">as</span> (s&#39;, om&#39;) <span class="nb">eqn</span>:Heqt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  s</span></span></span><br><span><var>Hopm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) omi</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (s, omi)</span></span></span><br><span><var>Hctr</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (s, omi)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqt</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : option message),
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk29"><span class="kr">exists</span> <span class="nv">s</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  s</span></span></span><br><span><var>Hopm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) omi</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (s, omi)</span></span></span><br><span><var>Hctr</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (s, omi)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqt</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : option message),
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2a"><span class="kr">exists</span> <span class="nv">s&#39;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  s</span></span></span><br><span><var>Hopm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) omi</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (s, omi)</span></span></span><br><span><var>Hctr</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (s, omi)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqt</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">om&#39;</span> : option message,
  si = s i
  ‚àß input_valid_transition X (existT i li) (s, omi)
      (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2b"><span class="kr">exists</span> <span class="nv">om&#39;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  s</span></span></span><br><span><var>Hopm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) omi</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (s, omi)</span></span></span><br><span><var>Hctr</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (s, omi)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqt</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si = s i
‚àß input_valid_transition X (existT i li) (s, omi)
    (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2c"><span class="nb">subst</span> si.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  s</span></span></span><br><span><var>Hopm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) omi</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (s, omi)</span></span></span><br><span><var>Hctr</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (s, omi)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqt</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s i = s i
‚àß input_valid_transition X (existT i li) (s, omi)
    (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2d"><span class="kn">Lemma</span> <span class="nf">transition_validator_messages</span>
    : transition_validator -&gt; projection_validator_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_validator ‚Üí projection_validator_prop</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition_validator ‚Üí projection_validator_prop</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk2f"><span class="nb">intros</span> Hvalidator li (si,omi) Hpvi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>transition_validator</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hpvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i)) li
  (si, omi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, omi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk30"><span class="nb">specialize</span> (Hvalidator si omi li Hpvi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : 
                     option message),
  si = s i
  ‚àß input_valid_transition X
      (existT i li) (s, omi) 
      (s&#39;, om&#39;)</span></span></span><br><span><var>Hpvi</var><span class="hyp-type"><b>: </b><span>input_valid
  (pre_loaded_with_all_messages_vlsm (IM i)) li
  (si, omi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, omi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk31"><span class="nb">clear</span> Hpvi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : vstate X) (<span class="nv">om&#39;</span> : 
                     option message),
  si = s i
  ‚àß input_valid_transition X
      (existT i li) (s, omi) 
      (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, omi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk32"><span class="nb">destruct</span> Hvalidator <span class="kr">as</span> [s [s&#39; [om&#39; [Hsi [Hvalid Htransition]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>si = s i</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid X (existT i li) (s, omi)</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>transition (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, omi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk33"><span class="nb">symmetry in</span> Hsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid X (existT i li) (s, omi)</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>transition (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Xi li (si, omi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk34"><span class="kr">exists</span> <span class="nv">s</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>omi</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid X (existT i li) (s, omi)</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>transition (existT i li) (s, omi) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s i = si
‚àß input_valid (composite_vlsm IM constraint)
    (existT i li) (s, omi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Projection validators and Byzantine behavior</h2>
<div class="paragraph"> </div>

In the sequel we assume that <code>X</code> has the <span class="inlinecode"><span class="id" title="var">projection_validator_prop</span></span>erty for
component <code>i</code>.  Let <code>Xi</code> be the projection of <code>X</code> to component <code>i</code>
and <code>Preloaded</code> be the <span class="inlinecode"><span class="id" title="var">pre_loaded_with_all_messages_vlsm</span></span> associated to component <code>i</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">pre_loaded_with_all_messages_validator_proj</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
        (<span class="nv">Hvalidator</span> : projection_validator_prop)
        (<span class="nv">PreLoaded</span> := pre_loaded_with_all_messages_vlsm (IM i))
        .</span></span></pre><div class="doc">
We can show that <code>Preloaded</code> is included in <code>Xi</code> by applying the meta-lemma
<span class="inlinecode"><span class="id" title="var">VLSM_incl_finite_traces_characterization</span></span>, and by induction on the length
of a trace. The <span class="inlinecode"><span class="id" title="var">projection_validator_prop</span></span>erty is used to translate
<span class="inlinecode"><span class="id" title="var">input_valid</span></span>ity for the preloaded machine into the <span class="inlinecode"><span class="id" title="var">projection_valid</span></span>ity.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk35"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_validator_proj_incl</span>
        : VLSM_incl PreLoaded Xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded Xi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded Xi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="c">(* reduce inclusion to inclusion of finite traces. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk37"><span class="nb">apply</span> VLSM_incl_finite_traces_characterization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate
         (mk_vlsm
            (pre_loaded_with_all_messages_vlsm_machine
               (IM i)))) (<span class="nv">tr</span> : list
                                 (vtransition_item
                                    (mk_vlsm
                                       (pre_loaded_with_all_messages_vlsm_machine
                                          (IM i))))),
  finite_valid_trace
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine
          (IM i))) s tr
  ‚Üí finite_valid_trace
      (mk_vlsm
         (composite_vlsm_constrained_projection_machine
            IM constraint i)) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk38"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i)))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (IM i))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine IM
        constraint i)) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk39"><span class="nb">split</span>; [|<span class="nb">apply</span> H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i)))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (IM i))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine IM
        constraint i)) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk3a"><span class="nb">induction</span> H <span class="nb">using</span> finite_valid_trace_rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine IM
        constraint i)) si []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Validator-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l (finite_trace_last si tr, iom)
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><label class="goal-separator" for="Validator-v-chk3b"><hr></label><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine IM
        constraint i)) si 
  (tr ++ [x])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk3c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine IM
        constraint i)) si []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk3d"><span class="nb">apply</span> (finite_valid_trace_from_empty Xi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xi si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk3e"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk3f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l (finite_trace_last si tr, iom)
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine IM
        constraint i)) si (tr ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk40"><span class="nb">apply</span> (extend_right_finite_trace_from Xi);[<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l (finite_trace_last si tr, iom)
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xi l
  (finite_trace_last si tr, iom) (sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk41"><span class="nb">destruct</span> Hx <span class="kr">as</span> [Hvx Htx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvx</var><span class="hyp-type"><b>: </b><span>input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xi l
  (finite_trace_last si tr, iom) (sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk42"><span class="nb">split</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvx</var><span class="hyp-type"><b>: </b><span>input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid Xi l (finite_trace_last si tr, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk43"><span class="nb">apply</span> projection_valid_input_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvx</var><span class="hyp-type"><b>: </b><span>input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (composite_vlsm_constrained_projection IM constraint
     i) l (finite_trace_last si tr, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk44"><span class="nb">apply</span> Hvalidator.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hvx</var><span class="hyp-type"><b>: </b><span>input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (IM i))) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHfinite_valid_trace</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (composite_vlsm_constrained_projection_machine
        IM constraint i)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid (pre_loaded_with_all_messages_vlsm (IM i))
  l (finite_trace_last si tr, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Given that any projection is included in the <span class="inlinecode"><span class="id" title="var">pre_loaded_with_all_messages_vlsm</span></span>
of its component (Lemma <span class="inlinecode"><span class="id" title="var">proj_pre_loaded_with_all_messages_incl</span></span>), we conclude
that <code>Preloaded</code> and <code>Xi</code> are trace-equal.  This means that all the
byzantine behavior of a component which is a validator
is exhibited by its corresponding projection.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk45"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_validator_proj_eq</span>
        : VLSM_eq PreLoaded Xi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq PreLoaded Xi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq PreLoaded Xi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk47"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine PreLoaded)) t
‚Üí valid_trace_prop (mk_vlsm (machine Xi)) t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Validator-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><label class="goal-separator" for="Validator-v-chk48"><hr></label><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Xi)) t
‚Üí valid_trace_prop (mk_vlsm (machine PreLoaded)) t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk49">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine PreLoaded)) t
‚Üí valid_trace_prop (mk_vlsm (machine Xi)) t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_with_all_messages_validator_proj_incl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Xi</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm_constrained_projection IM
  constraint i</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>projection_validator_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm (IM i)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Xi)) t
‚Üí valid_trace_prop (mk_vlsm (machine PreLoaded)) t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> proj_pre_loaded_with_all_messages_incl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">pre_loaded_with_all_messages_validator_proj</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_validator</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">VLSM self-validation</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">self_validator_vlsm</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    (<span class="nv">X</span> : VLSM message)
    .</span></span></pre><div class="doc">
Let us fix a (regular) VLSM <code>X</code>. <code>X</code> is a self-validator if for any
arguments satisfying <span class="inlinecode"><span class="id" title="var">valid</span></span> where the state is reachable in the
<span class="inlinecode"><span class="id" title="var">pre_loaded_with_all_messages_vlsm</span></span>, the arguments are also
a <span class="inlinecode"><span class="id" title="var">valid_state</span></span> and <span class="inlinecode"><span class="id" title="var">valid_message</span></span> for the original VLSM.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">self_validator_vlsm_prop</span>
    :=
    <span class="kr">forall</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
        input_valid (pre_loaded_with_all_messages_vlsm X) l (s, om) -&gt;
        input_valid X l (s, om).</span></span></pre><div class="doc">
In the sequel we will show that a VLSM with the <span class="inlinecode"><span class="id" title="var">self_validator_vlsm_prop</span></span>erty
is trace-equal to its associated <span class="inlinecode"><span class="id" title="var">pre_loaded_with_all_messages_vlsm</span></span>, basically
meaning (due to Lemma <span class="inlinecode"><span class="id" title="var">byzantine_pre_loaded_with_all_messages</span></span>) that all traces
with the <span class="inlinecode"><span class="id" title="var">byzantine_trace_prop</span></span>erty associated to self-validator VLSMs are also
<span class="inlinecode"><span class="id" title="var">valid_trace</span></span>s for that VLSM, meaning that the VLSM cannot exhibit
byzantine behavior.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    (<span class="nv">Hvalidator</span> : self_validator_vlsm_prop)
    (<span class="nv">PreLoaded</span> := pre_loaded_with_all_messages_vlsm X)
    .</span></span></pre><div class="doc">
Let <code>PreLoaded</code> be the <span class="inlinecode"><span class="id" title="var">pre_loaded_with_all_messages_vlsm</span></span> associated to X.
From Lemma <span class="inlinecode"><span class="id" title="var">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></span> we know that <code>X</code> is
included in <code>PreLoaded</code>.

<div class="paragraph"> </div>

To prove the converse we use the <span class="inlinecode"><span class="id" title="var">self_validator_vlsm_prop</span></span>erty to
verify the conditions of meta-lemma <span class="inlinecode"><span class="id" title="var">VLSM_incl_finite_traces_characterization</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4b"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_self_validator_vlsm_incl</span>
        : VLSM_incl PreLoaded X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4d"><span class="nb">unfold</span> self_validator_vlsm_prop  <span class="kr">in</span> Hvalidator.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid
    (pre_loaded_with_all_messages_vlsm X)
    l (s, om) ‚Üí input_valid X l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4e"><span class="nb">destruct</span> X <span class="kr">as</span> [T [S M]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) l 
    (s, om)
  ‚Üí input_valid (existT T (existT S M)) l
      (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded (existT T (existT S M))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk4f"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl PreLoaded (existT T (existT S M))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="c">(* redcuction to inclusion of finite traces. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk50"><span class="nb">apply</span> VLSM_incl_finite_traces_characterization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate
         (mk_vlsm
            (pre_loaded_with_all_messages_vlsm_machine
               (existT T (existT S M))))) (<span class="nv">tr</span> : list
                                                 (vtransition_item
                                                 (mk_vlsm
                                                 (pre_loaded_with_all_messages_vlsm_machine
                                                 (existT
                                                 T
                                                 (existT
                                                 S M)))))),
  finite_valid_trace
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine
          (existT T (existT S M)))) s tr
  ‚Üí finite_valid_trace (mk_vlsm M) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk51"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm M) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk52"><span class="nb">split</span>; [|<span class="nb">apply</span> H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk53"><span class="nb">destruct</span> H <span class="kr">as</span> [Htr Hs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="c">(* reverse induction on the length of a trace. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk54"><span class="nb">induction</span> tr <span class="nb">using</span> rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Validator-v-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s 
  (tr ++ [x])</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr
‚Üí finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><label class="goal-separator" for="Validator-v-chk55"><hr></label><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s (tr ++ [x])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk56">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk57"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (mk_vlsm M) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk58"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s 
  (tr ++ [x])</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr
‚Üí finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s (tr ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5a"><span class="nb">apply</span> finite_valid_trace_from_app_iff <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr
‚àß finite_valid_trace_from
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine
          (existT T (existT S M))))
    (finite_trace_last s tr) [x]</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr
‚Üí finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s (tr ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5b"><span class="nb">destruct</span> Htr <span class="kr">as</span> [Htr Hx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr
‚Üí finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s (tr ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5c"><span class="nb">specialize</span> (IHtr Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s (tr ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5d"><span class="nb">apply</span> (finite_valid_trace_from_app_iff (mk_vlsm M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M) s tr
‚àß finite_valid_trace_from (mk_vlsm M)
    (finite_trace_last s tr) [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5e"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm M)
  (finite_trace_last s tr) [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk5f"><span class="nb">apply</span> (first_transition_valid (mk_vlsm M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (mk_vlsm M) (l x)
  (finite_trace_last s tr, input x)
  (destination x, output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk60"><span class="nb">apply</span> first_transition_valid <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) 
  (l x) (finite_trace_last s tr, input x)
  (destination x, output x)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (mk_vlsm M) (l x)
  (finite_trace_last s tr, input x)
  (destination x, output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk61"><span class="nb">destruct</span> Hx <span class="kr">as</span> [Hvx Htx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hvx</var><span class="hyp-type"><b>: </b><span>input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) 
  (l x) (finite_trace_last s tr, input x)</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition (l x)
  (finite_trace_last s tr, input x) =
(destination x, output x)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (mk_vlsm M) (l x)
  (finite_trace_last s tr, input x)
  (destination x, output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk62"><span class="nb">split</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Hvx</var><span class="hyp-type"><b>: </b><span>input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) 
  (l x) (finite_trace_last s tr, input x)</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition (l x)
  (finite_trace_last s tr, input x) =
(destination x, output x)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid (mk_vlsm M) (l x)
  (finite_trace_last s tr, input x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          <span class="c">(* using the [self_validator_vlsm_prop]erty. *)</span>
</span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk63"><span class="nb">revert</span> Hvx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) 
  (<span class="nv">om</span> : option message),
  valid_state_prop
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) s
  ‚àß option_valid_message_prop
      (pre_loaded_with_all_messages_vlsm
         (existT T (existT S M))) om
    ‚àß vvalid (existT T (existT S M)) l
        (s, om)
  ‚Üí valid_state_prop
      (existT T (existT S M)) s
    ‚àß option_valid_message_prop
        (existT T (existT S M)) om
      ‚àß valid l (s, om)</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>vtransition_item
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M))))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (pre_loaded_with_all_messages_vlsm_machine
           (existT T (existT S M)))))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) s tr</span></span></span><br><span><var>Htx</var><span class="hyp-type"><b>: </b><span>transition (l x)
  (finite_trace_last s tr, input x) =
(destination x, output x)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm M) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (existT T (existT S M)))) (l x)
  (finite_trace_last s tr, input x)
‚Üí input_valid (mk_vlsm M) (l x)
    (finite_trace_last s tr, input x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hvalidator.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
We conclude that <code>X</code> and <code>Preloaded</code> are trace-equal.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk64"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_self_validator_vlsm_eq</span>
        : VLSM_eq PreLoaded X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq PreLoaded X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk65"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq PreLoaded X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk66"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine PreLoaded)) t
‚Üí valid_trace_prop (mk_vlsm (machine X)) t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Validator-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><label class="goal-separator" for="Validator-v-chk67"><hr></label><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t
‚Üí valid_trace_prop (mk_vlsm (machine PreLoaded)) t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk68">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine PreLoaded)) t
‚Üí valid_trace_prop (mk_vlsm (machine X)) t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_with_all_messages_self_validator_vlsm_incl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk69">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t
‚Üí valid_trace_prop (mk_vlsm (machine PreLoaded)) t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk6a"><span class="nb">pose</span> (vlsm_incl_pre_loaded_with_all_messages_vlsm X) <span class="kr">as</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Hincl</var><span><span class="hyp-body"><b>:= </b><span>vlsm_incl_pre_loaded_with_all_messages_vlsm X</span></span><span class="hyp-type"><b>: </b><span>VLSM_incl X
  (pre_loaded_with_all_messages_vlsm X)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t
‚Üí valid_trace_prop (mk_vlsm (machine PreLoaded)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Validator-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="Validator-v-chk6b"><span class="nb">destruct</span> X <span class="kr">as</span> (T, (S, M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span>self_validator_vlsm_prop</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>PreLoaded</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Hincl</var><span><span class="hyp-body"><b>:= </b><span>vlsm_incl_pre_loaded_with_all_messages_vlsm
  (existT T (existT S M))</span></span><span class="hyp-type"><b>: </b><span>VLSM_incl (existT T (existT S M))
  (pre_loaded_with_all_messages_vlsm
     (existT T (existT S M)))</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop
  (mk_vlsm (machine (existT T (existT S M)))) t
‚Üí valid_trace_prop (mk_vlsm (machine PreLoaded)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hincl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">self_validator_vlsm</span>.</span></span></pre></article></body></html>