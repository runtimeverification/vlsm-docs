<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>TopSort.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Lib.Preamble Lib.ListExtras Lib.ListSetExtras Lib.StdppListSet.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Topological sorting implementation</h1>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
This module implements an algorithm producing a linear extension for a
given partial order using an approach similar to that of Kahn's topological
sorting algorithm.

<div class="paragraph"> </div>

The algorithm extracts an element with a minimal number of predecessors
among the current elements, then recurses on the remaining elements.

<div class="paragraph"> </div>

To begin with, we assume an unconstrained <code>preceeds</code> function to say
whether an element preceeds another.  The proofs will show that if
<code>preceeds</code> determines a strict order on the set of elements in the list,
then the <span class="inlinecode"><span class="id" title="var">top_sort</span></span> algoritm produces a linear extension of that ordering
(Lemmas <span class="inlinecode"><span class="id" title="var">top_sort_preceeds</span></span> and <span class="inlinecode"><span class="id" title="var">top_sort_preceeds_before</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">min_predecessors</span>.</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Finding an element with a minimal number of predecessors</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
For this section we will fix a list <code>l</code> and count the predecessors
occurring in that list. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>} (<span class="nv">preceeds</span> : relation A) `{!RelDecision preceeds} (l : list A).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">count_predecessors</span>
  (<span class="nv">a</span> : A)
  : nat
  := length (filter (<span class="kr">fun</span> <span class="nv">b</span> =&gt; preceeds b a) l).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk0"><span class="kn">Lemma</span> <span class="nf">zero_predecessors</span>
  (<span class="nv">a</span> : A)
  (<span class="nv">Ha</span> : count_predecessors a = <span class="mi">0</span>)
  : Forall (<span class="kr">fun</span> <span class="nv">b</span> =&gt; ~ preceeds b a) l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>count_predecessors a = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, ¬¨ preceeds b a) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>count_predecessors a = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, ¬¨ preceeds b a) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk2"><span class="nb">apply</span> length_zero_iff_nil <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, ¬¨ preceeds b a) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3"><span class="nb">apply</span> Forall_filter_nil <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>Forall (<span class="kr">Œª</span> <span class="nv">a0</span> : A, ¬¨ preceeds a0 a) l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, ¬¨ preceeds b a) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Ha.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Finds an element minimizing <span class="inlinecode"><span class="id" title="var">count_predecessesors</span></span> in <code>min :: remainder</code>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">min_predecessors</span>
  (<span class="nv">remainder</span> : list A)
  (<span class="nv">min</span> : A)
  : A
  :=
  <span class="kr">match</span> remainder <span class="kr">with</span>
  | [] =&gt; min
  | h::t =&gt;
    <span class="kr">if</span> decide (count_predecessors h &lt; count_predecessors min)
    <span class="kr">then</span> min_predecessors t h
    <span class="kr">else</span> min_predecessors t min
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk4"><span class="kn">Lemma</span> <span class="nf">min_predecessors_in</span>
  (<span class="nv">l&#39;</span> : list A)
  (<span class="nv">a</span> : A)
  (<span class="nv">min</span> := min_predecessors l&#39; a)
  : min = a \/ min ‚àà l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a ‚à® min ‚àà l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a ‚à® min ‚àà l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6"><span class="nb">unfold</span> min; <span class="nb">clear</span> min.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors l&#39; a = a ‚à® min_predecessors l&#39; a ‚àà l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7"><span class="nb">revert</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors l&#39; a = a
  ‚à® min_predecessors l&#39; a ‚àà l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk8"><span class="nb">induction</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors [] a = a
  ‚à® min_predecessors [] a ‚àà []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors l&#39; a = a
  ‚à® min_predecessors l&#39; a ‚àà l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk9"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a0</span> : A,
  min_predecessors (a :: l&#39;) a0 = a0
  ‚à® min_predecessors (a :: l&#39;) a0 ‚àà a :: l&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors [] a = a
  ‚à® min_predecessors [] a ‚àà []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span>; <span class="nb">left</span>; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors l&#39; a = a
  ‚à® min_predecessors l&#39; a ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a0</span> : A,
  min_predecessors (a :: l&#39;) a0 = a0
  ‚à® min_predecessors (a :: l&#39;) a0 ‚àà a :: l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc"><span class="nb">intro</span> a0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors l&#39; a = a
  ‚à® min_predecessors l&#39; a ‚àà l&#39;</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors (a :: l&#39;) a0 = a0
‚à® min_predecessors (a :: l&#39;) a0 ‚àà a :: l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  min_predecessors l&#39; a = a
  ‚à® min_predecessors l&#39; a ‚àà l&#39;</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span>
  decide
    (count_predecessors a &lt; count_predecessors a0)
 <span class="kr">then</span> min_predecessors l&#39; a
 <span class="kr">else</span> min_predecessors l&#39; a0) = a0
‚à® (<span class="kr">if</span>
    decide
      (count_predecessors a &lt; count_predecessors a0)
   <span class="kr">then</span> min_predecessors l&#39; a
   <span class="kr">else</span> min_predecessors l&#39; a0) ‚àà a :: l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (decide (count_predecessors a &lt; count_predecessors a0));
    [<span class="nb">specialize</span> (IHl&#39; a)|<span class="nb">specialize</span> (IHl&#39; a0)];
    <span class="nb">destruct</span> IHl&#39;; <span class="nb">rewrite</span> elem_of_cons; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke"><span class="kn">Lemma</span> <span class="nf">min_predecessors_correct</span>
  (<span class="nv">l&#39;</span> : list A)
  (<span class="nv">a</span> : A)
  (<span class="nv">min</span> := min_predecessors l&#39; a)
  (<span class="nv">mins</span> := count_predecessors min)
  : Forall (<span class="kr">fun</span> <span class="nv">b</span> =&gt; mins &lt;= count_predecessors b) (a :: l&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>mins</var><span><span class="hyp-body"><b>:= </b><span>count_predecessors min</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, mins ‚â§ count_predecessors b)
  (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>mins</var><span><span class="hyp-body"><b>:= </b><span>count_predecessors min</span></span><span class="hyp-type"><b>: </b><span>nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, mins ‚â§ count_predecessors b)
  (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10"><span class="nb">unfold</span> mins; <span class="nb">clear</span> mins.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors min ‚â§ count_predecessors b)
  (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk11"><span class="nb">unfold</span> min; <span class="nb">clear</span> min.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors (min_predecessors l&#39; a)
     ‚â§ count_predecessors b) (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12"><span class="nb">generalize dependent</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13"><span class="nb">induction</span> l&#39;; <span class="nb">intros</span>; <span class="nb">rewrite</span> Forall_forall; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚àà [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors [] a)
‚â§ count_predecessors x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚àà a0 :: a :: l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk14"><hr></label><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚àà [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors [] a)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">simpl</span> <span class="kr">in</span> H; <span class="nb">inversion</span> H; <span class="nb">subst</span>; [<span class="nb">simpl</span>; <span class="bp">lia</span>|<span class="nb">inversion</span> H2].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk16">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x ‚àà a0 :: a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk17"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x = a0 ‚à® x ‚àà a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk18"><span class="nb">destruct</span> H <span class="kr">as</span> [Heq | Hin]; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors a0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk19"><hr></label><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors
  (<span class="kr">if</span>
    decide
      (count_predecessors a &lt; count_predecessors a0)
   <span class="kr">then</span> min_predecessors l&#39; a
   <span class="kr">else</span> min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c"><span class="nb">destruct</span> (decide (count_predecessors a &lt; count_predecessors a0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1d"><hr></label><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f"><span class="nb">specialize</span> (IHl&#39; a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors (min_predecessors l&#39; a)
     ‚â§ count_predecessors b) 
  (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk20"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> IHl&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a)
    ‚â§ count_predecessors x</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21"><span class="nb">assert</span> (Ha : a ‚àà (a :: l&#39;)) <span class="bp">by</span> (<span class="nb">left</span>; <span class="bp">reflexivity</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a)
    ‚â§ count_predecessors x</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk22"><span class="nb">specialize</span> (IHl&#39; a Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk23">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk24"><span class="nb">specialize</span> (IHl&#39; a0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors
       (min_predecessors l&#39; a0)
     ‚â§ count_predecessors b) 
  (a0 :: l&#39;)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk25"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> IHl&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a0 :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a0)
    ‚â§ count_predecessors x</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk26"><span class="nb">assert</span> (Hx : a0 ‚àà (a0 :: l&#39;)) <span class="bp">by</span> (<span class="nb">left</span>; <span class="bp">reflexivity</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a0 :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a0)
    ‚â§ count_predecessors x</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>a0 ‚àà a0 :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk27"><span class="nb">specialize</span> (IHl&#39; a0 Hx).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>a0 ‚àà a0 :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk28">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors (a :: l&#39;) a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk29"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors
  (<span class="kr">if</span>
    decide
      (count_predecessors a &lt; count_predecessors a0)
   <span class="kr">then</span> min_predecessors l&#39; a
   <span class="kr">else</span> min_predecessors l&#39; a0) ‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk2a"><span class="nb">destruct</span> (decide (count_predecessors a &lt; count_predecessors a0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk2b"><hr></label><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk2c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk2d"><span class="nb">specialize</span> (IHl&#39; a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors (min_predecessors l&#39; a)
     ‚â§ count_predecessors b) 
  (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk2e"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> IHl&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a)
    ‚â§ count_predecessors x</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk2f"><span class="nb">specialize</span> (IHl&#39; x Hin).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk30">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ count_predecessors a &lt; count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk31"><span class="nb">apply</span> not_lt <span class="kr">in</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a ‚â• count_predecessors a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk32"><span class="nb">unfold</span> ge <span class="kr">in</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk33"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x = a ‚à® x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk34"><span class="nb">destruct</span> Hin <span class="kr">as</span> [Heq | Hin]; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk35" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk35"><hr></label><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk36">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk37"><span class="nb">specialize</span> (IHl&#39; a0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors
       (min_predecessors l&#39; a0)
     ‚â§ count_predecessors b) 
  (a0 :: l&#39;)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk38"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> IHl&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a0 :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a0)
    ‚â§ count_predecessors x</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk39"><span class="nb">assert</span> (Ha0 : a0 ‚àà (a0 :: l&#39;)) <span class="bp">by</span> (<span class="nb">left</span>; <span class="bp">reflexivity</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a0 :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a0)
    ‚â§ count_predecessors x</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br><span><var>Ha0</var><span class="hyp-type"><b>: </b><span>a0 ‚àà a0 :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3a"><span class="nb">specialize</span> (IHl&#39; a0 Ha0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br><span><var>Ha0</var><span class="hyp-type"><b>: </b><span>a0 ‚àà a0 :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3b">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : A,
  Forall
    (<span class="kr">Œª</span> <span class="nv">b</span> : A,
       count_predecessors
         (min_predecessors l&#39; a)
       ‚â§ count_predecessors b) 
    (a :: l&#39;)</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3c"><span class="nb">specialize</span> (IHl&#39; a0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors
       (min_predecessors l&#39; a0)
     ‚â§ count_predecessors b) 
  (a0 :: l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3d"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> IHl&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a0 :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a0)
    ‚â§ count_predecessors x</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3e"><span class="nb">assert</span> (Hx : x ‚àà (a0 :: l&#39;)) <span class="bp">by</span> (<span class="nb">right</span>; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a0 :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a0)
    ‚â§ count_predecessors x</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà a0 :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk3f"><span class="nb">specialize</span> (IHl&#39; x Hx).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0, x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHl'</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>count_predecessors a0 ‚â§ count_predecessors a</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà a0 :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a0)
‚â§ count_predecessors x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Given <code>P</code> a property on <code>A</code>, <span class="inlinecode"><span class="id" title="var">preceeds_P</span></span> is the relation
induced by <code>preceeds</code> on the subset of <code>A</code> determined by <code>P</code>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">preceeds_P</span>
  (<span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>)
  (<span class="nv">x</span> <span class="nv">y</span> : sig P)
  : <span class="kt">Prop</span>
  := preceeds (proj1_sig x) (proj1_sig y).</span></span></pre><div class="doc">
In what follows, let us fix a property <code>P</code> satisfied by all elements
of <code>l</code>, such that <span class="inlinecode"><span class="id" title="var">preceeds_P</span></span> <code>P</code> is a <span class="inlinecode"><span class="id" title="var">StrictOrder</span></span>.

<div class="paragraph"> </div>

Consequently, this means that <code>preceeds</code> is a <span class="inlinecode"><span class="id" title="var">StrictOrder</span></span> on the
elements of <code>l</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>)
  (<span class="nv">HPl</span> : Forall P l)
  {<span class="nv">Hso</span> : StrictOrder (preceeds_P P)}
  .</span></span></pre><div class="doc">
Next we derive easier to work with formulations for the <span class="inlinecode"><span class="id" title="var">StrictOrder</span></span>
properties associated with <span class="inlinecode"><span class="id" title="var">preceeds_P</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk40"><span class="kn">Lemma</span> <span class="nf">preceeds_irreflexive</span>
  (<span class="nv">a</span> : A)
  (<span class="nv">Ha</span> : P a)
  : ~ preceeds a a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds a a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk41"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds a a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk42"><span class="nb">specialize</span> (StrictOrder_Irreflexive (exist P a Ha)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">complement (preceeds_P P) (a ‚Üæ Ha) (a ‚Üæ Ha)
‚Üí ¬¨ preceeds a a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk43"><span class="nb">unfold</span> complement; <span class="nb">unfold</span> preceeds_P; <span class="nb">simpl</span>; <span class="nb">intro</span> Hirr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span>preceeds a a ‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds a a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (decide (preceeds a a)); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk44"><span class="kn">Lemma</span> <span class="nf">preceeds_asymmetric</span>
  (<span class="nv">a</span> <span class="nv">b</span> : A)
  (<span class="nv">Ha</span> : P a)
  (<span class="nv">Hb</span> : P b)
  (<span class="nv">Hab</span> : preceeds a b)
  : ~ preceeds b a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds b a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk45"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds b a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk46"><span class="nb">intro</span> Hba.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hba</var><span class="hyp-type"><b>: </b><span>preceeds b a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span>
    (StrictOrder_Asymmetric Hso
      (exist P a Ha) (exist P b Hb)
      Hab Hba
    ).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk47"><span class="kn">Lemma</span> <span class="nf">preceeds_transitive</span>
  (<span class="nv">a</span> <span class="nv">b</span> <span class="nv">c</span> : A)
  (<span class="nv">Ha</span> : P a)
  (<span class="nv">Hb</span> : P b)
  (<span class="nv">Hc</span> : P c)
  (<span class="nv">Hab</span> : preceeds a b)
  (<span class="nv">Hbc</span> : preceeds b c)
  : preceeds a c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>P c</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hbc</var><span class="hyp-type"><b>: </b><span>preceeds b c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds a c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>P c</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hbc</var><span class="hyp-type"><b>: </b><span>preceeds b c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds a c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span>
    (RelationClasses.StrictOrder_Transitive
      (exist P a Ha) (exist P b Hb) (exist P c Hc)
      Hab Hbc
    ).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If <code>preceeds</code> is a <span class="inlinecode"><span class="id" title="var">StrictOrder</span></span> on <code>l</code>, then there must exist an
element of <code>l</code> with no predecessors in <code>l</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk49"><span class="kn">Lemma</span> <span class="nf">count_predecessors_zero</span>
  (<span class="nv">Hl</span> : l &lt;&gt; [])
  : Exists (<span class="kr">fun</span> <span class="nv">a</span> =&gt; count_predecessors a = <span class="mi">0</span>) l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (<span class="kr">Œª</span> <span class="nv">a</span> : A, count_predecessors a = <span class="mi">0</span>) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk4a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (<span class="kr">Œª</span> <span class="nv">a</span> : A, count_predecessors a = <span class="mi">0</span>) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk4b"><span class="nb">unfold</span> count_predecessors.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a</span> : A,
     length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l) = <span class="mi">0</span>) l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk4c"><span class="nb">induction</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>[] ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a</span> : A,
     length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) = <span class="mi">0</span>)
  []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk4d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>Forall P l0
‚Üí l0 ‚â† []
  ‚Üí Exists
      (<span class="kr">Œª</span> <span class="nv">a</span> : A,
         length
           (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
         <span class="mi">0</span>) l0</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk4d"><hr></label><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
     length
       (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) = <span class="mi">0</span>)
  (a :: l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk4e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>[] ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a</span> : A,
     length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) = <span class="mi">0</span>)
  []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">elim</span> Hl;<span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk4f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>Forall P l0
‚Üí l0 ‚â† []
  ‚Üí Exists
      (<span class="kr">Œª</span> <span class="nv">a</span> : A,
         length
           (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
         <span class="mi">0</span>) l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
     length
       (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) = <span class="mi">0</span>)
  (a :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk50"><span class="nb">inversion_clear</span> HPl <span class="kr">as</span> [|? ? HPa HPl0].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>Forall P l0
‚Üí l0 ‚â† []
  ‚Üí Exists
      (<span class="kr">Œª</span> <span class="nv">a</span> : A,
         length
           (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
         <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
     length
       (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) = <span class="mi">0</span>)
  (a :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk51"><span class="nb">specialize</span> (IHl0 HPl0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
     length
       (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) = <span class="mi">0</span>)
  (a :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk52"><span class="nb">apply</span> Exists_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) (a :: l0)) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk53"><span class="nb">rewrite</span> filter_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length
  (<span class="kr">if</span> decide (preceeds a a)
   <span class="kr">then</span> a :: filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0
   <span class="kr">else</span> filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk54"><span class="nb">destruct</span> (decide (preceeds a a)); [<span class="bp">contradict</span> p;<span class="nb">apply</span> preceeds_irreflexive; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk55"><span class="nb">assert</span> ({ l0=[] }+{l0 &lt;&gt; [] }) <span class="bp">by</span> (<span class="nb">destruct</span> l0;<span class="nb">clear</span>;[<span class="nb">left</span>|<span class="nb">right</span>];<span class="bp">congruence</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>{l0 = []} + {l0 ‚â† []}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk56"><span class="nb">destruct</span> H <span class="kr">as</span> [?|Hl0];[<span class="nb">subst</span> l0|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>[] ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) =
       <span class="mi">0</span>) []</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>[a] ‚â† []</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) [a]) =
       <span class="mi">0</span>) []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk57"><hr></label><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk58">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>[] ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) =
       <span class="mi">0</span>) []</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>[a] ‚â† []</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) [a]) =
       <span class="mi">0</span>) []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk59"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>[] ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) =
       <span class="mi">0</span>) []</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>[a] ‚â† []</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) []) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk5a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []
‚Üí Exists
    (<span class="kr">Œª</span> <span class="nv">a</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
       <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk5b"><span class="nb">specialize</span> (IHl0 Hl0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span>Exists
  (<span class="kr">Œª</span> <span class="nv">a</span> : A,
     length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) =
     <span class="mi">0</span>) l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk5c"><span class="nb">apply</span> Exists_exists <span class="kr">in</span> IHl0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>IHl0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">x</span> : A,
  x ‚àà l0
  ‚àß length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) =
    <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk5d"><span class="nb">destruct</span> IHl0 <span class="kr">as</span> [x [Hin Hlen]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk5e"><span class="nb">destruct</span> (decide (preceeds a x)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk5f"><hr></label><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk60">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk61"><span class="nb">left</span>. <span class="c">(* inversion H2; subst. *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk62"><span class="nb">specialize</span> (Forall_forall P l0); <span class="nb">intros</span> [Hall _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>Forall P l0 ‚Üí <span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk63"><span class="nb">specialize</span> (Hall HPl0 x Hin).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk64"><span class="kr">match goal with</span> |- <span class="nl">?X</span> = <span class="mi">0</span>  =&gt; <span class="nb">cut</span> (X &lt;= <span class="mi">0</span>) <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) ‚â§ <span class="mi">0</span>
‚Üí length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk65" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk65"><hr></label><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) ‚â§ <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk66"><span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) ‚â§ <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk67"><span class="nb">rewrite</span> &lt;- Hlen;<span class="nb">clear</span> Hlen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0)
‚â§ length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk68"><span class="nb">apply</span> filter_length_fn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">a0</span> : A, preceeds a0 a ‚Üí preceeds a0 x) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk69"><span class="nb">revert</span> HPl0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P l0
‚Üí Forall (<span class="kr">Œª</span> <span class="nv">a0</span> : A, preceeds a0 a ‚Üí preceeds a0 x) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6a"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">a0</span> : A, preceeds a0 a ‚Üí preceeds a0 x) l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6b"><span class="nb">apply</span> (Forall_impl P); [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x0</span> : A, P x0 ‚Üí preceeds x0 a ‚Üí preceeds x0 x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>preceeds a x</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>P x</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P x0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>preceeds x0 a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds x0 x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> preceeds_transitive <span class="kr">with</span> a;<span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6d">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a) l0) = <span class="mi">0</span>
‚à® Exists
    (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
       length
         (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) =
       <span class="mi">0</span>) l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6e"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists
  (<span class="kr">Œª</span> <span class="nv">a0</span> : A,
     length
       (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b a0) (a :: l0)) = <span class="mi">0</span>)
  l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk6f"><span class="nb">apply</span> Exists_exists.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">x</span> : A,
  x ‚àà l0
  ‚àß length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) (a :: l0)) =
    <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk70"><span class="kr">exists</span> <span class="nv">x</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l0
‚àß length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) (a :: l0)) =
  <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk71"><span class="nb">split</span>; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) (a :: l0)) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk72"><span class="nb">rewrite</span> filter_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length
  (<span class="kr">if</span> decide (preceeds a x)
   <span class="kr">then</span> a :: filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0
   <span class="kr">else</span> filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk73"><span class="nb">destruct</span> (decide (preceeds a x)); [<span class="bp">contradict</span> n0; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></span></span></span><br><span><var>HPa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>HPl0</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a a</span></span></span><br><span><var>Hl0</var><span class="hyp-type"><b>: </b><span>l0 ‚â† []</span></span></span><br><span><var>n0, n1</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (filter (<span class="kr">Œª</span> <span class="nv">b</span> : A, preceeds b x) l0) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Hence, computing <span class="inlinecode"><span class="id" title="var">min_predecessors</span></span> on <code>l</code> yields an element with
no predecessors.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk74"><span class="kn">Lemma</span> <span class="nf">min_predecessors_zero</span>
  (<span class="nv">l&#39;</span> : list A)
  (<span class="nv">a</span> : A)
  (<span class="nv">Hl</span> : l = a :: l&#39;)
  (<span class="nv">min</span> := min_predecessors l&#39; a)
  : count_predecessors min = <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk75"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk76"><span class="nb">assert</span> (Hl&#39; : l &lt;&gt; []) <span class="bp">by</span> (<span class="nb">intro</span> H; <span class="nb">rewrite</span> Hl <span class="kr">in</span> H; <span class="nb">inversion</span> H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk77"><span class="nb">specialize</span> (count_predecessors_zero Hl&#39;); <span class="nb">intro</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>Exists (<span class="kr">Œª</span> <span class="nv">a</span> : A, count_predecessors a = <span class="mi">0</span>) l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk78"><span class="nb">apply</span> Exists_exists <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">x</span> : A, x ‚àà l ‚àß count_predecessors x = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk79"><span class="nb">destruct</span> Hx <span class="kr">as</span> [x [Hinx Hcountx]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>Hcountx</var><span class="hyp-type"><b>: </b><span>count_predecessors x = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7a"><span class="nb">specialize</span> (min_predecessors_correct l&#39; a); <span class="nb">simpl</span>; <span class="nb">intro</span> Hall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>Hcountx</var><span class="hyp-type"><b>: </b><span>count_predecessors x = <span class="mi">0</span></span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>Forall
  (<span class="kr">Œª</span> <span class="nv">b</span> : A,
     count_predecessors (min_predecessors l&#39; a)
     ‚â§ count_predecessors b) 
  (a :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7b"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> Hall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>Hcountx</var><span class="hyp-type"><b>: </b><span>count_predecessors x = <span class="mi">0</span></span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a)
    ‚â§ count_predecessors x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7c"><span class="nb">rewrite</span> Hl <span class="kr">in</span> Hinx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>Hcountx</var><span class="hyp-type"><b>: </b><span>count_predecessors x = <span class="mi">0</span></span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà a :: l&#39;
  ‚Üí count_predecessors (min_predecessors l&#39; a)
    ‚â§ count_predecessors x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7d"><span class="nb">specialize</span> (Hall x Hinx).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>Hcountx</var><span class="hyp-type"><b>: </b><span>count_predecessors x = <span class="mi">0</span></span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors min = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7e"><span class="nb">unfold</span> min.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P P)</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l = a :: l&#39;</span></span></span><br><span><var>min</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors l&#39; a</span></span><span class="hyp-type"><b>: </b><span>A</span></span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br><span><var>Hcountx</var><span class="hyp-type"><b>: </b><span>count_predecessors x = <span class="mi">0</span></span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span>count_predecessors (min_predecessors l&#39; a)
‚â§ count_predecessors x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors (min_predecessors l&#39; a) = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">min_predecessors</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">topologically_sorted</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">Topologically sorted lists. Definition and properties.</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>} (<span class="nv">preceeds</span> : relation A) `{!RelDecision preceeds} (l : list A).</span></span></pre><div class="doc">
We say that a list <code>l</code> is <span class="inlinecode"><span class="id" title="var">topologically_sorted</span></span> w.r.t a <code>preceeds</code>
relation iff <code>a preceeds b</code> implies that <code>a</code> cannot occur after <code>b</code> in <code>l</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">topologically_sorted</span>
  :=
  <span class="kr">forall</span>
    (<span class="nv">a</span> <span class="nv">b</span> : A)
    (<span class="nv">Hab</span> : preceeds a b)
    (<span class="nv">l1</span> <span class="nv">l2</span> : list A)
    (<span class="nv">Heq</span> : l = l1 ++ [b] ++ l2)
    , ~a ‚àà l2.</span></span></pre><div class="doc">
The following properties assume that <code>preceeds</code> determines a <span class="inlinecode"><span class="id" title="var">StrictOrder</span></span>
on the list

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>)
  {<span class="nv">Hso</span> : StrictOrder (preceeds_P preceeds P)}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">topologically_sorted_fixed_list</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Hl</span> : Forall P l)
  (<span class="nv">Hts</span> : topologically_sorted)
  .</span></span></pre><div class="doc">
If <code>l</code> is <span class="inlinecode"><span class="id" title="var">topologically_sorted</span></span>, then for any occurences
of <code>a</code> and <code>b</code> in <code>l</code> such that <code>a preceeds b</code> it must be that
the occurrence of <code>a</code> is before that of <code>b</code>.

<div class="paragraph"> </div>

Hence all occurrences of <code>a</code> must be before all occurrences of <code>b</code> in
a <span class="inlinecode"><span class="id" title="var">topologically_sorted</span></span> list.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk7f"><span class="kn">Lemma</span> <span class="nf">topologically_sorted_occurrences_ordering</span>
  (<span class="nv">a</span> <span class="nv">b</span> : A)
  (<span class="nv">Hab</span> : preceeds a b)
  (<span class="nv">la1</span> <span class="nv">la2</span> : list A)
  (<span class="nv">Heqa</span> : l = la1 ++ [a] ++ la2)
  (<span class="nv">lb1</span> <span class="nv">lb2</span> : list A)
  (<span class="nv">Heqb</span> : l = lb1 ++ [b] ++ lb2)
  : <span class="kr">exists</span> (<span class="nv">lab</span> : list A), lb1 = la1 ++ a :: lab.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk80"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk81"><span class="nb">assert</span> (Hpa : P a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk82" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk82"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk83">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk84"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí P x</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk85"><span class="nb">apply</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí P x</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk86"><span class="nb">apply</span> elem_of_list_In.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí P x</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In a l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk87"><span class="nb">rewrite</span> Heqa.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí P x</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In a (la1 ++ [a] ++ la2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> in_elt.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk88">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1, lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk89"><span class="nb">specialize</span> (Hts a b Hab lb1 lb2 Heqb).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>l = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk8a"><span class="nb">rewrite</span> Heqa <span class="kr">in</span> Heqb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk8b"><span class="nb">assert</span> (Ha : ~a ‚àà (b :: lb2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ b :: lb2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àâ b :: lb2</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk8c"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk8d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ b :: lb2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk8e"><span class="nb">intro</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà b :: lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk8f"><span class="nb">apply</span> Hts.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà b :: lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà lb2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk90"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a = b ‚à® a ‚àà lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà lb2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk91"><span class="nb">destruct</span> Ha; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà lb2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk92"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds b b</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (la1 ++ [b] ++ la2)</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>b ‚àâ lb2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [b] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà lb2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk93"><span class="nb">apply</span> (preceeds_irreflexive preceeds P b Hpa) <span class="kr">in</span> Hab.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span><span class="kt">False</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (la1 ++ [b] ++ la2)</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>b ‚àâ lb2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [b] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà lb2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradict</span> Hab.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk94">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àâ b :: lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk95"><span class="nb">specialize</span> (occurrences_ordering a b la1 la2 lb1 lb2 Heqb Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>lb2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ lb2</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>l = la1 ++ [a] ++ la2</span></span></span><br><span><var>lb1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqb</var><span class="hyp-type"><b>: </b><span>la1 ++ [a] ++ la2 = lb1 ++ [b] ++ lb2</span></span></span><br><span><var>Hpa</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àâ b :: lb2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, lb1 = la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intro</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If <code>a</code> and <code>b</code> are in a <span class="inlinecode"><span class="id" title="var">topologically_sorted</span></span> list <code>lts</code> and <code>a preceeds b</code>
then there is an <code>a</code> before any occurence of <code>b</code> in <code>lts</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk96"><span class="kn">Corollary</span> <span class="nf">top_sort_before</span>
  (<span class="nv">a</span> <span class="nv">b</span> : A)
  (<span class="nv">Hab</span> : preceeds a b)
  (<span class="nv">Ha</span> : a ‚àà l)
  (<span class="nv">l1</span> <span class="nv">l2</span> : list A)
  (<span class="nv">Heq</span> : l = l1 ++ [b] ++ l2)
  : a ‚àà l1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk97"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk98"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A, l = l1 ++ a :: l2</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk99"><span class="nb">destruct</span> Ha <span class="kr">as</span> [la1 [la2 Ha]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>l = la1 ++ a :: la2</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk9a"><span class="nb">specialize</span> (topologically_sorted_occurrences_ordering a b Hab la1 la2 Ha l1 l2 Heq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>l = la1 ++ a :: la2</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, l1 = la1 ++ a :: lab) ‚Üí a ‚àà l1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk9b"><span class="nb">intros</span> [lab Hlab].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>l = la1 ++ a :: la2</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = l1 ++ [b] ++ l2</span></span></span><br><span><var>lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hlab</var><span class="hyp-type"><b>: </b><span>l1 = la1 ++ a :: lab</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk9c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>l = la1 ++ a :: la2</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = (la1 ++ a :: lab) ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà la1 ++ a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk9d"><span class="nb">rewrite</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>la1, la2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>l = la1 ++ a :: la2</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l = (la1 ++ a :: lab) ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà la1 ‚à® a ‚àà a :: lab</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">right</span>; <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
As a corollary of the above, if <code>a preceeds b</code> then <code>a</code> can be found before
<code>b</code> in l.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk9e"><span class="kn">Corollary</span> <span class="nf">top_sort_preceeds</span>
  (<span class="nv">a</span> <span class="nv">b</span> : A)
  (<span class="nv">Hab</span> : preceeds a b)
  (<span class="nv">Ha</span> : a ‚àà l)
  (<span class="nv">Hb</span> : b ‚àà l)
  : <span class="kr">exists</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span>, l = l1 ++ [a] ++ l2 ++ [b] ++ l3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk9f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka0"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Hb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A, l = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka1"><span class="nb">destruct</span> Hb <span class="kr">as</span> [l12 [l3 Hb&#39;]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l12, l3</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = l12 ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka2"><span class="nb">specialize</span> (top_sort_before a b Hab Ha l12 l3 Hb&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l12, l3</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = l12 ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l12
‚Üí <span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A,
    l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka3"><span class="nb">intros</span> Ha12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l12, l3</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = l12 ++ b :: l3</span></span></span><br><span><var>Ha12</var><span class="hyp-type"><b>: </b><span>a ‚àà l12</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka4"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Ha12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l12, l3</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = l12 ++ b :: l3</span></span></span><br><span><var>Ha12</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A, l12 = l1 ++ a :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka5"><span class="nb">destruct</span> Ha12 <span class="kr">as</span> [l1 [l2 Ha12]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l12, l3</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = l12 ++ b :: l3</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha12</var><span class="hyp-type"><b>: </b><span>l12 = l1 ++ a :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka6"><span class="nb">subst</span> l12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l3, l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = (l1 ++ a :: l2) ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka7"><span class="kr">exists</span> <span class="nv">l1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l3, l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = (l1 ++ a :: l2) ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l2</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka8"><span class="kr">exists</span> <span class="nv">l2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l3, l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = (l1 ++ a :: l2) ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l3</span> : list A, l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chka9"><span class="kr">exists</span> <span class="nv">l3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l3, l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = (l1 ++ a :: l2) ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l = l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkaa"><span class="nb">rewrite</span> Hb&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l3, l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = (l1 ++ a :: l2) ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(l1 ++ a :: l2) ++ b :: l3 =
l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkab"><span class="nb">rewrite</span> &lt;- app_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l3, l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>l = (l1 ++ a :: l2) ++ b :: l3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l1 ++ (a :: l2) ++ b :: l3 =
l1 ++ [a] ++ l2 ++ [b] ++ l3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">topologically_sorted_fixed_list</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">topologically_sorted</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkac"><span class="kn">Lemma</span> <span class="nf">toplogically_sorted_remove_last</span>
  {<span class="nv">A</span> : <span class="kt">Type</span>}
  (<span class="nv">preceeds</span> : relation A)
  `{!RelDecision preceeds}
  (l : list A)
  (Hts : topologically_sorted preceeds l)
  (init : list A)
  (final : A)
  (Hinit : l = init ++ [final])
  : topologically_sorted preceeds init.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topologically_sorted preceeds init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkad"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topologically_sorted preceeds init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkae"><span class="nb">subst</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topologically_sorted preceeds init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkaf"><span class="nb">intros</span> a b Hab l1 l2 Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb0"><span class="nb">specialize</span> (Hts a b Hab l1 (l2 ++ [final])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>init ++ [final] = l1 ++ [b] ++ l2 ++ [final]
‚Üí a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb1"><span class="nb">rewrite</span> Hinit <span class="kr">in</span> Hts.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>(l1 ++ [b] ++ l2) ++ [final] =
l1 ++ [b] ++ l2 ++ [final] ‚Üí 
a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb2"><span class="kp">repeat</span> <span class="nb">rewrite</span> &lt;- app_assoc <span class="kr">in</span> Hts.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>l1 ++ [b] ++ l2 ++ [final] =
l1 ++ [b] ++ l2 ++ [final] ‚Üí 
a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb3"><span class="nb">specialize</span> (Hts eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb4"><span class="nb">intro</span> Hnin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb5"><span class="nb">apply</span> Hts.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l2 ++ [final]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb6"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l2 ‚à® a ‚àà [final]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb7"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final, a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>a ‚àâ l2 ++ [final]</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>init = l1 ++ [b] ++ l2</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">preceeds_closed</span>
  {<span class="nv">A</span> : <span class="kt">Type</span>}
  (<span class="nv">preceeds</span> : relation A)
  `{!RelDecision preceeds}
  (s : <span class="nb">set</span> A)
  : <span class="kt">Prop</span>
  :=
  Forall (<span class="kr">fun</span> (<span class="nv">b</span> : A) =&gt; <span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">Hmj</span> : preceeds a b), a ‚àà s) s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb8"><span class="kn">Lemma</span> <span class="nf">preceeds_closed_set_eq</span>
  {<span class="nv">A</span> : <span class="kt">Type</span>}
  (<span class="nv">preceeds</span> : relation A)
  `{!RelDecision preceeds}
  (s1 s2 : <span class="nb">set</span> A)
  (Heq : set_eq s1 s2)
  : preceeds_closed preceeds s1 &lt;-&gt; preceeds_closed preceeds s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>set_eq s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds_closed preceeds s1
‚Üî preceeds_closed preceeds s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkb9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>set_eq s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds_closed preceeds s1
‚Üî preceeds_closed preceeds s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkba"><span class="nb">unfold</span> preceeds_closed.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>set_eq s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a b ‚Üí a ‚àà s1) s1
‚Üî Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a b ‚Üí a ‚àà s2) s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkbb"><span class="kp">repeat</span> <span class="nb">rewrite</span> Forall_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>set_eq s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà s1 ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà s1)
‚Üî (<span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà s2 ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">intros</span> Hpc b Hb a Hab;
  <span class="nb">apply</span> Heq;
  <span class="nb">apply</span> Heq <span class="kr">in</span> Hb;
  <span class="nb">apply</span> (Hpc b Hb);
  <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkbc"><span class="kn">Lemma</span> <span class="nf">topologically_sorted_preceeds_closed_remove_last</span>
  {<span class="nv">A</span> : <span class="kt">Type</span>}
  (<span class="nv">preceeds</span> : relation A)
  `{!RelDecision preceeds}
  (P : A -&gt; <span class="kt">Prop</span>)
  {Hso : StrictOrder (preceeds_P preceeds P)}
  (l : list A)
  (Hl : Forall P l)
  (Hts : topologically_sorted preceeds l)
  (init : list A)
  (final : A)
  (Hinit : l = init ++ [final])
  (Hpc : preceeds_closed preceeds l)
  : preceeds_closed preceeds init.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span>preceeds_closed preceeds l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds_closed preceeds init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkbd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span>preceeds_closed preceeds l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds_closed preceeds init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkbe"><span class="nb">unfold</span> preceeds_closed <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span>Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a b ‚Üí a ‚àà l)
  l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a b ‚Üí a ‚àà init)
  init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkbf"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> Hpc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a b ‚Üí a ‚àà init)
  init</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc0"><span class="nb">rewrite</span> Forall_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds l</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>l = init ++ [final]</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà init ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc1"><span class="nb">subst</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà init ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc2"><span class="nb">intros</span> b Hb a Hab.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc3"><span class="nb">assert</span> (Hb&#39; : b ‚àà (init ++ [final])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà init ++ [final]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chkc4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chkc4"><hr></label><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc5">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà init ++ [final]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc6"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà init ‚à® b ‚àà [final]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A,
  x ‚àà init ++ [final]
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : A, preceeds a x ‚Üí a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc8"><span class="nb">specialize</span> (Hpc b Hb&#39; a Hab).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span>a ‚àà init ++ [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkc9"><span class="nb">apply</span> elem_of_app <span class="kr">in</span> Hpc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hpc</var><span class="hyp-type"><b>: </b><span>a ‚àà init ‚à® a ‚àà [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkca"><span class="nb">destruct</span> Hpc <span class="kr">as</span> [Ha | Ha]; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà [final]</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkcb"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a = final ‚à® a ‚àà []</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkcc"><span class="nb">destruct</span> Ha <span class="kr">as</span> [Heq | Hn]; <span class="kp">try</span> <span class="nb">inversion</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>final</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [final])</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [final])</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a = final</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [final]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkcd"><span class="nb">subst</span> final.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>b ‚àà init ++ [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkce"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Hb&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A, init ++ [a] = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkcf"><span class="nb">destruct</span> Hb&#39; <span class="kr">as</span>  [l1 [l2 Heq]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd0"><span class="nb">specialize</span>
    (topologically_sorted_occurrences_ordering preceeds
      (init ++ [a]) P Hl Hts a b Hab init [] eq_refl l1 l2 Heq
    ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">lab</span> : list A, l1 = init ++ a :: lab) ‚Üí a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd1"><span class="nb">intros</span> [lab Hlab].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = l1 ++ b :: l2</span></span></span><br><span><var>lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hlab</var><span class="hyp-type"><b>: </b><span>l1 = init ++ a :: lab</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd2"><span class="nb">rewrite</span> Hlab <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = (init ++ a :: lab) ++ b :: l2</span></span></span><br><span><var>Hlab</var><span class="hyp-type"><b>: </b><span>l1 = init ++ a :: lab</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà init</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd3"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (init ++ [a])</span></span></span><br><span><var>Hts</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (init ++ [a])</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>b ‚àà init</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = (init ++ a :: lab) ++ b :: l2</span></span></span><br><span><var>Hlab</var><span class="hyp-type"><b>: </b><span>l1 = init ++ a :: lab</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd4"><span class="nb">clear</span> -Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = (init ++ a :: lab) ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd5"><span class="nb">simpl</span> <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = (init ++ a :: lab) ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd6"><span class="nb">rewrite</span> &lt;- app_assoc <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = init ++ (a :: lab) ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd7"><span class="nb">simpl</span> <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>init ++ [a] = init ++ a :: lab ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd8"><span class="nb">apply</span> app_inv_head <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[a] = a :: lab ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkd9"><span class="nb">inversion</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[a] = a :: lab ++ b :: l2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>[] = lab ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkda"><span class="nb">symmetry in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[a] = a :: lab ++ b :: l2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>lab ++ b :: l2 = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkdb"><span class="nb">apply</span> app_eq_nil <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[a] = a :: lab ++ b :: l2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>lab = [] ‚àß b :: l2 = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkdc"><span class="nb">destruct</span> H0 <span class="kr">as</span> [_ H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>init</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l2, lab</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[a] = a :: lab ++ b :: l2</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>b :: l2 = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">top_sort</span>.</span></span></pre><div class="doc">
<a id="lab4"></a><h2 class="section">The topological sorting algorithm</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">A</span>} `{EqDecision A} (preceeds : relation A) `{!RelDecision preceeds}.</span></span></pre><div class="doc">
Iteratively extracts <code>n</code> elements with minimal number of precessors
from a given list.
 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">top_sort_n</span>
  (<span class="nv">n</span> : nat)
  (<span class="nv">l</span> : list A)
  : list A
  :=
  <span class="kr">match</span> n,l <span class="kr">with</span>
  | <span class="mi">0</span>, _ =&gt; []
  | _, [] =&gt; []
  | S n&#39;, a :: l&#39; =&gt;
    <span class="kr">let</span> <span class="nv">min</span> := min_predecessors preceeds l l&#39; a <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">l&#39;&#39;</span> := set_remove min l <span class="kr">in</span>
    min :: top_sort_n n&#39; l&#39;&#39;
  <span class="kr">end</span>.</span></span></pre><div class="doc">
Repeats the procedure above to order all elements from the input list.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">top_sort</span>
  (<span class="nv">l</span> : list A)
  : list A
  := top_sort_n (length l) l.</span></span></pre><div class="doc">
The result of <span class="inlinecode"><span class="id" title="var">top_sort</span></span> and its input are equal as sets.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkdd"><span class="kn">Lemma</span> <span class="nf">top_sort_set_eq</span>
  (<span class="nv">l</span> : list A)
  : set_eq l (top_sort l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkde"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkdf"><span class="nb">unfold</span> top_sort.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort_n (length l) l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke0"><span class="nb">remember</span> (length l) <span class="kr">as</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort_n n l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke1"><span class="nb">generalize dependent</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A, n = length l ‚Üí set_eq l (top_sort_n n l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke2"><span class="nb">induction</span> n; <span class="nb">intros</span>; <span class="nb">destruct</span> l; <span class="kp">try</span> <span class="nb">apply</span> set_eq_refl
  ; <span class="nb">inversion</span> Heqn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l) (top_sort_n (S (length l)) (a :: l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke3"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l)
  (min_predecessors preceeds (a :: l) l a
   :: top_sort_n (length l)
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l) l a =
             a)
         <span class="kr">then</span> l
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l) l a)
               l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke4"><span class="nb">remember</span> (min_predecessors preceeds (a :: l) l a) <span class="kr">as</span> min.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l)
  (min
   :: top_sort_n (length l)
        (<span class="kr">if</span> decide (min = a)
         <span class="kr">then</span> l
         <span class="kr">else</span> a :: set_remove min l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke5"><span class="nb">remember</span> (set_remove min l) <span class="kr">as</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l)
  (min
   :: top_sort_n (length l)
        (<span class="kr">if</span> decide (min = a) <span class="kr">then</span> l <span class="kr">else</span> a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke6"><span class="nb">destruct</span> (decide (min = a)); <span class="kp">try</span> <span class="nb">rewrite</span> e.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l) (a :: top_sort_n (length l) l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chke7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chke7"><hr></label><div class="goal-conclusion">set_eq (a :: l)
  (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l) (a :: top_sort_n (length l) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chke9"><span class="nb">apply</span> set_eq_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort_n (length l) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkea"><span class="nb">specialize</span> (IHn l H0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort_n (length l) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkeb"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort_n (length l) l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S (length l) = length (a :: l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort_n (length l) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l)
  (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chked"><span class="nb">specialize</span> (min_predecessors_in preceeds (a :: l) l a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">min</span> := min_predecessors preceeds (a :: l) l a <span class="kr">in</span>
 min = a ‚à® min ‚àà l)
‚Üí set_eq (a :: l)
    (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkee"><span class="nb">rewrite</span> &lt;- Heqmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">min</span> := min <span class="kr">in</span> min = a ‚à® min ‚àà l)
‚Üí set_eq (a :: l)
    (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkef"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a ‚à® min ‚àà l
‚Üí set_eq (a :: l)
    (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf0"><span class="nb">intros</span> [Heq | Hin]; <span class="kp">try</span> (<span class="nb">elim</span> n0; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  n = length l ‚Üí set_eq l (top_sort_n n l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l)
  (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf1"><span class="nb">specialize</span> (IHn (a :: l&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n = length (a :: l&#39;)
‚Üí set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l)
  (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf2"><span class="nb">specialize</span> (set_remove_length min l Hin).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n = length (a :: l&#39;)
‚Üí set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length l = S (length (set_remove min l))
‚Üí set_eq (a :: l)
    (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf3"><span class="nb">rewrite</span> &lt;- Heql&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n = length (a :: l&#39;)
‚Üí set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length l = S (length l&#39;)
‚Üí set_eq (a :: l)
    (min :: top_sort_n (length l) (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf4"><span class="nb">rewrite</span> &lt;- H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n = length (a :: l&#39;)
‚Üí set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = S (length l&#39;)
‚Üí set_eq (a :: l) (min :: top_sort_n n (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf5"><span class="nb">intro</span> Hlen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>n = length (a :: l&#39;)
‚Üí set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l) (min :: top_sort_n n (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf6"><span class="nb">specialize</span> (IHn Hlen).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (a :: l) (min :: top_sort_n n (a :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkf7"><span class="nb">split</span>; <span class="nb">intros</span> x Hx; <span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Hx;
      <span class="nb">destruct</span> Hx <span class="kr">as</span> [Heq|Hinx]; <span class="kp">try</span> (<span class="nb">subst</span> x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chkf8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chkf8"><hr></label><div class="goal-conclusion">x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="TopSort-v-chkf9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chkf9"><hr></label><div class="goal-conclusion">min ‚àà a :: l</div></blockquote><input class="alectryon-extra-goal-toggle" id="TopSort-v-chkfa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà top_sort_n n (a :: l&#39;)</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chkfa"><hr></label><div class="goal-conclusion">x ‚àà a :: l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkfb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkfc"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkfd"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà a :: l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkfe">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chkff"><span class="nb">destruct</span> (decide (x = min)); <span class="kp">try</span> <span class="nb">subst</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk100" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk100"><hr></label><div class="goal-conclusion">x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk101">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk102">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk103"><span class="nb">specialize</span> (set_remove_3 _ _ l Hinx n1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà set_remove min l
‚Üí x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk104"><span class="nb">rewrite</span> &lt;- Heql&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l&#39; ‚Üí x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk105"><span class="nb">intro</span> Hinx&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br><span><var>Hinx'</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà min :: top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk106"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br><span><var>Hinx'</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà top_sort_n n (a :: l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk107"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br><span><var>Hinx'</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà a :: l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk108"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>x ‚â† min</span></span></span><br><span><var>Hinx'</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk109">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà a :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10a"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà top_sort_n n (a :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà a :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10c"><span class="nb">apply</span> IHn <span class="kr">in</span> Hinx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà a :: l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10d"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Hinx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x = a ‚à® x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10e"><span class="nb">destruct</span> Hinx <span class="kr">as</span> [Heq | Hinx]; <span class="kp">try</span> (<span class="nb">subst</span>; <span class="nb">left</span>; <span class="bp">reflexivity</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà a :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk10f"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq (a :: l&#39;) (top_sort_n n (a :: l&#39;))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min = min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = set_remove min l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min ‚àà l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>n = S (length l&#39;)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk110"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S (length l) = length (a :: l)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a)
        l)
  (top_sort_n (length l)
     (a
      :: set_remove
           (min_predecessors preceeds 
              (a :: l) l a) l))</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚àà l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length l =
S
  (length
     (set_remove
        (min_predecessors preceeds (a :: l) l a)
        l))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x
‚àà set_remove
    (min_predecessors preceeds (a :: l) l a) l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk111"><span class="nb">apply</span> set_remove_1 <span class="kr">in</span> Hinx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S (length l) = length (a :: l)</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>set_eq
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a)
        l)
  (top_sort_n (length l)
     (a
      :: set_remove
           (min_predecessors preceeds 
              (a :: l) l a) l))</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚àà l</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>length l =
S
  (length
     (set_remove
        (min_predecessors preceeds (a :: l) l a)
        l))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hinx</var><span class="hyp-type"><b>: </b><span>x ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk112"><span class="kn">Lemma</span> <span class="nf">top_sort_nodup</span>
  (<span class="nv">l</span> : list A)
  (<span class="nv">Hl</span> : NoDup l)
  : NoDup (top_sort l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk113"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk114"><span class="nb">unfold</span> top_sort.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n (length l) l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk115"><span class="nb">remember</span> (length l) <span class="kr">as</span> len.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n len l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk116"><span class="nb">generalize dependent</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk117"><span class="nb">induction</span> len; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n <span class="mi">0</span> l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk118" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length l</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk118"><hr></label><div class="goal-conclusion">NoDup (top_sort_n (S len) l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk119">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n <span class="mi">0</span> l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk11a"><span class="nb">symmetry in</span> Heqlen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>length l = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n <span class="mi">0</span> l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk11b"><span class="nb">apply</span> length_zero_iff_nil <span class="kr">in</span> Heqlen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>l = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n <span class="mi">0</span> l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk11c"><span class="nb">subst</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n <span class="mi">0</span> [])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk11d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n (S len) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk11e"><span class="nb">destruct</span> l <span class="kr">as</span> [| a l].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup []</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n (S len) [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk11f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk11f"><hr></label><div class="goal-conclusion">NoDup (top_sort_n (S len) (a :: l))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk120">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup []</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n (S len) [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk121">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n (S len) (a :: l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk122"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (min_predecessors preceeds (a :: l) l a
   :: top_sort_n len
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l) l a =
             a)
         <span class="kr">then</span> l
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l) l a)
               l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk123"><span class="nb">assert</span> (Hl&#39; : NoDup l) <span class="bp">by</span> (<span class="nb">inversion</span> Hl; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (min_predecessors preceeds (a :: l) l a
   :: top_sort_n len
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l) l a =
             a)
         <span class="kr">then</span> l
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l) l a)
               l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk124"><span class="nb">assert</span> (Hlen : len = length l) <span class="bp">by</span> (<span class="nb">inversion</span> Heqlen; <span class="bp">reflexivity</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (min_predecessors preceeds (a :: l) l a
   :: top_sort_n len
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l) l a =
             a)
         <span class="kr">then</span> l
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l) l a)
               l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk125"><span class="nb">assert</span> (Hl&#39;&#39; : NoDup (set_remove (min_predecessors preceeds (a :: l) l a) l))
        <span class="bp">by</span> (<span class="nb">apply</span> set_remove_nodup; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (min_predecessors preceeds (a :: l) l a
   :: top_sort_n len
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l) l a =
             a)
         <span class="kr">then</span> l
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l) l a)
               l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk126"><span class="nb">destruct</span> (decide (min_predecessors preceeds (a :: l) l a = a)); <span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a
‚àâ top_sort_n len l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk127" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk127"><hr></label><div class="goal-conclusion">NoDup (top_sort_n len l)</div></blockquote><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk128" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk128"><hr></label><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a
‚àâ top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds (a :: l) l a) l)</div></blockquote><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk129" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk129"><hr></label><div class="goal-conclusion">NoDup
  (top_sort_n len
     (a
      :: set_remove
           (min_predecessors preceeds (a :: l) l a) l))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a
‚àâ top_sort_n len l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12b"><span class="nb">specialize</span> (IHlen l Hl&#39;  Hlen).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a
‚àâ top_sort_n len l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12c"><span class="nb">rewrite</span> e <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup (set_remove a l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ top_sort_n len l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12d"><span class="nb">inversion</span> Hl; <span class="nb">subst</span> x l0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup (set_remove a l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ top_sort_n len l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12e"><span class="nb">intro</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup (set_remove a l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort_n len l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk12f"><span class="nb">elim</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup (set_remove a l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort_n len l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk130"><span class="nb">apply</span> top_sort_set_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup (set_remove a l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort_n len l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk131"><span class="nb">subst</span> len.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span>NoDup (top_sort_n (length l) l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S (length l) = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup (set_remove a l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort_n (length l) l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk132">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (top_sort_n len l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> IHlen; <span class="kp">try</span> <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk133">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a
‚àâ top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds (a :: l) l a) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk134"><span class="nb">intro</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk135"><span class="nb">assert</span> (Hlen&#39; : len = length (a :: set_remove (min_predecessors preceeds (a :: l) l a) l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">len =
length
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a) l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk136" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk136"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk137">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">len =
length
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk138"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">len =
S
  (length
     (set_remove
        (min_predecessors preceeds (a :: l) l a) l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk139"><span class="nb">rewrite</span> &lt;- set_remove_length; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13a"><span class="nb">pose</span> (@min_predecessors_in _ preceeds _ (a :: l) l a) <span class="kr">as</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br><span><var>Hin</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors_in preceeds (a :: l) l a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">min</span> :=
  min_predecessors preceeds (a :: l) l a <span class="kr">in</span>
min = a ‚à® min ‚àà l</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13b"><span class="nb">destruct</span> Hin <span class="kr">as</span> [Heq | Hin]; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13c"><span class="nb">elim</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n len
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13e"><span class="nb">rewrite</span> Hlen&#39; <span class="kr">in</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà top_sort_n
    (length
       (a
        :: set_remove
             (min_predecessors preceeds
                (a :: l) l a) l))
    (a
     :: set_remove
          (min_predecessors preceeds 
             (a :: l) l a) l)</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk13f"><span class="nb">apply</span> (proj2 (top_sort_set_eq (a :: set_remove (min_predecessors preceeds (a :: l) l a) l)))
          <span class="kr">in</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà a
  :: set_remove
       (min_predecessors preceeds (a :: l) l a)
       l</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk140"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a
‚à® min_predecessors preceeds (a :: l) l a
  ‚àà set_remove
      (min_predecessors preceeds (a :: l) l a)
      l</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk141"><span class="nb">destruct</span> Hmin; [<span class="bp">contradiction</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚àà set_remove
    (min_predecessors preceeds (a :: l) l a) l</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk142"><span class="nb">apply</span> set_remove_2 <span class="kr">in</span> H; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚â† min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk143"><span class="nb">elim</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a
‚â† min_predecessors preceeds (a :: l) l a</span></span></span><br><span><var>Hlen'</var><span class="hyp-type"><b>: </b><span>len =
length
  (a
   :: set_remove
        (min_predecessors preceeds 
           (a :: l) l a) l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a =
min_predecessors preceeds (a :: l) l a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk144">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (top_sort_n len
     (a
      :: set_remove
           (min_predecessors preceeds (a :: l) l a) l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk145"><span class="nb">apply</span> IHlen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a) l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk146" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk146"><hr></label><div class="goal-conclusion">len =
length
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a) l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk147">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk148"><span class="nb">constructor</span>; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a
‚àâ set_remove (min_predecessors preceeds (a :: l) l a)
    l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk149"><span class="nb">intro</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a
‚àà set_remove
    (min_predecessors preceeds (a :: l) l a) l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk14a"><span class="nb">apply</span> set_remove_iff <span class="kr">in</span> Ha; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l
‚àß a ‚â† min_predecessors preceeds (a :: l) l a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk14b"><span class="nb">destruct</span> Ha <span class="kr">as</span> [Ha _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk14c"><span class="nb">inversion</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk14d"><span class="nb">elim</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk14e">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">len =
length
  (a
   :: set_remove
        (min_predecessors preceeds (a :: l) l a) l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk14f"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">len =
S
  (length
     (set_remove
        (min_predecessors preceeds (a :: l) l a) l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk150"><span class="nb">rewrite</span> &lt;- set_remove_length; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk151"><span class="nb">pose</span> (@min_predecessors_in _ preceeds _ (a :: l) l a) <span class="kr">as</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Hin</var><span><span class="hyp-body"><b>:= </b><span>min_predecessors_in preceeds (a :: l) l a</span></span><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">min</span> :=
  min_predecessors preceeds (a :: l) l a <span class="kr">in</span>
min = a ‚à® min ‚àà l</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk152"><span class="nb">destruct</span> Hin <span class="kr">as</span> [Heq | Hin]; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk153"><span class="nb">elim</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>len</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHlen</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  NoDup l
  ‚Üí len = length l ‚Üí NoDup (top_sort_n len l)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>Heqlen</var><span class="hyp-type"><b>: </b><span>S len = length (a :: l)</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>Hlen</var><span class="hyp-type"><b>: </b><span>len = length l</span></span></span><br><span><var>Hl''</var><span class="hyp-type"><b>: </b><span>NoDup
  (set_remove
     (min_predecessors preceeds (a :: l) l a) l)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a ‚â† a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a :: l) l a = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a :: l) l a = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">P</span> : A -&gt; <span class="kt">Prop</span>)
  {<span class="nv">Hso</span> : StrictOrder (preceeds_P preceeds P)}
  (<span class="nv">l</span> : list A)
  (<span class="nv">Hl</span> : Forall P l)
  .</span></span></pre><div class="doc">
Under the assumption that <code>preceeds</code> induces a <span class="inlinecode"><span class="id" title="var">StrictOrder</span></span> on the elements of
<code>l</code>, <span class="inlinecode"><span class="id" title="var">top_sort</span></span> <code>l</code> is <span class="inlinecode"><span class="id" title="var">topologically_sorted</span></span>.

<div class="paragraph"> </div>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk154"><span class="kn">Lemma</span> <span class="nf">top_sort_sorted</span> : topologically_sorted preceeds (top_sort l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topologically_sorted preceeds (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk155"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topologically_sorted preceeds (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk156"><span class="nb">intro</span> a; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àâ l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk157"><span class="nb">intro</span> Ha2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk158"><span class="nb">assert</span> (Ha : a ‚àà l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk159" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk159"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15b"><span class="nb">apply</span> top_sort_set_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15c"><span class="nb">rewrite</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1 ++ [b] ++ l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1 ++ b :: l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15e"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l1 ‚à® a ‚àà b :: l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk15f"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà b :: l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk160"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk161">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk162"><span class="nb">unfold</span> top_sort <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort_n (length l) l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk163"><span class="nb">remember</span> (length l) <span class="kr">as</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort_n n l = l1 ++ [b] ++ l2</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk164"><span class="nb">generalize dependent</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk165"><span class="nb">generalize dependent</span> l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list A,
  a ‚àà l2 ‚Üí top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk166"><span class="nb">generalize dependent</span> l1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  a ‚àà l2 ‚Üí top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk167"><span class="nb">generalize dependent</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2 ‚Üí top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk168"><span class="nb">generalize dependent</span> Hab.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">preceeds a b
‚Üí a ‚àà l
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
      a ‚àà l2
      ‚Üí top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk169"><span class="nb">generalize dependent</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">b</span> : A,
  preceeds a b
  ‚Üí a ‚àà l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
        a ‚àà l2
        ‚Üí top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk16a"><span class="nb">generalize dependent</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>n = length l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
  preceeds a b
  ‚Üí a ‚àà l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
        a ‚àà l2
        ‚Üí top_sort_n n l = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk16b"><span class="nb">generalize dependent</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk16c"><span class="nb">clear</span> Hl l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk16d"><span class="nb">induction</span> n; <span class="nb">intros</span>
  ; <span class="kp">try</span> (<span class="nb">symmetry in</span> Heqn;  <span class="nb">apply</span> length_zero_iff_nil <span class="kr">in</span> Heqn; <span class="nb">subst</span> l; <span class="nb">inversion</span> Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length l</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort_n (S n) l = l1 ++ [b] ++ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk16e"><span class="nb">destruct</span> l <span class="kr">as</span> [| a0 l0]; <span class="nb">inversion</span> Hl; <span class="nb">subst</span>; <span class="nb">simpl</span> <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length []</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà []</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk16f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a0 :: l0) l0 a0
:: top_sort_n n
     (<span class="kr">if</span>
       decide
         (min_predecessors preceeds 
            (a0 :: l0) l0 a0 = a0)
      <span class="kr">then</span> l0
      <span class="kr">else</span>
       a0
       :: set_remove
            (min_predecessors preceeds
               (a0 :: l0) l0 a0) l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk16f"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk170">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length []</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà []</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>[] = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> Ha.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk171">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min_predecessors preceeds (a0 :: l0) l0 a0
:: top_sort_n n
     (<span class="kr">if</span>
       decide
         (min_predecessors preceeds 
            (a0 :: l0) l0 a0 = a0)
      <span class="kr">then</span> l0
      <span class="kr">else</span>
       a0
       :: set_remove
            (min_predecessors preceeds
               (a0 :: l0) l0 a0) l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk172"><span class="nb">remember</span> (min_predecessors preceeds (a0 :: l0) l0 a0) <span class="kr">as</span> min.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min
:: top_sort_n n
     (<span class="kr">if</span> decide (min = a0)
      <span class="kr">then</span> l0
      <span class="kr">else</span> a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk173"><span class="nb">remember</span>
      (<span class="kr">match</span> decide (min = a0) <span class="kr">return</span> (<span class="nb">set</span> A) <span class="kr">with</span>
      | <span class="nb">left</span> _ =&gt; l0
      | <span class="nb">right</span> _ =&gt; @cons A a0 (set_remove min l0)
      <span class="kr">end</span>) <span class="kr">as</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk174"><span class="nb">inversion</span> Heqn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk175"><span class="nb">assert</span> (Hall&#39; : Forall P l&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P l&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk176" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk176"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk177">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall P l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk178"><span class="nb">rewrite</span> Forall_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l&#39; ‚Üí P x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk179"><span class="nb">intros</span> x Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk17a"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk17b"><span class="nb">destruct</span> (decide (min = a0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk17c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = a0 :: set_remove min l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk17c"><hr></label><div class="goal-conclusion">P x</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk17d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk17e"><span class="nb">subst</span> a0 l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l, l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà min :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l0 = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk17f"><span class="nb">apply</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l, l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà min :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l0 = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk180">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = a0 :: set_remove min l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk181"><span class="nb">subst</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà a0 :: set_remove min l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk182"><span class="nb">apply</span> elem_of_cons <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x = a0 ‚à® x ‚àà set_remove min l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk183"><span class="nb">destruct</span> Hx <span class="kr">as</span> [Heqx | Hx]; <span class="kp">try</span> (<span class="nb">subst</span>; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà set_remove min l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk184"><span class="nb">apply</span> set_remove_1 <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk185"><span class="nb">apply</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l0 ‚Üí P x</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk186">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk187"><span class="nb">assert</span> (Hlenl&#39; : n = length l&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk188" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk188"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk189">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk18a"><span class="nb">destruct</span> (decide (min = a0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk18b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = a0 :: set_remove min l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk18b"><hr></label><div class="goal-conclusion">n = length l&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk18c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk18d"><span class="nb">subst</span> a0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l, l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà min :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk18e"><span class="nb">subst</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l, l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà min :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l0 = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk18f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = a0 :: set_remove min l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk190"><span class="nb">subst</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = length (a0 :: set_remove min l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk191"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n = S (length (set_remove min l0))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk192"><span class="nb">rewrite</span> &lt;- set_remove_length; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk193"><span class="nb">specialize</span> (min_predecessors_in preceeds (a0 :: l0) l0 a0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">min</span> := min_predecessors preceeds (a0 :: l0) l0 a0
   <span class="kr">in</span>
 min = a0 ‚à® min ‚àà l0) ‚Üí min ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk194"><span class="nb">rewrite</span> &lt;- Heqmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">min</span> := min <span class="kr">in</span> min = a0 ‚à® min ‚àà l0) ‚Üí min ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk195"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a0 ‚à® min ‚àà l0 ‚Üí min ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk196"><span class="nb">intros</span> [Heq&#39; | Hin]; <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Heq'</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk197"><span class="nb">elim</span> n0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Heq'</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk198">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l</span> : list A,
  Forall P l
  ‚Üí n = length l
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
        preceeds a b
        ‚Üí a ‚àà l
          ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
              a ‚àà l2
              ‚Üí top_sort_n n l = l1 ++ [b] ++ l2
                ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk199"><span class="nb">specialize</span> (IHn l&#39; Hall&#39; Hlenl&#39; a b Hab).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk19a"><span class="nb">assert</span> (Hminb : b &lt;&gt; min).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚â† min</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk19b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk19b"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk19c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk19d"><span class="nb">destruct</span> (decide (b = min)); <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b = min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk19e"><span class="nb">subst</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk19f"><span class="nb">specialize</span> (min_predecessors_zero preceeds (a0 :: l0) P Hl l0 a0 eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">min</span> := min_predecessors preceeds (a0 :: l0) l0 a0
   <span class="kr">in</span>
 count_predecessors preceeds (a0 :: l0) min = <span class="mi">0</span>)
‚Üí min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a0"><span class="nb">rewrite</span> &lt;- Heqmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">min</span> := min <span class="kr">in</span>
 count_predecessors preceeds (a0 :: l0) min = <span class="mi">0</span>)
‚Üí min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a1"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">count_predecessors preceeds (a0 :: l0) min = <span class="mi">0</span>
‚Üí min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a2"><span class="nb">intro</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>count_predecessors preceeds (a0 :: l0) min = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a3"><span class="nb">apply</span> zero_predecessors <span class="kr">in</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span>Forall (<span class="kr">Œª</span> <span class="nv">b</span> : A, ¬¨ preceeds b min) (a0 :: l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a4"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> Hmin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà a0 :: l0 ‚Üí ¬¨ preceeds x min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a5"><span class="nb">apply</span> Hmin <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [min] ++ l2
      ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a min</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>¬¨ preceeds a min</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ min :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hmin</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà a0 :: l0 ‚Üí ¬¨ preceeds x min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚â† min</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a6">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a7"><span class="nb">destruct</span> l1 <span class="kr">as</span> [| _min l1]; <span class="nb">inversion</span> Heq
    ; <span class="kp">try</span> (<span class="nb">subst</span> b; <span class="nb">elim</span> Hminb; <span class="bp">reflexivity</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>_min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (_min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>min = _min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a8"><span class="nb">subst</span> _min.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1a9"><span class="nb">destruct</span> (decide (a ‚àà l&#39;)) <span class="kr">as</span> [i|i].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1aa"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ab">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (IHn i l1 l2 Ha2 H4).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ac">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ad"><span class="nb">assert</span> (Hmina : min = a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1ae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br><span><var>Hmina</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1ae"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1af"><span class="nb">destruct</span> (decide (min = a0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1b0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = a0 :: set_remove min l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1b0"><hr></label><div class="goal-conclusion">min = a</div></blockquote><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1b1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br><span><var>Hmina</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1b1"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>min = a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b3"><span class="nb">subst</span> a0 l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l0 = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà min :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l0 = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0, Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l0 = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b4"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l0 = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a = min ‚à® a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l0 = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0, Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l0 = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b5"><span class="nb">destruct</span> Ha <span class="kr">as</span> [Ha|Ha]; [<span class="nb">rewrite</span> Ha; <span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l0 = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (min :: l0) l0 min</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (min :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (min :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l0 = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P min</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0, Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l0 = l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; = a0 :: set_remove min l0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b7"><span class="nb">subst</span> l&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b8"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a = a0 ‚à® a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1b9"><span class="nb">destruct</span> Ha <span class="kr">as</span> [Heqa | Ha&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1ba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha'</var><span class="hyp-type"><b>: </b><span>a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1ba"><hr></label><div class="goal-conclusion">min = a</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1bb">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Heqa</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1bc"><span class="nb">subst</span> a0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a :: l0) l0 a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a :: set_remove min l0)</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a :: set_remove min l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1bd"><span class="nb">rewrite</span> elem_of_cons <span class="kr">in</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a :: l0) l0 a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a :: set_remove min l0)</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>¬¨ (a = a ‚à® a ‚àà set_remove min l0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1be"><span class="bp">contradict</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a :: l0)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a :: l0) l0 a</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a :: set_remove min l0)</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a ‚à® a ‚àà set_remove min l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1bf">--</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha'</var><span class="hyp-type"><b>: </b><span>a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c0"><span class="nb">destruct</span> (decide (a = min)); <span class="kp">try</span> (<span class="nb">symmetry</span>; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha'</var><span class="hyp-type"><b>: </b><span>a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>a ‚â† min</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c1"><span class="nb">apply</span> (set_remove_3 _ _ _ Ha&#39;) <span class="kr">in</span> n1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha'</var><span class="hyp-type"><b>: </b><span>a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ a0 :: set_remove min l0</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>a ‚àà set_remove min l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c2"><span class="bp">contradict</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b, a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: set_remove min l0
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n (a0 :: set_remove min l0) =
      l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha'</var><span class="hyp-type"><b>: </b><span>a ‚àà l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>min ‚â† a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n (a0 :: set_remove min l0) =
(min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length (a0 :: set_remove min l0)</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: set_remove min l0)</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n (a0 :: set_remove min l0) =
l1 ++ b :: l2</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>a ‚àà set_remove min l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà a0 :: set_remove min l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">right</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c3">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>a ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    a ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds a b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà a0 :: l0</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a ‚àà l2</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>a ‚àâ l&#39;</span></span></span><br><span><var>Hmina</var><span class="hyp-type"><b>: </b><span>min = a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c4"><span class="nb">subst</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c5"><span class="nb">apply</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c6"><span class="nb">apply</span> top_sort_set_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà top_sort l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c7"><span class="nb">unfold</span> top_sort.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà top_sort_n (length l&#39;) l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c8"><span class="nb">rewrite</span> &lt;- Hlenl&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà top_sort_n n l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1c9"><span class="nb">rewrite</span> H4.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l1 ++ b :: l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ca"><span class="nb">rewrite</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l1 ‚à® min ‚àà b :: l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1cb"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà b :: l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1cc"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> A</span></span></span><br><span><var>min</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span>min ‚àà l&#39;
‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
    min ‚àà l2
    ‚Üí top_sort_n n l&#39; = l1 ++ [b] ++ l2 ‚Üí <span class="kt">False</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>Heqn</var><span class="hyp-type"><b>: </b><span>S n = length (a0 :: l0)</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>min ‚àà a0 :: l0</span></span></span><br><span><var>Hab</var><span class="hyp-type"><b>: </b><span>preceeds min b</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>min ‚àà l2</span></span></span><br><span><var>Heqmin</var><span class="hyp-type"><b>: </b><span>min =
min_predecessors preceeds (a0 :: l0) l0 a0</span></span></span><br><span><var>Heql'</var><span class="hyp-type"><b>: </b><span>l&#39; =
(<span class="kr">if</span> decide (min = a0)
 <span class="kr">then</span> l0
 <span class="kr">else</span> a0 :: set_remove min l0)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>min :: top_sort_n n l&#39; = (min :: l1) ++ b :: l2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>P a0</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Forall P l0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n = length l0</span></span></span><br><span><var>Hall'</var><span class="hyp-type"><b>: </b><span>Forall P l&#39;</span></span></span><br><span><var>Hlenl'</var><span class="hyp-type"><b>: </b><span>n = length l&#39;</span></span></span><br><span><var>Hminb</var><span class="hyp-type"><b>: </b><span>b ‚â† min</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>top_sort_n n l&#39; = l1 ++ b :: l2</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>min ‚àâ l&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min ‚àà l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<code>lts</code> is a <span class="inlinecode"><span class="id" title="var">topological_sorting</span></span> of <code>l</code> if it has the same elements as <code>l</code>
and is <span class="inlinecode"><span class="id" title="var">toplogically_sorted</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">topological_sorting</span>
  (<span class="nv">l</span> <span class="nv">lts</span> : list A)
  :=
  set_eq l lts /\ topologically_sorted preceeds lts.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1cd"><span class="kn">Corollary</span> <span class="nf">top_sort_correct</span> : topological_sorting l (top_sort l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topological_sorting l (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ce"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topological_sorting l (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1cf"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort l)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1d0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1d0"><hr></label><div class="goal-conclusion">topologically_sorted preceeds (top_sort l)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq l (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> top_sort_set_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">topologically_sorted preceeds (top_sort l)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> top_sort_sorted.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab5"></a><h2 class="section">Maximal elements</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">get_maximal_element</span> := ListExtras.last_error (top_sort l).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d3"><span class="kn">Lemma</span> <span class="nf">maximal_element_in</span>
  (<span class="nv">a</span> : A)
  (<span class="nv">Hmax</span> : get_maximal_element = Some a) :
  a ‚àà l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d5"><span class="nb">unfold</span> get_maximal_element <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d6"><span class="nb">assert</span> (<span class="kr">exists</span> <span class="nv">l&#39;</span>, l&#39; ++ [a] = top_sort l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1d7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1d7"><hr></label><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d8">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1d9"><span class="nb">destruct</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort []) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1da" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1da"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1db">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort []) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1dc"><span class="nb">simpl</span> <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>None = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1dd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1de"><span class="nb">specialize</span> (@exists_last _ (top_sort (a0 :: l0))) <span class="kr">as</span> Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) ‚â† []
‚Üí {l&#39; : list A &amp;
  {a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1df">spec Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) ‚â† []
‚Üí {l&#39; : list A &amp;
  {a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">top_sort (a0 :: l0) ‚â† []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1e0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>{l&#39; : list A &amp;
{a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1e0"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e1"><span class="nb">unfold</span> top_sort.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) ‚â† []
‚Üí {l&#39; : list A &amp;
  {a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">top_sort_n (length (a0 :: l0)) (a0 :: l0) ‚â† []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1e2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>{l&#39; : list A &amp;
{a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1e2"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e3"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) ‚â† []
‚Üí {l&#39; : list A &amp;
  {a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">min_predecessors preceeds (a0 :: l0) l0 a0
:: top_sort_n (length l0)
     (<span class="kr">if</span>
       decide
         (min_predecessors preceeds (a0 :: l0) l0 a0 =
          a0)
      <span class="kr">then</span> l0
      <span class="kr">else</span>
       a0
       :: set_remove
            (min_predecessors preceeds (a0 :: l0) l0
               a0) l0) ‚â† []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1e4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>{l&#39; : list A &amp;
{a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1e4"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e5"><span class="nb">intuition</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>{l&#39; : list A &amp;
{a : A | top_sort (a0 :: l0) = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e6"><span class="nb">destruct</span> Hlast <span class="kr">as</span> [l&#39; [a&#39; Heq]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort (a0 :: l0)) = Some a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) = l&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e7"><span class="nb">rewrite</span> Heq <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (l&#39; ++ [a&#39;]) = Some a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) = l&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort (a0 :: l0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e8"><span class="nb">rewrite</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (l&#39; ++ [a&#39;]) = Some a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) = l&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l&#39;0</span> : list A, l&#39;0 ++ [a] = l&#39; ++ [a&#39;]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1e9"><span class="kr">exists</span> <span class="nv">l&#39;</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (l&#39; ++ [a&#39;]) = Some a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) = l&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l&#39; ++ [a] = l&#39; ++ [a&#39;]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ea"><span class="nb">specialize</span> (last_error_is_last l&#39; a&#39;) <span class="kr">as</span> Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a0 :: l0)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (l&#39; ++ [a&#39;]) = Some a</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>top_sort (a0 :: l0) = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (l&#39; ++ [a&#39;]) = Some a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l&#39; ++ [a] = l&#39; ++ [a&#39;]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1eb">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ec"><span class="nb">assert</span> (a ‚àà (top_sort l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk1ed" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort l</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk1ed"><hr></label><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ee">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ef"><span class="nb">destruct</span> H <span class="kr">as</span> [l&#39; Heq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà top_sort l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f0"><span class="nb">rewrite</span> &lt;- Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l&#39; ++ [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f1"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l&#39; ‚à® a ‚àà [a]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f2"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>l&#39; ++ [a] = top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà [a]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f3">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f4"><span class="nb">specialize</span> (top_sort_correct) <span class="kr">as</span> [Htop _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort l</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f5"><span class="nb">destruct</span> Htop <span class="kr">as</span> [_ Htop].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort l</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>top_sort l ‚äÜ l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f6"><span class="nb">specialize</span> (Htop a H0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l&#39;</span> : list A, l&#39; ++ [a] = top_sort l</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort l</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f7"><span class="kn">Lemma</span> <span class="nf">get_maximal_element_correct</span>
  (<span class="nv">a</span> <span class="nv">max</span> : A)
  (<span class="nv">Hina</span> : a ‚àà l)
  (<span class="nv">Hmax</span> : get_maximal_element = Some max) :
  ~ preceeds max a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds max a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds max a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1f9"><span class="nb">specialize</span> top_sort_correct <span class="kr">as</span> [Hseteq Htop].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>topologically_sorted preceeds (top_sort l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds max a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1fa"><span class="nb">unfold</span> topologically_sorted <span class="kr">in</span> Htop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
  preceeds a b
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
      top_sort l = l1 ++ [b] ++ l2 ‚Üí a ‚àâ l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ preceeds max a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1fb"><span class="nb">intros</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> <span class="nv">b</span> : A,
  preceeds a b
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
      top_sort l = l1 ++ [b] ++ l2 ‚Üí a ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1fc"><span class="nb">specialize</span> (Htop max a contra).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1fd"><span class="nb">assert</span> (Hinmax: max ‚àà l) <span class="bp">by</span> (<span class="nb">apply</span> maximal_element_in; <span class="nb">intuition</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1fe"><span class="nb">assert</span> (Hinatop : a ‚àà (top_sort l)) <span class="bp">by</span> (<span class="nb">apply</span> Hseteq; <span class="nb">intuition</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hinatop</var><span class="hyp-type"><b>: </b><span>a ‚àà top_sort l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk1ff"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Hinatop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hinatop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A, top_sort l = l1 ++ a :: l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk200"><span class="nb">destruct</span> Hinatop <span class="kr">as</span> [prefA [sufA HeqA]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>get_maximal_element = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA, sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: sufA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk201"><span class="nb">unfold</span> get_maximal_element <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA, sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: sufA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk202"><span class="nb">destruct</span> sufA.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk203" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk203"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk204">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk205"><span class="nb">rewrite</span> HeqA <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [a]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk206"><span class="nb">specialize</span> (last_error_is_last prefA a) <span class="kr">as</span> Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [a]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [a]) = Some a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk207"><span class="nb">assert</span> (a = max) <span class="bp">by</span> <span class="nb">intuition</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [a]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [a]) = Some a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a = max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk208"><span class="nb">subst</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk209"><span class="nb">specialize</span> StrictOrder_Irreflexive <span class="kr">as</span> Hirr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span>Irreflexive (preceeds_P preceeds P)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk20a"><span class="nb">unfold</span> Irreflexive <span class="kr">in</span> Hirr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span>Reflexive (complement (preceeds_P preceeds P))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk20b"><span class="nb">unfold</span> complement <span class="kr">in</span> Hirr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span>Reflexive
  (<span class="kr">Œª</span> (<span class="nv">x</span> : {x : A | P x}) (<span class="nv">y</span> : {x : A | P x}),
     preceeds_P preceeds P x y ‚Üí <span class="kt">False</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk20c"><span class="nb">unfold</span> Reflexive <span class="kr">in</span> Hirr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk20d"><span class="nb">assert</span> (P max).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P max</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk20e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P max</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk20e"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk20f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P max</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk210"><span class="nb">rewrite</span> Forall_forall <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí P x</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P max</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk211"><span class="nb">apply</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : A, x ‚àà l ‚Üí P x</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">max ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk212">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">x</span> : {x : A | P x},
  preceeds_P preceeds P x x ‚Üí <span class="kt">False</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk213"><span class="nb">specialize</span> (Hirr (exist _ max H)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max max</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [max] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ [max]) = Some max</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [max]</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P max</span></span></span><br><span><var>Hirr</var><span class="hyp-type"><b>: </b><span>preceeds_P preceeds P (max ‚Üæ H) (max ‚Üæ H)
‚Üí <span class="kt">False</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk214">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (top_sort l) = Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk215"><span class="nb">rewrite</span> HeqA <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: a0 :: sufA) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk216"><span class="nb">specialize</span> (@exists_last _ (a0 :: sufA)) <span class="kr">as</span> Hex.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: a0 :: sufA) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>a0 :: sufA ‚â† []
‚Üí {l&#39; : list A &amp;
  {a : A | a0 :: sufA = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk217">spec Hex.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: a0 :: sufA) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>a0 :: sufA ‚â† []
‚Üí {l&#39; : list A &amp;
  {a : A | a0 :: sufA = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a0 :: sufA ‚â† []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk218" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: a0 :: sufA) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>{l&#39; : list A &amp; {a : A | a0 :: sufA = l&#39; ++ [a]}}</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk218"><hr></label><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk219"><span class="nb">intuition</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: a0 :: sufA) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>{l&#39; : list A &amp; {a : A | a0 :: sufA = l&#39; ++ [a]}}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21a"><span class="nb">destruct</span> Hex <span class="kr">as</span> [l&#39; [a&#39; Heq]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: a0 :: sufA) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21b"><span class="nb">rewrite</span> Heq <span class="kr">in</span> Hmax.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21c"><span class="nb">specialize</span> (last_error_is_last (prefA ++ a :: l&#39;) a&#39;) <span class="kr">as</span> Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error ((prefA ++ a :: l&#39;) ++ [a&#39;]) =
Some a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21d"><span class="nb">rewrite</span> &lt;- app_assoc <span class="kr">in</span> Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ (a :: l&#39;) ++ [a&#39;]) =
Some a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21e"><span class="nb">simpl</span> <span class="kr">in</span> Hlast.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some a&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk21f"><span class="nb">assert</span> (a&#39; = max) <span class="bp">by</span> <span class="nb">intuition</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l1</span> <span class="nv">l2</span> : list A,
  top_sort l = l1 ++ [a] ++ l2 ‚Üí max ‚àâ l2</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some a&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a&#39; = max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk220"><span class="nb">specialize</span> (Htop prefA (l&#39; ++ [a&#39;])).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a] ++ l&#39; ++ [a&#39;]
‚Üí max ‚àâ l&#39; ++ [a&#39;]</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: a0 :: sufA</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some a&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a&#39; = max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk221"><span class="nb">rewrite</span> Heq <span class="kr">in</span> HeqA.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ [a] ++ l&#39; ++ [a&#39;]
‚Üí max ‚àâ l&#39; ++ [a&#39;]</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: l&#39; ++ [a&#39;]</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some a&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a&#39; = max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk222"><span class="nb">specialize</span> (Htop HeqA).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>max ‚àâ l&#39; ++ [a&#39;]</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: l&#39; ++ [a&#39;]</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [a&#39;]</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [a&#39;]) =
Some a&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a&#39; = max</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk223"><span class="nb">subst</span> a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>Htop</var><span class="hyp-type"><b>: </b><span>max ‚àâ l&#39; ++ [max]</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [max]</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: l&#39; ++ [max]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk224"><span class="bp">contradict</span> Htop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [max]</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: l&#39; ++ [max]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">max ‚àà l&#39; ++ [max]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk225"><span class="nb">apply</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [max]</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: l&#39; ++ [max]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">max ‚àà l&#39; ‚à® max ‚àà [max]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk226"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>a, max</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>Hina</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br><span><var>prefA</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>sufA, l'</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hmax</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Hseteq</var><span class="hyp-type"><b>: </b><span>set_eq l (top_sort l)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>preceeds max a</span></span></span><br><span><var>Hinmax</var><span class="hyp-type"><b>: </b><span>max ‚àà l</span></span></span><br><span><var>Hlast</var><span class="hyp-type"><b>: </b><span>last_error (prefA ++ a :: l&#39; ++ [max]) =
Some max</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a0 :: sufA = l&#39; ++ [max]</span></span></span><br><span><var>HeqA</var><span class="hyp-type"><b>: </b><span>top_sort l = prefA ++ a :: l&#39; ++ [max]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">max ‚àà [max]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk227"><span class="kn">Lemma</span> <span class="nf">get_maximal_element_some</span>
  (<span class="nv">Hne</span> : l &lt;&gt; []) :
  <span class="kr">exists</span> <span class="nv">a</span>, get_maximal_element = Some a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : A, get_maximal_element = Some a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk228"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : A, get_maximal_element = Some a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk229"><span class="nb">unfold</span> get_maximal_element.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P l</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>l ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : A, last_error (top_sort l) = Some a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk22a"><span class="nb">destruct</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>[] ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : A, last_error (top_sort []) = Some a</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="TopSort-v-chk22b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br></div><label class="goal-separator" for="TopSort-v-chk22b"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a0</span> : A, last_error (top_sort (a :: l0)) = Some a0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk22c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P []</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>[] ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : A, last_error (top_sort []) = Some a</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk22d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a0</span> : A, last_error (top_sort (a :: l0)) = Some a0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk22e"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a0</span> : A,
  Some
    (List.<span class="nb">last</span>
       (top_sort_n (length l0)
          (<span class="kr">if</span>
            decide
              (min_predecessors preceeds (a :: l0) l0
                 a = a)
           <span class="kr">then</span> l0
           <span class="kr">else</span>
            a
            :: set_remove
                 (min_predecessors preceeds (a :: l0)
                    l0 a) l0))
       (min_predecessors preceeds (a :: l0) l0 a)) =
  Some a0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="TopSort-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="TopSort-v-chk22f"><span class="kr">exists</span> (<span class="nv">List</span>.<span class="nb">last</span>
       (top_sort_n (length l0)
          (<span class="kr">if</span> decide (min_predecessors preceeds (a :: l0) l0 a = a)
           <span class="kr">then</span> l0
           <span class="kr">else</span> a :: set_remove (min_predecessors preceeds (a :: l0) l0 a) l0))
       (min_predecessors preceeds (a :: l0) l0 a)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision A</span></span></span><br><span><var>preceeds</var><span class="hyp-type"><b>: </b><span>relation A</span></span></span><br><span><var>RelDecision0</var><span class="hyp-type"><b>: </b><span>RelDecision preceeds</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>A ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hso</var><span class="hyp-type"><b>: </b><span>StrictOrder (preceeds_P preceeds P)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list A</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Forall P (a :: l0)</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>a :: l0 ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (List.<span class="nb">last</span>
     (top_sort_n (length l0)
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l0) l0 a =
             a)
         <span class="kr">then</span> l0
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l0) l0
                  a) l0))
     (min_predecessors preceeds (a :: l0) l0 a)) =
Some
  (List.<span class="nb">last</span>
     (top_sort_n (length l0)
        (<span class="kr">if</span>
          decide
            (min_predecessors preceeds (a :: l0) l0 a =
             a)
         <span class="kr">then</span> l0
         <span class="kr">else</span>
          a
          :: set_remove
               (min_predecessors preceeds (a :: l0) l0
                  a) l0))
     (min_predecessors preceeds (a :: l0) l0 a))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">top_sort</span>.</span></span></pre></article></body></html>